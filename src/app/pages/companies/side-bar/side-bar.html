<!-- Sidebar -->
<aside class="employer-sidebar">
  <p-card styleClass="company-profile-card">
    <div class="company-profile">
      <div class="company-logo-wrapper">
        @if (logo()) {
          <p-avatar 
            [image]="logo()" 
            [title]="companyName || 'شعار الشركة'"
            shape="circle"
            size="large"
            styleClass="company-logo-avatar"
            (onImageError)="handleImageError($event)"
          ></p-avatar>
        } @else {
          <p-avatar 
            [label]="getCompanyInitials()"
            shape="circle"
            size="large"
            styleClass="company-logo-avatar company-logo-placeholder"
            [title]="companyName || 'شعار الشركة'"
          ></p-avatar>
        }
      </div>
      
      <h3 class="company-name">{{companyName}}</h3>
      <p-tag [value]="industry" severity="info" styleClass="company-type-tag"></p-tag>

      <p-divider></p-divider>

      <div class="company-stats">
        <div class="company-stat">
          <div class="stat-number">{{ activeJobsCount() }}</div>
          <div class="stat-label">وظائف نشطة</div>
        </div>
        <div class="company-stat">
          <div class="stat-number">{{ newApplicantsCount() }}</div>
          <div class="stat-label">متقدم جديد</div>
        </div>
      </div>

      <p-button
        label="تحديث ملف الشركة"
        icon="pi pi-pencil"
        [routerLink]="['/companies/profile']"
        styleClass="p-button-primary p-button-sm w-full company-profile-btn"
        [outlined]="false"
      ></p-button>
    </div>
  </p-card>

  <nav class="employer-nav-container">
    <ul class="employer-nav">
      <li class="employer-nav-item">
        <a
          routerLink="/companies/dashboard"
          class="employer-nav-link"
          routerLinkActive="active"
          data-tab="overview"
          pRipple
        >
          <i class="pi pi-chart-bar employer-nav-icon"></i>
          <span>نظرة عامة</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLink="/companies/jobs" 
          class="employer-nav-link" 
          routerLinkActive="active" 
          data-tab="jobs-list"
          pRipple
        >
          <i class="pi pi-search employer-nav-icon"></i>
          <span>الوظائف</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLink="/companies/manage-jobs" 
          class="employer-nav-link" 
          routerLinkActive="active" 
          data-tab="jobs"
          pRipple
        >
          <i class="pi pi-briefcase employer-nav-icon"></i>
          <span>إدارة الوظائف</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLink="/companies/applicants" 
          class="employer-nav-link" 
          routerLinkActive="active" 
          data-tab="candidates"
          pRipple
        >
          <i class="pi pi-users employer-nav-icon"></i>
          <span>المتقدمون</span>
          <p-badge value="12" severity="danger"></p-badge>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          class="employer-nav-link" 
          routerLinkActive="active" 
          data-tab="analytics"
          pRipple
        >
          <i class="pi pi-chart-line employer-nav-icon"></i>
          <span>التحليلات</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLink="/companies/messages" 
          class="employer-nav-link" 
          routerLinkActive="active" 
          data-tab="messages"
          pRipple
        >
          <i class="pi pi-envelope employer-nav-icon"></i>
          <span>الرسائل</span>
          <p-badge value="3" severity="danger"></p-badge>
        </a>
      </li>
      <li class="employer-nav-item">
        <a
          routerLink="/companies/company-data"
          class="employer-nav-link"
          routerLinkActive="active"
          data-tab="company-profile"
          pRipple
        >
          <i class="pi pi-building employer-nav-icon"></i>
          <span>جميع الشركات</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLinkActive="active" 
          class="employer-nav-link" 
          data-tab="billing"
          pRipple
        >
          <i class="pi pi-credit-card employer-nav-icon"></i>
          <span>الفواتير والدفع</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLinkActive="active" 
          class="employer-nav-link" 
          data-tab="settings"
          pRipple
        >
          <i class="pi pi-cog employer-nav-icon"></i>
          <span>الإعدادات</span>
        </a>
      </li>
    </ul>
  </nav>
</aside>
