<!-- Sidebar -->
<aside class="employer-sidebar">
  <!-- Sidebar Skeleton -->
  @if (loading()) {
  <p-card styleClass="company-profile-card">
    <div class="company-profile">
      <div class="company-logo-wrapper">
        <p-skeleton width="80px" height="80px" shape="circle" styleClass="mb-0"></p-skeleton>
      </div>
      <p-skeleton width="60%" height="1.5rem" styleClass="mb-2"></p-skeleton>
      <p-skeleton width="100px" height="1.8rem" styleClass="mb-2"></p-skeleton>
      <p-divider></p-divider>
      <div class="company-stats">
        <div class="company-stat">
          <p-skeleton width="40px" height="1.8rem" styleClass="mb-1"></p-skeleton>
          <p-skeleton width="80px" height="1rem"></p-skeleton>
        </div>
        <div class="company-stat">
          <p-skeleton width="40px" height="1.8rem" styleClass="mb-1"></p-skeleton>
          <p-skeleton width="80px" height="1rem"></p-skeleton>
        </div>
      </div>
      <p-skeleton width="100%" height="2.5rem" styleClass="mb-0"></p-skeleton>
    </div>
  </p-card>
  }

  <!-- Actual Sidebar -->
  @if (!loading()) {
  <p-card styleClass="company-profile-card">
    <div class="company-profile">
      <div class="company-logo-wrapper">
        @if (logo()) {
          <p-avatar 
            [image]="logo()" 
            [title]="companyName || 'شعار الشركة'"
            shape="circle"
            size="large"
            styleClass="company-logo-avatar"
            (onImageError)="handleImageError($event)"
          ></p-avatar>
        } @else {
          <p-avatar 
            [label]="getCompanyInitials()"
            shape="circle"
            size="large"
            styleClass="company-logo-avatar company-logo-placeholder"
            [title]="companyName || 'شعار الشركة'"
          ></p-avatar>
        }
      </div>
      
      <h3 class="company-name">{{companyName}}</h3>
      <p-tag [value]="industry" severity="info" styleClass="company-type-tag"></p-tag>

      <p-divider></p-divider>

      <div class="company-stats">
        <div class="company-stat">
          <div class="stat-number">{{ activeJobsCount() }}</div>
          <div class="stat-label">وظائف نشطة</div>
        </div>
        <div class="company-stat">
          <div class="stat-number">{{ newApplicantsCount() }}</div>
          <div class="stat-label">متقدم جديد</div>
        </div>
      </div>

      <p-button
        label="تحديث ملف الشركة"
        icon="pi pi-pencil"
        [routerLink]="['/companies/profile']"
        styleClass="p-button-primary p-button-sm w-full company-profile-btn"
        [outlined]="false"
      ></p-button>
    </div>
  </p-card>
  }

  <!-- Navigation Skeleton -->
  @if (loading()) {
  <nav class="employer-nav-container">
    <ul class="employer-nav">
      @for (item of [1,2,3,4,5,6,7,8,9]; track item) {
        <li class="employer-nav-item">
          <div class="employer-nav-link skeleton-nav-link">
            <p-skeleton width="20px" height="20px" shape="circle" styleClass="skeleton-nav-icon"></p-skeleton>
            <p-skeleton width="100px" height="1rem" styleClass="skeleton-nav-text"></p-skeleton>
          </div>
        </li>
      }
    </ul>
  </nav>
  }

  <!-- Actual Navigation -->
  @if (!loading()) {
  <nav class="employer-nav-container">
    <ul class="employer-nav">
      <li class="employer-nav-item">
        <a
          routerLink="/companies/dashboard"
          class="employer-nav-link"
          routerLinkActive="active"
          data-tab="overview"
          pRipple
        >
          <i class="pi pi-chart-bar employer-nav-icon"></i>
          <span>نظرة عامة</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLink="/companies/jobs" 
          class="employer-nav-link" 
          routerLinkActive="active" 
          data-tab="jobs-list"
          pRipple
        >
          <i class="pi pi-search employer-nav-icon"></i>
          <span>الوظائف</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLink="/companies/manage-jobs" 
          class="employer-nav-link" 
          routerLinkActive="active" 
          data-tab="jobs"
          pRipple
        >
          <i class="pi pi-briefcase employer-nav-icon"></i>
          <span>إدارة الوظائف</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLink="/companies/applicants" 
          class="employer-nav-link" 
          routerLinkActive="active" 
          data-tab="candidates"
          pRipple
        >
          <i class="pi pi-users employer-nav-icon"></i>
          <span>المتقدمون</span>
          <!-- <p-badge value="12" severity="danger"></p-badge> -->
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLink="/companies/interviews" 
          class="employer-nav-link" 
          routerLinkActive="active" 
          data-tab="interviews"
          pRipple
        >
          <i class="pi pi-calendar employer-nav-icon"></i>
          <span>المقابلات</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLink="/companies/analytics"
          class="employer-nav-link" 
          routerLinkActive="active" 
          data-tab="analytics"
          pRipple
        >
          <i class="pi pi-chart-line employer-nav-icon"></i>
          <span>التحليلات</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLink="/companies/messages" 
          class="employer-nav-link" 
          routerLinkActive="active" 
          data-tab="messages"
          pRipple
        >
          <i class="pi pi-envelope employer-nav-icon"></i>
          <span>الرسائل</span>
          <!-- <p-badge value="3" severity="danger"></p-badge> -->
        </a>
      </li>
      <li class="employer-nav-item">
        <a
          routerLink="/companies/company-data"
          class="employer-nav-link"
          routerLinkActive="active"
          data-tab="company-profile"
          pRipple
        >
          <i class="pi pi-building employer-nav-icon"></i>
          <span>جميع الشركات</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLinkActive="active" 
          class="employer-nav-link" 
          data-tab="billing"
          pRipple
        >
          <i class="pi pi-credit-card employer-nav-icon"></i>
          <span>الفواتير والدفع</span>
        </a>
      </li>
      <li class="employer-nav-item">
        <a 
          routerLinkActive="active" 
          class="employer-nav-link" 
          data-tab="settings"
          pRipple
        >
          <i class="pi pi-cog employer-nav-icon"></i>
          <span>الإعدادات</span>
        </a>
      </li>
    </ul>
  </nav>
  }
</aside>
