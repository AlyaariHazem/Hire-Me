<!-- CV Tab -->
<div id="cv">
  <div class="dashboard-header">
    <h1 class="dashboard-title">السيرة الذاتية</h1>
    <div class="dashboard-actions">
      <a routerLink="/jobseeker/cv-builder" class="btn btn-secondary">
        <i class="pi pi-file-edit"></i>
        منشئ السيرة الذاتية
      </a>
      <a routerLink="/jobseeker/profile" class="btn btn-primary">
        <i class="pi pi-upload"></i>
        {{ hasResume ? 'تحديث الملف' : 'رفع ملف' }}
      </a>
    </div>
  </div>

  @if (isLoading) {
    <div class="content-card">
      <div class="loading-state">
        <p-skeleton width="100%" height="200px"></p-skeleton>
      </div>
    </div>
  } @else {
    <!-- CV Status Card -->
    <div class="content-card">
      <div class="cv-status-section">
        <div class="cv-status-header">
          <div class="cv-status-icon">
            @if (hasResume) {
              <i class="pi pi-check-circle" style="color: #10b981; font-size: 3rem;"></i>
            } @else {
              <i class="pi pi-exclamation-circle" style="color: #f59e0b; font-size: 3rem;"></i>
            }
          </div>
          <div class="cv-status-info">
            <h2>{{ hasResume ? 'السيرة الذاتية مرفوعة' : 'لا توجد سيرة ذاتية مرفوعة' }}</h2>
            <p>{{ hasResume ? 'لديك سيرة ذاتية مرفوعة ويمكنك تحديثها أو تنزيلها' : 'قم برفع سيرة ذاتية أو أنشئ واحدة باستخدام منشئ السيرة الذاتية' }}</p>
          </div>
        </div>

        @if (hasResume) {
          <div class="cv-file-info">
            <div class="cv-file-details">
              <i class="pi pi-file" style="font-size: 2rem; color: #3b82f6;"></i>
              <div>
                <div class="cv-file-name">{{ resumeDisplayName }}</div>
                <div class="cv-file-actions">
                  <p-button
                    label="معاينة"
                    icon="pi pi-eye"
                    styleClass="p-button-secondary p-button-sm"
                    (onClick)="previewResume()"
                  ></p-button>
                  <p-button
                    label="تنزيل"
                    icon="pi pi-download"
                    styleClass="p-button-primary p-button-sm"
                    (onClick)="downloadResume()"
                  ></p-button>
                </div>
              </div>
            </div>
          </div>
        }
      </div>
    </div>

    <!-- CV Options Cards -->
    <div class="cv-options-grid">
      <!-- Upload CV Card -->
      <div class="cv-option-card">
        <div class="cv-option-icon">
          <i class="pi pi-upload" style="font-size: 2.5rem; color: #3b82f6;"></i>
        </div>
        <h3>رفع ملف السيرة الذاتية</h3>
        <p>قم برفع ملف PDF أو Word الخاص بسيرتك الذاتية</p>
        <p-button
          label="{{ hasResume ? 'تحديث الملف' : 'رفع ملف' }}"
          icon="pi pi-upload"
          styleClass="p-button-primary"
          (onClick)="navigateToProfile()"
        ></p-button>
      </div>

      <!-- Build CV Card -->
      <div class="cv-option-card">
        <div class="cv-option-icon">
          <i class="pi pi-file-edit" style="font-size: 2.5rem; color: #10b981;"></i>
        </div>
        <h3>منشئ السيرة الذاتية</h3>
        <p>أنشئ سيرة ذاتية احترافية مجاناً باستخدام منشئ السيرة الذاتية</p>
        <p-button
          label="إنشاء سيرة ذاتية"
          icon="pi pi-file-edit"
          styleClass="p-button-success"
          (onClick)="navigateToBuilder()"
        ></p-button>
      </div>
    </div>

    <!-- Tips Section -->
    <div class="content-card">
      <h3 class="section-title">
        <i class="pi pi-lightbulb"></i>
        نصائح لإعداد سيرة ذاتية احترافية
      </h3>
      <ul class="cv-tips-list">
        <li>تأكد من تحديث معلوماتك الشخصية والمهنية بشكل دوري</li>
        <li>استخدم صيغة PDF للحصول على أفضل عرض</li>
        <li>احرص على أن تكون السيرة الذاتية واضحة ومنظمة</li>
        <li>أضف معلومات الاتصال الصحيحة</li>
        <li>اذكر المهارات والخبرات ذات الصلة بالوظيفة</li>
      </ul>
    </div>
  }
</div>
