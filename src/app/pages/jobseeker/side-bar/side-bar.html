<aside class="dashboard-sidebar">
  <!-- Profile Skeleton -->
  @if (profile === null) {
  <div class="sidebar-profile">
    <div class="skeleton-avatar-container">
      <p-skeleton width="120px" height="120px" shape="circle" styleClass="skeleton-avatar"></p-skeleton>
      <p-skeleton width="100px" height="1.5rem" styleClass="skeleton-edit-badge"></p-skeleton>
    </div>
    <p-skeleton width="150px" height="1.5rem" styleClass="mb-2"></p-skeleton>
    <p-skeleton width="120px" height="1rem" styleClass="mb-3"></p-skeleton>
    <p-skeleton width="100%" height="0.5rem" styleClass="mb-2"></p-skeleton>
    <p-skeleton width="80px" height="1rem" styleClass="mb-3"></p-skeleton>
    <p-skeleton width="100%" height="2.5rem" styleClass="mb-0"></p-skeleton>
  </div>
  }

  <!-- Actual Profile -->
  @if (profile !== null) {
  <div class="sidebar-profile">
    <label class="avatar-uploader">
  <img
    [src]="
      previewUrl ||
      toAbsolute(profile.user.profile_picture || profile.user.profile_picture) ||
      'images/candidate-3.jpg'
    "
    class="profile-avatar"
    [alt]="jobSeekerName || 'ุตูุฑุฉ ุงูููู ุงูุดุฎุตู'"
    [title]="jobSeekerName || 'ุตูุฑุฉ ุงูููู ุงูุดุฎุตู'"
    title="ุตูุฑุฉ ุงูููู ุงูุดุฎุตู"
  />
  <input type="file" accept="image/*" (change)="onAvatarChange($event)" />
  <span class="edit-badge">ุชุบููุฑ ุงูุตูุฑุฉ</span>
</label>

    <h3 class="profile-name">
  {{ jobSeekerName || 'ุงุณู ุงููุณุชุฎุฏู' }}
</h3>
    <p class="profile-title">{{ jobSeekerTitle || 'ูุง ููุฌุฏ ุนููุงู ูุธููู' }}</p>

    <div class="avatar-actions" *ngIf="selectedFile">
      <button
        class="btn btn-primary"
        (click)="saveAvatar()"
        [disabled]="saving"
      >
        ุญูุธ ุงูุตูุฑุฉ
      </button>
      <button
        class="btn btn-secondary"
        (click)="cancelAvatar()"
        [disabled]="saving"
      >
        ุฅูุบุงุก
      </button>
    </div>
    <div class="profile-completion">
      <div class="profile-progress"></div>
      <p class="profile-progress-text">75% ููุชูู</p>
    </div>

    <a
      routerLink="/jobseeker/profile"
      class="btn btn-small btn-primary employer-nav-link btn-full-width"
    >
      ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู
    </a>
  </div>
  }

  <!-- Navigation Skeleton -->
  @if (profile === null) {
  <nav>
    <ul class="sidebar-nav">
      @for (item of [1,2,3,4,5,6,7,8]; track item) {
      <li class="sidebar-nav-item">
        <div class="sidebar-nav-link skeleton-nav-link">
          <p-skeleton width="24px" height="24px" shape="circle" styleClass="skeleton-nav-icon"></p-skeleton>
          <p-skeleton width="120px" height="1rem" styleClass="skeleton-nav-text"></p-skeleton>
        </div>
      </li>
      }
    </ul>
  </nav>
  }

  <!-- Actual Navigation -->
  @if (profile !== null) {
  <nav>
    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
        <a
          routerLink="/jobseeker/dashboard"
          routerLinkActive="active"
          class="sidebar-nav-link employer-nav-link "
          data-tab="overview"
        >
          <span class="nav-icon">๐</span>
          ูุธุฑุฉ ุนุงูุฉ
        </a>
      </li>
      <li class="sidebar-nav-item">
        <a
          routerLink="/jobseeker/applications"
          routerLinkActive="active"
          class="sidebar-nav-link employer-nav-link "
          data-tab="applications"
        >
          <span class="nav-icon">๐</span>
          ุทูุจุงุชู
        </a>
      </li>
      <li class="sidebar-nav-item">
        <a
          routerLink="/jobseeker/interviews"
          routerLinkActive="active"
          class="sidebar-nav-link employer-nav-link "
          data-tab="interviews"
        >
          <span class="nav-icon">๐</span>
          ุงูููุงุจูุงุช
        </a>
      </li>
      <li class="sidebar-nav-item">
        <a
          routerLink="/jobseeker/saved-jobs"
          routerLinkActive="active"
          class="sidebar-nav-link employer-nav-link "
          data-tab="saved-jobs"
        >
          <span class="nav-icon">๐พ</span>
          ุงููุธุงุฆู ุงููุญููุธุฉ
        </a>
      </li>
      <li class="sidebar-nav-item">
        <a
          routerLink="/jobseeker/profile"
          routerLinkActive="active"
          class="sidebar-nav-link employer-nav-link "
          data-tab="profile"
        >
          <span class="nav-icon">๐ค</span>
          ุงูููู ุงูุดุฎุตู
        </a>
      </li>
      <li class="sidebar-nav-item">
        <a
          routerLink="/jobseeker/messages"
          routerLinkActive="active"
          class="sidebar-nav-link employer-nav-link "
          data-tab="messages"
        >
          <span class="nav-icon">๐ฌ</span>
          ุงูุฑุณุงุฆู
        </a>
      </li>
      <li class="sidebar-nav-item">
        <a
          routerLink="/jobseeker/cv"
          routerLinkActive="active"
          class="sidebar-nav-link employer-nav-link "
          routerLinkActive="active"
          data-tab="cv"
        >
          <span class="nav-icon">๐</span>
          ุงูุณูุฑุฉ ุงูุฐุงุชูุฉ
        </a>
      </li>
      <li class="sidebar-nav-item">
        <a
          routerLink="/jobseeker/alerts"
          routerLinkActive="active"
          class="sidebar-nav-link employer-nav-link "
          routerLinkActive="active"
          data-tab="alerts"
        >
          <span class="nav-icon">๐</span>
          ุชูุจููุงุช ุงููุธุงุฆู
        </a>
      </li>
      <li class="sidebar-nav-item">
        <a
          routerLink="/jobseeker/settings"
          routerLinkActive="active"
          class="sidebar-nav-link employer-nav-link "
          routerLinkActive="active"
          data-tab="settings"
        >
          <span class="nav-icon">โ๏ธ</span>
          ุงูุฅุนุฏุงุฏุงุช
        </a>
      </li>
    </ul>
  </nav>
  }
</aside>
