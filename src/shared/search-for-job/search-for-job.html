
<!-- Hero Section -->
<section class="companies-hero">
  <div class="container">
    <h1>ุงูุชุดู ุฃูุถู ุงูุดุฑูุงุช</h1>
    <p>ุชุตูุญ ุงูุดุฑูุงุช ุงูุฑุงุฆุฏุฉ ูู ุงูููู ูุงูุชุดู ุงููุฑุต ุงููุธูููุฉ ุงููุชุงุญุฉ</p>

    <div class="companies-search">
      <input type="text" placeholder="ุงุจุญุซ ุนู ุงูุดุฑูุงุช..." [(ngModel)]="searchTerm" (input)="applyFilters()" />
      <button type="button" (click)="applyFilters()">ุจุญุซ</button>
    </div>
  </div>
</section>

<!-- Filters -->
<section class="companies-filters">
  <div class="container">
    <div class="filters-container">
      <div class="filter-group">
        <label>ุงููุทุงุน:</label>
        <select class="filter-select" [(ngModel)]="industryFilter" (change)="applyFilters()" aria-label="ุงููุทุงุน">
          <option value="">ุฌููุน ุงููุทุงุนุงุช</option>
          @for (industry of INDUSTRY_TYPES; track industry.value) {
            <option [value]="industry.value">{{ industry.label }}</option>
          }
        </select>
      </div>

      <div class="filter-group">
        <label>ุงููุฏููุฉ:</label>
        <select class="filter-select" [(ngModel)]="locationFilter" (change)="applyFilters()" aria-label="ุงููุฏููุฉ">
          <option value="">ุฌููุน ุงููุฏู</option>
          @for (city of cities; track city.value) {
            <option [value]="city.value">{{ city.label }}</option>
          }
        </select>
      </div>

      <div class="filter-group">
        <label>ุญุฌู ุงูุดุฑูุฉ:</label>
        <select class="filter-select" [(ngModel)]="sizeFilter" (change)="applyFilters()" aria-label="ุญุฌู ุงูุดุฑูุฉ">
          <option value="">ุฌููุน ุงูุฃุญุฌุงู</option>
          @for (size of COMPANY_SIZES; track size.value) {
            <option [value]="size.value">{{ size.label }}</option>
          }
        </select>
      </div>

      <button class="btn btn-primary" (click)="applyFilters()">
        ุชุทุจูู ุงูููุงุชุฑ
      </button>
    </div>
  </div>
</section>

<!-- Stats -->
<section class="companies-stats">
  <div class="container">
    <div class="stats-grid">
      <div class="stat-item">
        <div class="stat-number">250+</div>
        <div class="stat-label">ุดุฑูุฉ ูุณุฌูุฉ</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">1,500+</div>
        <div class="stat-label">ูุธููุฉ ูุชุงุญุฉ</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">15</div>
        <div class="stat-label">ูุทุงุน ูุฎุชูู</div>
      </div>
      <div class="stat-item">
        <div class="stat-number">8</div>
        <div class="stat-label">ูุญุงูุธุฉ</div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Companies -->
@if (featuredCompanies.length > 0) {
  <section class="featured-companies">
    <div class="container">
      <h2 class="featured-title">ุงูุดุฑูุงุช ุงููููุฒุฉ</h2>
      <div class="featured-grid">
        @for (company of featuredCompanies; track company.id || company.slug) {
          <div class="featured-company" (click)="viewCompany(company.slug || company.id)">
            <img
              [src]="company.logo"
              [alt]="company.name"
              [title]="company.name"
              class="featured-logo"
              (error)="handleImageError($event)"
            />
            <div class="featured-name">{{ company.name }}</div>
            <div class="featured-jobs">{{ company.openJobs }} ูุธุงุฆู ูุชุงุญุฉ</div>
          </div>
        }
      </div>
    </div>
  </section>
}

<!-- Loading State -->
@if (loading) {
  <section class="companies-section">
    <div class="container">
      <div class="loading-state">
        <p>ุฌุงุฑู ุชุญููู ุงูุดุฑูุงุช...</p>
      </div>
    </div>
  </section>
}

<!-- Companies Grid -->
@if (!loading && companiesData.length > 0) {
  <section class="companies-section">
    <div class="container">
      <div class="companies-grid">
        @for (company of companiesData; track company.id || company.slug) {
          <div class="company-card">
            <div class="company-header">
              <div class="company-info">
                <img 
                  [src]="company.logo" 
                  [alt]="company.name"
                  [title]="company.name"
                  class="company-logo"
                  (error)="handleImageError($event)"
                >
                <div class="company-details">
                  <h3>{{ company.name }}</h3>
                  <div class="company-industry">{{ company.industry }}</div>
                  <div class="company-location">๐ {{ company.location }}</div>
                </div>
              </div>
            </div>

            <div class="company-body">
              <p class="company-description">{{ company.description }}</p>
              @if (company.tags && company.tags.length > 0) {
                <div class="company-tags">
                  @for (tag of company.tags; track tag) {
                    <span class="company-tag">{{ tag }}</span>
                  }
                </div>
              }

              <div class="company-stats-row">
                @if (company.employees) {
                  <div class="company-stat">
                    <div class="company-stat-number">{{ company.employees }}</div>
                    <div class="company-stat-label">ููุธู</div>
                  </div>
                }
                <div class="company-stat">
                  <div class="company-stat-number">{{ company.openJobs }}</div>
                  <div class="company-stat-label">ูุธููุฉ ูุชุงุญุฉ</div>
                </div>
                @if (company.followers > 0) {
                  <div class="company-stat">
                    <div class="company-stat-number">{{ company.followers }}</div>
                    <div class="company-stat-label">ูุชุงุจุน</div>
                  </div>
                }
              </div>

              <div class="company-actions">
                <button
                  [ngClass]="{ 'btn-follow': true, 'following': company.following }"
                  (click)="toggleFollow(company.slug || company.id)">
                  {{ company.following ? 'ูุชุงุจุน' : 'ูุชุงุจุนุฉ' }}
                </button>
                <button class="btn-view-jobs" (click)="viewCompany(company.slug || company.id)">ุนุฑุถ ุงููุธุงุฆู</button>
              </div>
            </div>
          </div>
        }
      </div>
    </div>
  </section>
}

<!-- Empty State -->
@if (!loading && companiesData.length === 0) {
  <section class="companies-section">
    <div class="container">
      <div class="empty-state">
        <p>ูุง ุชูุฌุฏ ุดุฑูุงุช ูุชุงุญุฉ</p>
      </div>
    </div>
  </section>
}

<!-- Footer -->
<app-footer></app-footer>