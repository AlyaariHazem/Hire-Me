import{a as fn,b as jt,c as bt,d as It,e as _n,f as bn}from"./chunk-34WLAVMP.js";import{a as cn,b as gn}from"./chunk-XPIOTSQM.js";import{a as gt,b as Ft,e as ft,f as mn,g as pn}from"./chunk-24WO4TJW.js";import{a as _t,b as Tt}from"./chunk-XVKU2DDR.js";import{c as pt,l as Be,m as Dt}from"./chunk-OFLIZNNV.js";import{a as X}from"./chunk-XF4HR25N.js";import{$ as ue,$a as Ve,Na as Ce,O as Kt,Oa as St,Sa as Ie,Ta as At,U as Qt,V as We,W as De,Y as en,aa as B,ab as Et,ca as de,cb as Le,da as ce,db as an,ea as Fe,eb as z,fa as ve,fb as Z,ga as me,hb as rn,ib as ln,ja as Te,jb as sn,la as je,ma as tn,na as nn,ob as un,pb as dn,qa as mt,qb as pe,sa as on,ua as he,va as He,wa as kt}from"./chunk-NMGWV7AC.js";import{A as Xt,C as Re,D as _e,E as V,F as ct,G as be,H as Zt,b as se,c as Wt,d as Ee,h as ut,i as Ht,j as Me,q as fe,u as Gt,v as qt,x as Yt,y as dt,z as Y}from"./chunk-W3AUZEDK.js";import"./chunk-OVMELZYD.js";import{$b as Se,B as ne,Bb as Nt,Cb as Jt,Eb as x,H as ie,Ha as E,I as Oe,Ia as Bt,Jb as f,K as ge,Kb as d,L as J,Ma as r,P as oe,Q as ot,Sa as zt,Tb as wt,U as C,Ub as Pt,Vb as D,Wb as q,Xb as rt,Ya as A,Yb as l,Z as _,Za as at,Zb as v,_ as b,_b as h,ab as H,ac as $t,bc as P,cb as G,cc as O,dc as k,ec as lt,f as I,fc as le,g as te,ha as ae,hc as S,ic as Q,j as $,lc as Ut,ma as re,n as U,nb as ye,ob as p,pb as g,qb as ke,qc as Ae,rb as F,rc as Rt,sb as M,sc as st,t as Lt,tb as w,u as R,ub as m,v as W,vb as i,wb as n,xb as c,yc as Ot}from"./chunk-H26T33HS.js";import{a as j,b as L}from"./chunk-VOSPIT4N.js";var vt=class o{http=C(fe);auth=C(ct);jobService=C(pt);applicationService=C(Le);trigger$=new I;loaded=!1;loading=!1;dashboard$=this.trigger$.pipe(R(()=>this.auth.isLoggedIn()),ne(()=>this.loadDashboardData()),J(()=>{this.loaded=!0,this.loading=!1}),ie({bufferSize:1,refCount:!0}));dashboard=_e(this.dashboard$,{initialValue:{stats:null,recentApplications:[],savedJobs:[]}});_snapshot={stats:null,recentApplications:[],savedJobs:[]};get snapshot(){return this._snapshot}loadDashboardData(){let t=this.jobService.getJobStatistics().pipe(W(s=>(console.error("Failed to load stats",s),$(null)))),e=this.applicationService.getMyApplications({page_size:3}).pipe(U(s=>s.results||[]),W(s=>(console.error("Failed to load applications",s),$([])))),a=this.jobService.getBookmarkedJobs({page_size:5}).pipe(U(s=>s.results&&s.results.length>0?s.results.map(u=>u.job?u.job:u):[]),W(s=>(console.error("Failed to load saved jobs",s),$([]))));return Lt({stats:t,recentApplications:e,savedJobs:a}).pipe(U(s=>(this._snapshot=s,s)))}ensureLoaded(){this.auth.isLoggedIn()&&(this.loaded||this.loading||(this.loading=!0,this.trigger$.next()))}refresh(){this.auth.isLoggedIn()&&(this.loading||(this.loaded=!1,this.loading=!0,this.trigger$.next()))}reset(){this.loaded=!1,this.loading=!1,this._snapshot={stats:null,recentApplications:[],savedJobs:[]}}static \u0275fac=function(e){return new(e||o)};static \u0275prov=oe({token:o,factory:o.\u0275fac,providedIn:"root"})};var vn=()=>[1,2,3,4],kn=()=>[1,2,3],hn=o=>["/jobs/job-details",o],Sn=o=>["/company",o],An=(o,t,e,a)=>({"status-pending":o,"status-reviewed":t,"status-accepted":e,"status-rejected":a}),En=()=>[1,2];function Dn(o,t){o&1&&(i(0,"div",1),c(1,"p-skeleton",6),i(2,"div",7),c(3,"p-skeleton",8)(4,"p-skeleton",9),n()())}function Fn(o,t){if(o&1&&(i(0,"div",1)(1,"h1",10),l(2),n(),i(3,"div",7)(4,"a",11),l(5,"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0648\u0638\u0627\u0626\u0641"),n(),i(6,"a",12),l(7,"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n()()()),o&2){let e=d();r(2),h("\u0645\u0631\u062D\u0628\u0627\u064B\u060C ",e.userData.user.first_name||"\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645","!")}}function Tn(o,t){o&1&&(i(0,"div",13)(1,"div",14),c(2,"p-skeleton",15)(3,"p-skeleton",16),n(),c(4,"p-skeleton",17)(5,"p-skeleton",18),n())}function jn(o,t){o&1&&(i(0,"div",2),M(1,Tn,6,0,"div",13,F),n()),o&2&&(r(),w(S(0,vn)))}function In(o,t){if(o&1&&(i(0,"div",2)(1,"div",13)(2,"div",14)(3,"span",19),l(4,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0648\u0638\u0627\u0626\u0641"),n(),i(5,"span",20),l(6,"\u{1F4DD}"),n()(),i(7,"div",21),l(8),n(),i(9,"div",22),l(10,"\u0645\u062A\u0627\u062D\u0629 \u0627\u0644\u0622\u0646"),n()(),i(11,"div",13)(12,"div",14)(13,"span",19),l(14,"\u0648\u0638\u0627\u0626\u0641 \u0645\u0645\u064A\u0632\u0629"),n(),i(15,"span",20),l(16,"\u2B50"),n()(),i(17,"div",21),l(18),n(),i(19,"div",22),l(20,"\u0645\u0645\u064A\u0632\u0629"),n()(),i(21,"div",13)(22,"div",14)(23,"span",19),l(24,"\u0648\u0638\u0627\u0626\u0641 \u0639\u0627\u062C\u0644\u0629"),n(),i(25,"span",20),l(26,"\u{1F5D3}\uFE0F"),n()(),i(27,"div",21),l(28),n(),i(29,"div",22),l(30,"\u0639\u0627\u062C\u0644\u0629"),n()(),i(31,"div",13)(32,"div",14)(33,"span",19),l(34,"\u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"),n(),i(35,"span",20),l(36,"\u{1F4BE}"),n()(),i(37,"div",21),l(38),n(),i(39,"div",22),l(40),n()()()),o&2){let e=d();r(8),v(e.stats.total_jobs||0),r(10),v(e.stats.featured_jobs||0),r(10),v(e.stats.urgent_jobs||0),r(10),v(e.stats.saved_jobs_count||e.savedJobs.length),r(2),h("+",e.stats.daily_saved||0," \u0627\u0644\u064A\u0648\u0645")}}function Vn(o,t){o&1&&(i(0,"div",23),c(1,"p-skeleton",24)(2,"p-skeleton",25)(3,"p-skeleton",26),n())}function Ln(o,t){o&1&&(i(0,"div",3),M(1,Vn,4,0,"div",23,F),n()),o&2&&(r(),w(S(0,vn)))}function Bn(o,t){o&1&&(i(0,"div",3)(1,"a",27)(2,"div",28),l(3,"\u{1F50D}"),n(),i(4,"h3",29),l(5,"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0648\u0638\u0627\u0626\u0641"),n(),i(6,"p",30),l(7,"\u0627\u0643\u062A\u0634\u0641 \u0622\u0644\u0627\u0641 \u0627\u0644\u0641\u0631\u0635 \u0627\u0644\u0648\u0638\u064A\u0641\u064A\u0629"),n()(),i(8,"a",31)(9,"div",28),l(10,"\u{1F4C4}"),n(),i(11,"h3",29),l(12,"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n(),i(13,"p",30),l(14,"\u0623\u0646\u0634\u0626 \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629 \u0627\u062D\u062A\u0631\u0627\u0641\u064A\u0629"),n()(),i(15,"a",32)(16,"div",28),l(17,"\u{1F3E2}"),n(),i(18,"h3",29),l(19,"\u062A\u0635\u0641\u062D \u0627\u0644\u0634\u0631\u0643\u0627\u062A"),n(),i(20,"p",30),l(21,"\u0627\u0643\u062A\u0634\u0641 \u0623\u0641\u0636\u0644 \u0623\u0645\u0627\u0643\u0646 \u0627\u0644\u0639\u0645\u0644"),n()(),i(22,"a",33)(23,"div",28),l(24,"\u{1F4CB}"),n(),i(25,"h3",29),l(26,"\u0637\u0644\u0628\u0627\u062A\u064A"),n(),i(27,"p",30),l(28,"\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0648\u0638\u064A\u0641"),n()()())}function zn(o,t){o&1&&(i(0,"div",37),c(1,"p-skeleton",38),i(2,"div",39),c(3,"p-skeleton",40)(4,"p-skeleton",41)(5,"p-skeleton",42),n(),c(6,"p-skeleton",43),n())}function Nn(o,t){o&1&&(i(0,"div",5)(1,"div",34),c(2,"p-skeleton",35)(3,"p-skeleton",36),n(),M(4,zn,7,0,"div",37,F),n()),o&2&&(r(4),w(S(0,kn)))}function Jn(o,t){if(o&1&&(i(0,"span"),l(1),n()),o&2){let e=d().$implicit;r(),v(e.job.city)}}function $n(o,t){if(o&1){let e=x();i(0,"div",48),c(1,"img",49),i(2,"div",39)(3,"h4",50)(4,"a",51),f("click",function(s){return _(e),b(s.stopPropagation())}),l(5),n()(),i(6,"a",52),f("click",function(s){return _(e),b(s.stopPropagation())}),l(7),n(),i(8,"div",53)(9,"span"),l(10),Ae(11,"date"),n(),G(12,Jn,2,1,"span",47),n()(),i(13,"span",54),l(14),n()()}if(o&2){let e=t.$implicit;r(),m("src",e.job.company.logo||"images/company-logo-1.jpg",E)("alt",e.job.company.name)("title",e.job.company.name),r(3),m("routerLink",Q(14,hn,e.job.slug)),r(),h(" ",e.job.title," "),r(),m("routerLink",Q(16,Sn,e.job.company.slug)),r(),h(" ",e.job.company.name," "),r(3),h("\u062A\u0642\u062F\u0645\u062A ",st(11,11,e.applied_at,"short")),r(2),m("ngIf",e.job.city),r(),m("ngClass",Ut(18,An,e.status==="pending",e.status==="reviewed",e.status==="accepted",e.status==="rejected")),r(),h(" ",e.status==="pending"?"\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629":e.status==="reviewed"?"\u062A\u0645\u062A \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629":e.status==="accepted"?"\u0645\u0642\u0628\u0648\u0644":"\u0645\u0631\u0641\u0648\u0636"," ")}}function Un(o,t){o&1&&(i(0,"p"),l(1,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A \u062D\u0627\u0644\u064A\u0627\u064B"),n())}function Rn(o,t){if(o&1&&(i(0,"div",5)(1,"div",34)(2,"h2",44),l(3,"\u0622\u062E\u0631 \u0627\u0644\u0637\u0644\u0628\u0627\u062A"),n(),i(4,"a",45),l(5,"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644"),n()(),G(6,$n,15,23,"div",46)(7,Un,2,0,"p",47),n()),o&2){let e=d();r(6),m("ngForOf",e.recentApplications),r(),m("ngIf",e.recentApplications.length===0)}}function Wn(o,t){o&1&&(i(0,"div",55),c(1,"p-skeleton",38),i(2,"div",56),c(3,"p-skeleton",40)(4,"p-skeleton",41)(5,"p-skeleton",42),n()())}function Hn(o,t){o&1&&(i(0,"div",5)(1,"div",34),c(2,"p-skeleton",35)(3,"p-skeleton",36),n(),M(4,Wn,6,0,"div",55,F),n()),o&2&&(r(4),w(S(0,En)))}function Gn(o,t){if(o&1&&(i(0,"span"),l(1),n()),o&2){let e=d().$implicit;r(),Se(" ",e.salary_min,"-",e.salary_max," \u0631\u064A\u0627\u0644 ")}}function qn(o,t){o&1&&(i(0,"span"),l(1,"\u0627\u0644\u0631\u0627\u062A\u0628 \u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),n())}function Yn(o,t){if(o&1&&(i(0,"span"),l(1),n()),o&2){let e=d().$implicit;r(),h(" \u2022 ",e.city)}}function Xn(o,t){if(o&1){let e=x();i(0,"div",59),c(1,"img",60),i(2,"div",56)(3,"h4",61)(4,"a",62),f("click",function(s){return _(e),b(s.stopPropagation())}),l(5),n()(),i(6,"a",63),f("click",function(s){return _(e),b(s.stopPropagation())}),l(7),n(),i(8,"p",64),G(9,Gn,2,2,"span",47)(10,qn,2,0,"span",47)(11,Yn,2,1,"span",47),n()()()}if(o&2){let e=t.$implicit,a=d(2);r(),m("src",e.company.logo||"images/company-logo-1.jpg",E)("alt",e.company.name)("title",e.company.name),r(3),m("routerLink",Q(10,hn,e.slug)),r(),h(" ",e.title," "),r(),m("routerLink",a.getCompanyRoute(e.company)),r(),h(" ",e.company.name," "),r(2),m("ngIf",e.salary_min&&e.salary_max),r(),m("ngIf",!e.salary_min&&!e.salary_max),r(),m("ngIf",e.city)}}function Kn(o,t){o&1&&(i(0,"p"),l(1,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0648\u0638\u0627\u0626\u0641 \u0645\u062D\u0641\u0648\u0638\u0629"),n())}function Qn(o,t){if(o&1&&(i(0,"div",5)(1,"div",34)(2,"h2",44),l(3,"\u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"),n(),i(4,"a",57),l(5,"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644"),n()(),G(6,Xn,12,12,"div",58)(7,Kn,2,0,"p",47),n()),o&2){let e=d();r(6),m("ngForOf",e.savedJobs),r(),m("ngIf",e.savedJobs.length===0)}}var Ge=class o{userData;stats=null;recentApplications=[];savedJobs=[];userService=C(en);dashboardStore=C(vt);breadcrumbService=C(un);ngOnInit(){this.userService.user$.subscribe(t=>{this.userData=t}),this.dashboardStore.ensureLoaded(),this.dashboardStore.dashboard$.subscribe(t=>{this.stats=t.stats,this.recentApplications=t.recentApplications,this.savedJobs=t.savedJobs}),this.breadcrumbService.refresh$.subscribe(()=>{this.refreshDashboard(),this.dashboardStore.refresh()})}refreshDashboard(){this.dashboardStore.refresh()}getCompanyRoute(t){return["/company",t.slug||t.id]}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-dashboard"]],standalone:!1,decls:12,vars:10,consts:[["id","overview",1,"tab-content","active"],[1,"dashboard-header"],[1,"stats-grid"],[1,"quick-actions"],[1,"content-grid"],[1,"content-card"],["width","300px","height","2.5rem","styleClass","mb-2"],[1,"dashboard-actions"],["width","150px","height","2.5rem","styleClass","mb-0"],["width","180px","height","2.5rem","styleClass","mb-0"],[1,"dashboard-title"],["routerLink","/jobs",1,"btn","btn-primary"],["routerLink","/jobseeker/cv-builder",1,"btn","btn-secondary"],[1,"stat-card"],[1,"stat-header"],["width","120px","height","1rem","styleClass","mb-0"],["width","24px","height","24px","styleClass","mb-0"],["width","60px","height","2rem","styleClass","mb-2"],["width","100px","height","1rem","styleClass","mb-0"],[1,"stat-title"],[1,"stat-icon"],[1,"stat-value"],[1,"stat-change"],[1,"quick-action-card","skeleton-quick-action"],["width","48px","height","48px","shape","circle","styleClass","mb-2"],["width","150px","height","1.3rem","styleClass","mb-2"],["width","200px","height","1rem","styleClass","mb-0"],["routerLink","/jobs",1,"quick-action-card"],[1,"quick-action-icon"],[1,"quick-action-title"],[1,"quick-action-desc"],["routerLink","/jobseeker/cv-builder",1,"quick-action-card"],["routerLink","/companies-list",1,"quick-action-card"],["routerLink","/jobseeker/applications",1,"quick-action-card"],[1,"card-header"],["width","150px","height","1.5rem","styleClass","mb-0"],["width","80px","height","1rem","styleClass","mb-0"],[1,"application-item","skeleton-application-item"],["width","50px","height","50px","shape","circle","styleClass","skeleton-logo"],[1,"application-info"],["width","200px","height","1.3rem","styleClass","mb-2"],["width","150px","height","1rem","styleClass","mb-2"],["width","180px","height","0.9rem","styleClass","mb-0"],["width","100px","height","1.5rem","styleClass","mb-0"],[1,"card-title"],["href","#applications","onclick","switchTab('applications')",1,"card-action"],["class","application-item",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"application-item"],["title","Company logo",1,"application-logo",3,"src","alt","title"],[1,"application-title"],[1,"application-title-link",3,"click","routerLink"],[1,"application-company",3,"click","routerLink"],[1,"application-meta"],[1,"application-status",3,"ngClass"],[1,"saved-job-item","skeleton-saved-job-item"],[1,"saved-job-info"],["href","#saved-jobs","onclick","switchTab('saved-jobs')",1,"card-action"],["class","saved-job-item",4,"ngFor","ngForOf"],[1,"saved-job-item"],["title","Company logo",1,"saved-job-logo",3,"src","alt","title"],[1,"saved-job-title"],[1,"saved-job-title-link",3,"click","routerLink"],[1,"saved-job-company",3,"click","routerLink"],[1,"saved-job-meta"]],template:function(e,a){e&1&&(i(0,"div",0),p(1,Dn,5,0,"div",1),p(2,Fn,8,1,"div",1),p(3,jn,3,1,"div",2),p(4,In,41,5,"div",2),p(5,Ln,3,1,"div",3),p(6,Bn,29,0,"div",3),i(7,"div",4),p(8,Nn,6,1,"div",5),p(9,Rn,8,2,"div",5),p(10,Hn,6,1,"div",5),p(11,Qn,8,2,"div",5),n()()),e&2&&(r(),g(a.stats===null?1:-1),r(),g(a.stats!==null?2:-1),r(),g(a.stats===null?3:-1),r(),g(a.stats!==null?4:-1),r(),g(a.stats===null?5:-1),r(),g(a.stats!==null?6:-1),r(2),g(a.stats===null?8:-1),r(),g(a.stats!==null?9:-1),r(),g(a.stats===null?10:-1),r(),g(a.stats!==null?11:-1))},dependencies:[se,Wt,Ee,Y,z,ut],styles:[".application-company[_ngcontent-%COMP%], .saved-job-company[_ngcontent-%COMP%]{color:var(--primary-color, #2563eb);text-decoration:none;font-weight:500;cursor:pointer;transition:all .2s ease;display:inline-block}.application-company[_ngcontent-%COMP%]:hover, .saved-job-company[_ngcontent-%COMP%]:hover{color:var(--primary-dark, #1e40af);text-decoration:underline}.application-company[_ngcontent-%COMP%]:active, .saved-job-company[_ngcontent-%COMP%]:active{color:var(--primary-dark, #1e40af)}.application-title-link[_ngcontent-%COMP%], .saved-job-title-link[_ngcontent-%COMP%]{color:inherit;text-decoration:none;cursor:pointer;transition:all .2s ease;display:block}.application-title-link[_ngcontent-%COMP%]:hover, .saved-job-title-link[_ngcontent-%COMP%]:hover{color:var(--primary-color, #2563eb);text-decoration:underline}.application-title-link[_ngcontent-%COMP%]:active, .saved-job-title-link[_ngcontent-%COMP%]:active{color:var(--primary-dark, #1e40af)}.application-title[_ngcontent-%COMP%], .saved-job-title[_ngcontent-%COMP%]{margin:0}.application-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .saved-job-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}.skeleton-quick-action[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:1.5rem;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;text-decoration:none;color:inherit;transition:transform .2s,box-shadow .2s;pointer-events:none}.skeleton-application-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;border-bottom:1px solid var(--border-color, #e0e0e0)}.skeleton-application-item[_ngcontent-%COMP%]   .application-info[_ngcontent-%COMP%]{flex:1}.skeleton-saved-job-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;border-bottom:1px solid var(--border-color, #e0e0e0)}.skeleton-saved-job-item[_ngcontent-%COMP%]   .saved-job-info[_ngcontent-%COMP%]{flex:1}.skeleton-logo[_ngcontent-%COMP%]{flex-shrink:0}"]})};var Zn=()=>[1,2,3,4,5,6,7,8];function ei(o,t){o&1&&(i(0,"div",1)(1,"div",2),c(2,"p-skeleton",3)(3,"p-skeleton",4),n(),c(4,"p-skeleton",5)(5,"p-skeleton",6)(6,"p-skeleton",7)(7,"p-skeleton",8)(8,"p-skeleton",9),n())}function ti(o,t){if(o&1){let e=x();i(0,"div",18)(1,"button",19),f("click",function(){_(e);let s=d(2);return b(s.saveAvatar())}),l(2," \u062D\u0641\u0638 \u0627\u0644\u0635\u0648\u0631\u0629 "),n(),i(3,"button",20),f("click",function(){_(e);let s=d(2);return b(s.cancelAvatar())}),l(4," \u0625\u0644\u063A\u0627\u0621 "),n()()}if(o&2){let e=d(2);r(),m("disabled",e.saving),r(2),m("disabled",e.saving)}}function ni(o,t){if(o&1){let e=x();i(0,"div",1)(1,"label",10),c(2,"img",11),i(3,"input",12),f("change",function(s){_(e);let u=d();return b(u.onAvatarChange(s))}),n(),i(4,"span",13),l(5,"\u062A\u063A\u064A\u064A\u0631 \u0627\u0644\u0635\u0648\u0631\u0629"),n()(),i(6,"h3",14),l(7),n(),i(8,"p",15),l(9),n(),G(10,ti,5,2,"div",16),i(11,"a",17),l(12," \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A "),n()()}if(o&2){let e=d();r(2),m("src",e.previewUrl||e.toAbsolute(e.profile.user.profile_picture||e.profile.user.profile_picture)||"images/candidate-3.jpg",E)("alt",e.jobSeekerName||"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A")("title",e.jobSeekerName||"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A"),r(5),h(" ",e.jobSeekerName||"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",`
`),r(2),v(e.jobSeekerTitle||"\u0644\u0627 \u064A\u0648\u062C\u062F \u0639\u0646\u0648\u0627\u0646 \u0648\u0638\u064A\u0641\u064A"),r(),m("ngIf",e.selectedFile)}}function ii(o,t){o&1&&(i(0,"li",22)(1,"div",23),c(2,"p-skeleton",24)(3,"p-skeleton",25),n()())}function oi(o,t){o&1&&(i(0,"nav")(1,"ul",21),M(2,ii,4,0,"li",22,F),n()()),o&2&&(r(2),w(S(0,Zn)))}function ai(o,t){o&1&&c(0,"span",40)}function ri(o,t){o&1&&c(0,"span",41)}function li(o,t){if(o&1&&(i(0,"nav")(1,"ul",21)(2,"li",22)(3,"a",26),c(4,"i",27),l(5," \u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 "),n()(),i(6,"li",22)(7,"a",28),c(8,"i",29),l(9," \u0637\u0644\u0628\u0627\u062A\u064A "),n()(),i(10,"li",22)(11,"a",30),c(12,"i",31),l(13," \u0627\u0644\u0645\u0642\u0627\u0628\u0644\u0627\u062A "),n()(),i(14,"li",22)(15,"a",32),c(16,"i",33),l(17," \u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629 "),n()(),i(18,"li",22)(19,"a",34),c(20,"i",35),l(21," \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A "),n()(),i(22,"li",22)(23,"a",36),c(24,"i",37),l(25," \u0627\u0644\u0631\u0633\u0627\u0626\u0644 "),n()(),i(26,"li",22)(27,"a",38),c(28,"i",39),i(29,"span"),l(30,"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n(),p(31,ai,1,0,"span",40)(32,ri,1,0,"span",41),n()(),i(33,"li",22)(34,"a",42),c(35,"i",43),l(36," \u0627\u0644\u0648\u062B\u0627\u0626\u0642 "),n()()()()),o&2){let e=d();r(31),g(e.hasResume?31:32)}}var ze=class o{constructor(t){this.fb=t}basicForm;baseUrl=V.apiBaseUrl;profile=null;logo$=ae(null);previewUrl=null;isBlobPreview=!1;jobSeekerName="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645";jobSeekerTitle="";hasResume=!1;selectedFile=null;saving=!1;destroy$=new I;profileStore=C(be);http=C(fe);toast=C(De);ngOnInit(){this.basicForm=this.fb.group({company_logo:[""]}),this.profileStore.ensureLoaded(),this.profileStore.profile$.pipe(ge(this.destroy$),R(t=>!!t)).subscribe(t=>{this.profile=t,this.jobSeekerName=t.user.first_name+" "+t.user.last_name||this.jobSeekerName,this.jobSeekerTitle=t.job_seeker?.title||t.job_seeker?.profession||t.title||t.profession||t.bio||t.user?.bio||"";let e=t.profile?.company_logo||t.user.profile_picture||null;this.previewUrl=this.toAbsolute(e),this.logo$.set(this.previewUrl),this.isBlobPreview=!1,this.hasResume=!!t.resume||!!t.job_seeker?.resume})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.previewUrl&&this.isBlobPreview&&URL.revokeObjectURL(this.previewUrl)}onAvatarChange(t){let e=t.target.files?.[0]||null;if(this.selectedFile=e,this.previewUrl&&this.isBlobPreview&&URL.revokeObjectURL(this.previewUrl),e)this.previewUrl=URL.createObjectURL(e),this.logo$.set(this.previewUrl),this.isBlobPreview=!0;else{let a=this.profile?.profile?.company_logo||this.profile?.user?.profile_picture||null;this.previewUrl=this.toAbsolute(a),this.logo$.set(this.previewUrl),this.isBlobPreview=!1}}cancelAvatar(){this.previewUrl&&this.isBlobPreview&&URL.revokeObjectURL(this.previewUrl),this.selectedFile=null;let t=this.profile?.profile?.company_logo||this.profile?.user?.profile_picture||null;this.previewUrl=this.toAbsolute(t),this.logo$.set(this.previewUrl),this.isBlobPreview=!1}saveAvatar(){if(!this.selectedFile)return;let t=new FormData;t.append("profile_picture",this.selectedFile),this.saving=!0;let e=V.getUrl("profile/update","accounts");this.http.put(e,t).subscribe({next:()=>{this.logo$.set(this.previewUrl),this.selectedFile=null,this.saving=!1,this.toast.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A"),this.profileStore.refresh()},error:()=>{this.saving=!1,this.toast.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A")}})}toAbsolute(t){if(!t)return null;if(/^(https?:|blob:|data:)/i.test(t))return t;let e=V.apiBaseUrl.replace(/\/+$/,""),a=String(t).replace(/^\/+/,"");return`${e}/${a}`}static \u0275fac=function(e){return new(e||o)(zt(he))};static \u0275cmp=A({type:o,selectors:[["app-side-bar"]],decls:5,vars:4,consts:[[1,"dashboard-sidebar"],[1,"sidebar-profile"],[1,"skeleton-avatar-container"],["width","120px","height","120px","shape","circle","styleClass","skeleton-avatar"],["width","100px","height","1.5rem","styleClass","skeleton-edit-badge"],["width","150px","height","1.5rem","styleClass","mb-2"],["width","120px","height","1rem","styleClass","mb-3"],["width","100%","height","0.5rem","styleClass","mb-2"],["width","80px","height","1rem","styleClass","mb-3"],["width","100%","height","2.5rem","styleClass","mb-0"],[1,"avatar-uploader"],["title","\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A",1,"profile-avatar",3,"src","alt","title"],["type","file","accept","image/*",3,"change"],[1,"edit-badge"],[1,"profile-name"],[1,"profile-title"],["class","avatar-actions",4,"ngIf"],["routerLink","/jobseeker/profile",1,"btn","btn-small","btn-primary","employer-nav-link","btn-full-width"],[1,"avatar-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"sidebar-nav"],[1,"sidebar-nav-item"],[1,"sidebar-nav-link","skeleton-nav-link"],["width","24px","height","24px","shape","circle","styleClass","skeleton-nav-icon"],["width","120px","height","1rem","styleClass","skeleton-nav-text"],["routerLink","/jobseeker/dashboard","routerLinkActive","active","data-tab","overview",1,"sidebar-nav-link","employer-nav-link"],[1,"pi","pi-chart-bar","nav-icon"],["routerLink","/jobseeker/applications","routerLinkActive","active","data-tab","applications",1,"sidebar-nav-link","employer-nav-link"],[1,"pi","pi-file-edit","nav-icon"],["routerLink","/jobseeker/interviews","routerLinkActive","active","data-tab","interviews",1,"sidebar-nav-link","employer-nav-link"],[1,"pi","pi-calendar","nav-icon"],["routerLink","/jobseeker/saved-jobs","routerLinkActive","active","data-tab","saved-jobs",1,"sidebar-nav-link","employer-nav-link"],[1,"pi","pi-bookmark","nav-icon"],["routerLink","/jobseeker/profile","routerLinkActive","active","data-tab","profile",1,"sidebar-nav-link","employer-nav-link"],[1,"pi","pi-user","nav-icon"],["routerLink","/jobseeker/messages","routerLinkActive","active","data-tab","messages",1,"sidebar-nav-link","employer-nav-link"],[1,"pi","pi-comments","nav-icon"],["routerLink","/jobseeker/cv","routerLinkActive","active","routerLinkActive","active","data-tab","cv",1,"sidebar-nav-link","employer-nav-link"],[1,"pi","pi-file","nav-icon"],["title","\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629 \u0645\u0631\u0641\u0648\u0639\u0629",1,"cv-status-badge","cv-status-badge--uploaded"],["title","\u0644\u0627 \u062A\u0648\u062C\u062F \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629 \u0645\u0631\u0641\u0648\u0639\u0629",1,"cv-status-badge","cv-status-badge--missing"],["routerLink","/jobseeker/documents","routerLinkActive","active","data-tab","documents",1,"sidebar-nav-link","employer-nav-link"],[1,"pi","pi-folder","nav-icon"]],template:function(e,a){e&1&&(i(0,"aside",0),p(1,ei,9,0,"div",1),p(2,ni,13,6,"div",1),p(3,oi,4,1,"nav"),p(4,li,37,1,"nav"),n()),e&2&&(r(),g(a.profile===null?1:-1),r(),g(a.profile!==null?2:-1),r(),g(a.profile===null?3:-1),r(),g(a.profile!==null?4:-1))},dependencies:[pe,Ee,Y,Xt,Z,z],styles:['.avatar-uploader[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1)}.avatar-uploader[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.avatar-uploader[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.profile-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;border:3px solid var(--primary-color, #1d4ed8);transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 2px 8px #2563eb26;background:linear-gradient(135deg,#f8fafc,#f1f5f9)}.profile-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #2563eb40;border-color:var(--primary-dark, #1d4ed8)}.edit-badge[_ngcontent-%COMP%]{position:absolute;bottom:6px;right:6px;background:#0009;color:#fff;padding:.25rem .5rem;border-radius:8px;font-size:.8rem;transition:all .3s ease;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.edit-badge[_ngcontent-%COMP%]:hover{background:#000c;transform:scale(1.05)}.avatar-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}.btn[_ngcontent-%COMP%]{padding:.45rem .9rem;border-radius:8px;font-weight:600;cursor:pointer;border:1px solid transparent;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color, #1d4ed8);color:#fff;border-color:var(--primary-color, #1d4ed8);box-shadow:0 2px 4px #2563eb33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #2563eb4d;background:var(--primary-dark, #1d4ed8)}.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;border:1px solid #d1d5db;transition:all .3s ease}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e5e7eb;border-color:#9ca3af;transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}[_nghost-%COMP%]   .sidebar-profile[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .sidebar-profile[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:1px;background:linear-gradient(90deg,transparent,var(--gray-200, #e5e7eb),transparent)}[_nghost-%COMP%]   .profile-name[_ngcontent-%COMP%]{transition:color .2s ease}[_nghost-%COMP%]   .profile-name[_ngcontent-%COMP%]:hover{color:var(--primary-color, #1d4ed8)}[_nghost-%COMP%]   .profile-title[_ngcontent-%COMP%]{transition:color .2s ease}[_nghost-%COMP%]   .profile-completion[_ngcontent-%COMP%]   .profile-progress[_ngcontent-%COMP%]{transition:width .5s ease}[_nghost-%COMP%]   .profile-completion[_ngcontent-%COMP%]   .profile-progress-text[_ngcontent-%COMP%]{transition:color .2s ease}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]{position:relative;overflow:hidden;transition:all .3s ease}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:0;bottom:0;width:3px;background:var(--primary-color, #1d4ed8);transform:scaleY(0);transition:transform .3s ease}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   .sidebar-nav-link.active[_ngcontent-%COMP%]:before{transform:scaleY(1)}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,var(--primary-light, #eff6ff) 0%,transparent 100%);padding-right:1.25rem;transform:translate(-2px)}[_nghost-%COMP%]   .sidebar-nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--primary-color, #1d4ed8) 0%,rgba(37,99,235,.1) 100%);font-weight:600;box-shadow:0 2px 4px #2563eb1a;color:var(--primary-color, #1d4ed8)}[_nghost-%COMP%]   .nav-icon[_ngcontent-%COMP%]{transition:transform .3s ease;display:inline-block}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]:hover   .nav-icon[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg)}[_nghost-%COMP%]   .badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite;box-shadow:0 2px 4px #ef44444d;transition:all .3s ease}[_nghost-%COMP%]   .badge[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 8px #ef444466}.employer-nav-link[_ngcontent-%COMP%]{position:relative;overflow:hidden}.employer-nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:0;bottom:0;width:3px;background:var(--primary-color);transform:scaleY(0);transition:transform .3s ease}.employer-nav-link[_ngcontent-%COMP%]:hover:before, .employer-nav-link.active[_ngcontent-%COMP%]:before{transform:scaleY(1)}.employer-nav-link[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,var(--primary-light, #eff6ff) 0%,transparent 100%);padding-right:1.25rem}.employer-nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--primary-color) 0%,rgba(37,99,235,.1) 100%);font-weight:600;color:#fff!important;box-shadow:0 2px 4px #2563eb1a}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}@media (max-width: 1024px){.profile-avatar[_ngcontent-%COMP%]{width:100px;height:100px;box-shadow:0 2px 6px #2563eb1f}.btn[_ngcontent-%COMP%]{box-shadow:0 1px 3px #2563eb26}}@media (max-width: 768px){.profile-avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-width:2px;box-shadow:0 2px 8px #2563eb33}.profile-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.edit-badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .4rem;bottom:4px;right:4px}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]:before{display:none}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]:hover{transform:none}}@media (max-width: 480px){.profile-avatar[_ngcontent-%COMP%]{width:70px;height:70px;border-width:2px}.edit-badge[_ngcontent-%COMP%]{font-size:.65rem;padding:.15rem .3rem}.btn[_ngcontent-%COMP%]{font-size:var(--font-size-sm, .875rem);padding:.4rem .8rem}.avatar-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.4rem}}.skeleton-avatar-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-bottom:1rem}.skeleton-avatar[_ngcontent-%COMP%]{flex-shrink:0}.skeleton-edit-badge[_ngcontent-%COMP%]{position:absolute;bottom:6px;right:6px;border-radius:8px}.skeleton-nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-radius:8px;pointer-events:none}.skeleton-nav-icon[_ngcontent-%COMP%]{flex-shrink:0}.skeleton-nav-text[_ngcontent-%COMP%]{flex:1}.btn-full-width[_ngcontent-%COMP%]{width:100%}']})};function ui(o,t){o&1&&c(0,"app-footer")}var Ye=class o{router=C(dt);destroy$=new I;lastSegment=null;ngOnInit(){this.updateLastSegment(this.router.url),this.router.events.pipe(R(t=>t instanceof qt),ge(this.destroy$)).subscribe(t=>{this.updateLastSegment(t.urlAfterRedirects??t.url)})}updateLastSegment(t){let e=t.split("/").filter(Boolean);this.lastSegment=e.length?e[e.length-1]:null,console.log("last segment:",this.lastSegment)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-job-seeker"]],standalone:!1,decls:6,vars:1,consts:[[1,"dashboard-container"],[1,"dashboard-main"]],template:function(e,a){e&1&&(i(0,"div",0),c(1,"app-side-bar"),i(2,"main",1),c(3,"app-breadcrumb")(4,"router-outlet"),n()(),p(5,ui,1,0,"app-footer")),e&2&&(r(5),g(a.lastSegment&&a.lastSegment!=="dashboard"?5:-1))},dependencies:[ze,Qt,dn,Yt],encapsulation:2})};var di=()=>[1,2,3],ci=o=>["/jobs/job-details",o];function mi(o,t){o&1&&(i(0,"div",1),c(1,"p-skeleton",6)(2,"p-skeleton",7),n())}function pi(o,t){o&1&&(i(0,"div",1)(1,"h1",8),l(2,"\u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"),n(),i(3,"div",9)(4,"a",10),l(5,"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u0645\u0632\u064A\u062F"),n()()())}function gi(o,t){o&1&&(i(0,"div",11),c(1,"p-skeleton",12),i(2,"div",13),c(3,"p-skeleton",14)(4,"p-skeleton",15)(5,"p-skeleton",16),n(),i(6,"div",17),c(7,"p-skeleton",18)(8,"p-skeleton",19),n()())}function fi(o,t){o&1&&(i(0,"div",3),M(1,gi,9,0,"div",11,F),n()),o&2&&(r(),w(S(0,di)))}function _i(o,t){if(o&1&&(i(0,"div",4)(1,"p"),l(2),n()()),o&2){let e=d();r(2),v(e.errorMessage)}}function bi(o,t){o&1&&(i(0,"div",5)(1,"p"),l(2,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0648\u0638\u0627\u0626\u0641 \u0645\u062D\u0641\u0648\u0638\u0629 \u062D\u062A\u0649 \u0627\u0644\u0622\u0646."),n(),i(3,"a",10),l(4,"\u0627\u0628\u062F\u0627\u0621 \u0628\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0648\u0638\u064A\u0641\u0629"),n()())}function vi(o,t){if(o&1){let e=x();i(0,"div",20),c(1,"img",22),i(2,"div",23)(3,"h4",24),l(4),n(),i(5,"p",25),l(6),n(),i(7,"p",26),l(8),Ae(9,"date"),n()(),i(10,"div",27)(11,"a",28),l(12," \u0639\u0631\u0636 "),n(),i(13,"button",29),f("click",function(){let s=_(e).$implicit,u=d(2);return b(u.removeFromSaved(s.job))}),l(14," \u0625\u0632\u0627\u0644\u0629 "),n()()()}if(o&2){let e=t.$implicit,a=d(2);r(),m("src",e.job.company.logo?e.job.company.logo:"images/company-logo-3.jpg",E),r(3),v(e.job.title),r(2),v(e.job.company.name),r(2),$t(" ",a.salaryText(e.job)," \u2022 ",e.job.city||e.job.company.city," \u2022 \u0645\u062D\u0641\u0648\u0638\u0629 \u0645\u0646\u0630 ",st(9,7,e.created_at,"mediumDate")," "),r(3),m("routerLink",Q(10,ci,e.job.slug))}}function hi(o,t){if(o&1){let e=x();i(0,"button",32),f("click",function(){let s=_(e).$implicit,u=d(3);return b(u.goToPage(s))}),l(1),n()}if(o&2){let e=t.$implicit,a=d(3);D("active",e===a.page),r(),h(" ",e," ")}}function Ci(o,t){if(o&1){let e=x();i(0,"nav",21)(1,"button",30),f("click",function(){_(e);let s=d(2);return b(s.goToPage(s.page-1))}),l(2," \u0627\u0644\u0633\u0627\u0628\u0642 "),n(),M(3,hi,2,3,"button",31,F),i(5,"button",30),f("click",function(){_(e);let s=d(2);return b(s.goToPage(s.page+1))}),l(6," \u0627\u0644\u062A\u0627\u0644\u064A "),n()()}if(o&2){let e=d(2);r(),m("disabled",e.page===1),r(2),w(e.pages),r(2),m("disabled",e.page===e.totalPages)}}function xi(o,t){if(o&1&&(M(0,vi,15,12,"div",20,F),p(2,Ci,7,2,"nav",21)),o&2){let e=d();w(e.bookmarks),r(2),g(e.totalPages>1?2:-1)}}var Je=class o extends X{savedJobsStore=C(cn);bookmarks=[];page=1;page_size=10;totalCount=0;loading=!1;errorMessage=null;baseUrl=V.apiBaseUrl;constructor(){super()}ngOnInit(){this.savedJobsStore.loading$.subscribe(t=>{this.loading=t}),this.savedJobsStore.savedJobs$.subscribe({next:t=>{this.bookmarks=t.bookmarks,this.totalCount=t.totalCount,this.page=t.currentPage,this.page_size=t.page_size,this.errorMessage=null},error:t=>{this.loading=!1,this.errorMessage="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",console.error(t)}}),this.savedJobsStore.loadSavedJobs()}removeFromSaved(t){let e=!t.is_bookmarked;this.savedJobsStore.removeBookmark(t.id).subscribe({next:()=>{t.is_bookmarked=e,this.toastr.success(e?`\u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 ${t.id} \u0628\u0646\u062C\u0627\u062D`:`\u062A\u0645 \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 ${t.id} \u0645\u0646 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0627\u062A`)},error:()=>{this.toastr.error("\u062A\u0639\u0630\u0631 \u062D\u0641\u0638 \u0627\u0644\u0648\u0638\u064A\u0641\u0629"),this.savedJobsStore.refresh()}})}salaryText(t){let e=t.salary_min,a=t.salary_max;return e==null&&a==null?"\u0627\u0644\u0631\u0627\u062A\u0628 \u0642\u0627\u0628\u0644 \u0644\u0644\u062A\u0641\u0627\u0648\u0636":e!=null&&a!=null?`${e} - ${a}`:e!=null?`\u0645\u0646 ${e}`:`\u062D\u062A\u0649 ${a}`}get totalPages(){return this.savedJobsStore.snapshot.totalPages}get pages(){return Array.from({length:this.totalPages},(t,e)=>e+1)}goToPage(t){this.savedJobsStore.goToPage(t)}refreshSavedJobs(){this.savedJobsStore.refresh()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-saved-jobs"]],features:[H],decls:8,vars:5,consts:[["id","saved-jobs"],[1,"dashboard-header"],[1,"content-card"],[1,"saved-jobs-list-skeleton"],[1,"saved-jobs-state","error"],[1,"saved-jobs-state","empty"],["width","200px","height","2rem","styleClass","skeleton-title"],["width","180px","height","2.5rem","styleClass","skeleton-button"],[1,"dashboard-title"],[1,"dashboard-actions"],["routerLink","/jobseeker/jobs",1,"btn","btn-primary"],[1,"saved-job-item","skeleton-saved-job-item"],["width","80px","height","80px","shape","circle","styleClass","skeleton-logo"],[1,"saved-job-info","skeleton-job-info"],["width","200px","height","1.5rem","styleClass","mb-2"],["width","150px","height","1.2rem","styleClass","mb-2"],["width","250px","height","1rem","styleClass","mb-0"],[1,"saved-job-actions","skeleton-actions"],["width","60px","height","2rem","styleClass","skeleton-action-btn"],["width","70px","height","2rem","styleClass","skeleton-action-btn"],[1,"saved-job-item"],[1,"pagination-wrapper"],["alt","\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",1,"saved-job-logo",3,"src"],[1,"saved-job-info"],[1,"saved-job-title"],[1,"saved-job-company"],[1,"saved-job-meta"],[1,"saved-job-actions"],[1,"btn","btn-small","btn-primary",3,"routerLink"],["type","button",1,"btn","btn-small","btn-secondary",3,"click"],[1,"page-btn",3,"click","disabled"],[1,"page-btn",3,"active"],[1,"page-btn",3,"click"]],template:function(e,a){e&1&&(i(0,"div",0),p(1,mi,3,0,"div",1)(2,pi,6,0,"div",1),i(3,"div",2),p(4,fi,3,1,"div",3),p(5,_i,3,1,"div",4),p(6,bi,5,0,"div",5),p(7,xi,3,1),n()()),e&2&&(r(),g(a.loading?1:2),r(3),g(a.loading?4:-1),r(),g(!a.loading&&a.errorMessage?5:-1),r(),g(!a.loading&&!a.errorMessage&&a.bookmarks.length===0?6:-1),r(),g(!a.loading&&!a.errorMessage&&a.bookmarks.length>0?7:-1))},dependencies:[pe,Y,Z,z,ut],styles:["#saved-jobs[_ngcontent-%COMP%]{padding:2rem 0}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.dashboard-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--gray-900);margin:0}.dashboard-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.content-card[_ngcontent-%COMP%]{background:var(--white);border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--gray-200);overflow:hidden}.saved-jobs-list-skeleton[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.saved-job-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;border:1px solid var(--gray-200);border-radius:var(--radius-md);background:var(--white);transition:all .2s}.saved-job-item[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-md);border-color:var(--primary-color);transform:translateY(-2px)}.saved-job-logo[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:var(--radius-md);object-fit:cover;border:2px solid var(--gray-200);flex-shrink:0}.saved-job-info[_ngcontent-%COMP%]{flex:1;min-width:0}.saved-job-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--gray-900);margin:0 0 .5rem}.saved-job-company[_ngcontent-%COMP%]{font-size:.95rem;color:var(--gray-600);margin:0 0 .75rem}.saved-job-meta[_ngcontent-%COMP%]{font-size:.875rem;color:var(--gray-500);margin:0}.saved-job-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.saved-jobs-state[_ngcontent-%COMP%]{padding:3rem 1.5rem;text-align:center;color:var(--gray-600)}.saved-jobs-state.empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.saved-jobs-state.empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin:0}.saved-jobs-state.error[_ngcontent-%COMP%]{color:var(--error-color, #dc2626)}.skeleton-title[_ngcontent-%COMP%]{margin:0}.skeleton-button[_ngcontent-%COMP%]{border-radius:var(--radius-md)}.skeleton-saved-job-item[_ngcontent-%COMP%]{pointer-events:none}.skeleton-logo[_ngcontent-%COMP%]{flex-shrink:0}.skeleton-job-info[_ngcontent-%COMP%]{flex:1;min-width:0}.skeleton-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.skeleton-action-btn[_ngcontent-%COMP%]{border-radius:var(--radius-md)}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem}.mb-0[_ngcontent-%COMP%]{margin-bottom:0}.pagination-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;padding:1.5rem;border-top:1px solid var(--gray-200)}.page-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--gray-300);background:var(--white);color:var(--gray-700);border-radius:var(--radius-md);cursor:pointer;transition:all .2s;font-size:.875rem}.page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--gray-50);border-color:var(--primary-color);color:var(--primary-color)}.page-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);color:var(--white);border-color:var(--primary-color)}.page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.saved-job-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.saved-job-logo[_ngcontent-%COMP%]{width:60px;height:60px}.saved-job-actions[_ngcontent-%COMP%]{align-self:flex-start;width:100%;justify-content:flex-start}}"]})};var $e=class o extends be{updateBasic(t){return this.http.put(We.getUrl("profile/update","accounts"),t)}updateBasicFormData(t){return this.http.put(We.getUrl("profile/update","accounts"),t)}updateJobSeeker(t){return this.http.put(We.getUrl("profile/job-seeker","accounts"),t)}updateJobSeekerFormData(t){return this.http.put(We.getUrl("profile/job-seeker","accounts"),t)}static \u0275fac=(()=>{let t;return function(a){return(t||(t=re(o)))(a||o)}})();static \u0275prov=oe({token:o,factory:o.\u0275fac,providedIn:"root"})};var Pi=()=>({standalone:!0}),Oi=()=>({width:"90%",maxWidth:"500px"}),ki=()=>({margin:0}),Si=()=>({marginLeft:"0.5rem"});function Ai(o,t){if(o&1){let e=x();i(0,"div",5)(1,"div",61)(2,"span",62),l(3,"\u{1F4C4}"),n(),i(4,"div")(5,"div",63),l(6),n(),i(7,"div",64),l(8),n()()(),i(9,"div",65)(10,"p-button",66),f("onClick",function(){_(e);let s=wt(12);return b(s.click())}),n(),i(11,"input",67,0),f("change",function(s){_(e);let u=d();return b(u.onResumeChange(s))}),n(),i(13,"p-button",68),f("onClick",function(){_(e);let s=d();return b(s.togglePreview())}),n(),i(14,"a",69),l(15," \u062A\u0646\u0632\u064A\u0644 "),n()()()}if(o&2){let e=d();r(6),v(e.resumeDisplayName),r(2),v(e.isPdf?"PDF":"Document"),r(2),q(S(6,ki)),r(3),m("label",e.showPreview?"\u0625\u062E\u0641\u0627\u0621 \u0627\u0644\u0645\u0639\u0627\u064A\u0646\u0629":"\u0645\u0639\u0627\u064A\u0646\u0629"),r(),m("href",e.resumeUrl,E)}}function Ei(o,t){if(o&1){let e=x();Nt(0),i(1,"div",70),l(2," \u0644\u0627 \u062A\u0648\u062C\u062F \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629 \u0645\u0631\u0641\u0648\u0639\u0629 "),i(3,"p-button",71),f("onClick",function(){_(e);let s=wt(5);return b(s.click())}),n(),i(4,"input",72,1),f("change",function(s){_(e);let u=d();return b(u.onResumeChange(s))}),n()(),Jt()}o&2&&(r(3),q(S(2,Si)))}function Di(o,t){if(o&1&&(i(0,"div",6),c(1,"iframe",73),n()),o&2){let e=d();r(),m("src",e.resumeSafeUrl,Bt)}}function Fi(o,t){if(o&1){let e=x();i(0,"div",7)(1,"div",74)(2,"p"),l(3,"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641 \u062F\u0627\u062E\u0644 \u0627\u0644\u0635\u0641\u062D\u0629 \u0628\u0633\u0628\u0628 \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0623\u0645\u0627\u0646. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u0632\u0631 \u0623\u062F\u0646\u0627\u0647 \u0644\u0641\u062A\u062D \u0627\u0644\u0645\u0644\u0641 \u0641\u064A \u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629."),n(),i(4,"p-button",75),f("onClick",function(){_(e);let s=d();return b(s.openResumeInNewWindow())}),n()()()}}function Ti(o,t){o&1&&(i(0,"div",8),l(1," \u0644\u0627 \u064A\u0645\u0643\u0646 \u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641 \u062F\u0627\u062E\u0644 \u0627\u0644\u0635\u0641\u062D\u0629 \u0628\u0633\u0628\u0628 \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u062E\u0627\u062F\u0645. \u0627\u0633\u062A\u062E\u062F\u0645 \u0632\u0631 \xAB\u062A\u0646\u0632\u064A\u0644\xBB. "),n())}var Xe=class o extends X{constructor(){super()}basicForm;jobForm;selectedFile=null;selectedResume=null;resumeUrl=null;resumeSafeUrl=null;isPdf=!1;isResumeFromApi=!1;toRevoke=null;showPreview=!1;isSaving=!1;dateOfBirthDate=null;experienceLevelOptions=[{label:"\u0645\u0628\u062A\u062F\u0626",value:"entry"},{label:"\u0645\u062A\u0648\u0633\u0637",value:"mid"},{label:"\u0645\u062A\u0642\u062F\u0645",value:"senior"},{label:"\u062E\u0628\u064A\u0631",value:"lead"}];educationLevelOptions=[{label:"\u062B\u0627\u0646\u0648\u064A\u0629 \u0639\u0627\u0645\u0629",value:"high_school"},{label:"\u062F\u0628\u0644\u0648\u0645",value:"diploma"},{label:"\u0628\u0643\u0627\u0644\u0648\u0631\u064A\u0648\u0633",value:"bachelor"},{label:"\u0645\u0627\u062C\u0633\u062A\u064A\u0631",value:"master"},{label:"\u062F\u0643\u062A\u0648\u0631\u0627\u0647",value:"phd"}];jobTypeOptions=[{label:"\u062F\u0648\u0627\u0645 \u0643\u0627\u0645\u0644",value:"full_time"},{label:"\u062F\u0648\u0627\u0645 \u062C\u0632\u0626\u064A",value:"part_time"},{label:"\u0639\u0642\u062F \u0645\u0624\u0642\u062A",value:"contract"},{label:"\u0639\u0645\u0644 \u062D\u0631",value:"freelance"},{label:"\u0639\u0646 \u0628\u064F\u0639\u062F",value:"remote"}];availabilityOptions=[{label:"\u0646\u0639\u0645",value:!0},{label:"\u0644\u0627",value:!1}];destroy$=new I;fb=C(he);profileApi=C($e);sanitizer=C(Gt);store=C(be);http=C(fe);authService=C(Zt);ngOnInit(){this.basicForm=this.fb.group({first_name:["",B.required],last_name:["",B.required],email:["",[B.required,B.email]],phone:[""],date_of_birth:[""],profile_picture:[""],bio:[""],location:[""]}),this.jobForm=this.fb.group({resume:[""],experience_level:["entry",B.required],education_level:["high_school",B.required],skills:[""],expected_salary_min:[null],expected_salary_max:[null],availability:[!0],preferred_job_type:["full_time"],languages:[""]}),this.store.profile$.pipe(ge(this.destroy$),R(t=>!!t)).subscribe(t=>{let e=t.user??{},a=this.normalizeDateForInput(e.date_of_birth);this.dateOfBirthDate=a?new Date(a):null,this.basicForm.patchValue({first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",phone:e.phone||"",date_of_birth:a,profile_picture:e.profile_picture||"",bio:e.bio||"",location:e.location||""}),this.jobForm.patchValue({resume:t.resume||"",experience_level:t.experience_level||"entry",education_level:t.education_level||"high_school",skills:t.skills||"",expected_salary_min:t.expected_salary_min??null,expected_salary_max:t.expected_salary_max??null,availability:typeof t.availability=="boolean"?t.availability:!0,preferred_job_type:t.preferred_job_type||"full_time",languages:t.languages||""});let s=this.toAbsolute(t.resume);s&&this.setResumePreview(s)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.toRevoke&&URL.revokeObjectURL(this.toRevoke)}get resumeDisplayName(){if(this.selectedResume?.name)return this.selectedResume.name;if(this.resumeUrl)try{return decodeURIComponent(this.resumeUrl.split("/").pop()||"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629")}catch{return"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"}return"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"}onFileChange(t){let e=t.target;this.selectedFile=e.files?.[0]??null}onResumeChange(t){let e=t.target.files?.[0]??null;if(this.selectedResume=e,this.toRevoke&&(URL.revokeObjectURL(this.toRevoke),this.toRevoke=null),e){let a=URL.createObjectURL(e);this.setResumePreview(a,e.name),this.toRevoke=a}else this.clearResumePreview()}saveChanges(){if(this.isSaving)return;if(this.basicForm.invalid||this.jobForm.invalid){this.toastr.error("\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629");return}this.isSaving=!0;let t=this.basicForm.value,e=this.dateOfBirthDate||t.date_of_birth,a=this.normalizeDateForApi(e);if(t.date_of_birth&&!a){this.toastr.error("\u0635\u064A\u063A\u0629 \u0627\u0644\u062A\u0627\u0631\u064A\u062E \u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 YYYY-MM-DD");return}let s={first_name:t.first_name,last_name:t.last_name,email:t.email};t.phone&&(s.phone=t.phone),a&&(s.date_of_birth=a),t.bio&&(s.bio=t.bio),t.location&&(s.location=t.location),(()=>{if(this.selectedFile){let y=new FormData;return Object.entries(s).forEach(([N,ee])=>y.append(N,String(ee))),y.append("profile_picture",this.selectedFile),this.profileApi.updateBasicFormData(y)}else return this.profileApi.updateBasic(s)})().subscribe({next:()=>{let y=this.jobForm.value,N=new FormData,ee={experience_level:y.experience_level,education_level:y.education_level,skills:y.skills,expected_salary_min:y.expected_salary_min,expected_salary_max:y.expected_salary_max,availability:y.availability,preferred_job_type:y.preferred_job_type,languages:y.languages};Object.entries(ee).forEach(([Ue,Pe])=>{Pe==null||Pe===""||N.append(Ue,typeof Pe=="boolean"?Pe?"true":"false":String(Pe))}),this.selectedResume&&N.append("resume",this.selectedResume),this.profileApi.updateJobSeekerFormData(N).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0628\u0646\u062C\u0627\u062D"),this.store.refresh(),this.isSaving=!1},error:Ue=>{this.handleErr(Ue,"\u0641\u0634\u0644 \u062D\u0641\u0638 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0648\u0638\u064A\u0641\u0629"),this.isSaving=!1}})},error:y=>{this.handleErr(y,"\u0641\u0634\u0644 \u062D\u0641\u0638 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629"),this.isSaving=!1}})}canEmbed(t){return t.startsWith(location.origin)||t.startsWith("blob:")||t.startsWith("https:")||t.startsWith("http:")}setResumePreview(t,e){this.resumeUrl=t;let a=/\.pdf($|\?)/i.test(t)||!!e?.toLowerCase().endsWith(".pdf");this.isPdf=a,this.isResumeFromApi=t.startsWith("https://")&&!t.startsWith(location.origin)&&!t.startsWith("blob:"),this.resumeSafeUrl=this.isPdf?this.sanitizer.bypassSecurityTrustResourceUrl(t):null}clearResumePreview(){this.resumeUrl=null,this.resumeSafeUrl=null,this.isPdf=!1,this.isResumeFromApi=!1}openResumeInNewWindow(){this.resumeUrl&&window.open(this.resumeUrl,"_blank","noopener,noreferrer")}togglePreview(){this.showPreview=!this.showPreview}changePasswordDialogVisible=!1;changingPassword=!1;showOldPassword=!1;showNewPassword=!1;showConfirmPassword=!1;changePasswordForm={old_password:"",new_password:"",new_password_confirm:""};openChangePasswordDialog(){this.changePasswordDialogVisible=!0}closeChangePasswordDialog(){this.changingPassword||(this.changePasswordDialogVisible=!1,this.changePasswordForm={old_password:"",new_password:"",new_password_confirm:""},this.showOldPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1)}toggleOldPasswordVisibility(){this.showOldPassword=!this.showOldPassword}toggleNewPasswordVisibility(){this.showNewPassword=!this.showNewPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}changePassword(){if(!this.changingPassword){if(this.changePasswordForm.new_password!==this.changePasswordForm.new_password_confirm){this.toastr.error("\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0645\u0637\u0627\u0628\u0642");return}this.changingPassword=!0,this.http.post(V.getUrl("change-password","accounts"),this.changePasswordForm).subscribe({next:t=>{let e=t?.data?.token;e&&(localStorage.setItem("access",e),this.authService.setTokens(e,null));let a=t?.data?.message||"\u062A\u0645 \u062A\u063A\u064A\u064A\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0628\u0646\u062C\u0627\u062D";this.toastr.success(a),this.changingPassword=!1,this.closeChangePasswordDialog()},error:t=>{this.errors.error(t),console.error(t),this.changingPassword=!1}})}}toAbsolute(t){return t?/^(https?:|blob:|data:)/i.test(t)?t:`${V.apiBaseUrl.replace(/\/+$/,"")}/${String(t).replace(/^\/+/,"")}`:null}normalizeDateForInput(t){if(!t)return"";let e=String(t).match(/^(\d{4}-\d{2}-\d{2})/);if(e)return e[1];let a=String(t).match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(a){let[,N,ee,Ue]=a;return`${Ue}-${ee.padStart(2,"0")}-${N.padStart(2,"0")}`}let s=new Date(t);if(Number.isNaN(s.getTime()))return"";let u=String(s.getMonth()+1).padStart(2,"0"),y=String(s.getDate()).padStart(2,"0");return`${s.getFullYear()}-${u}-${y}`}normalizeDateForApi(t){if(!t)return"";if(typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t))return t;if(t instanceof Date){let e=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${t.getFullYear()}-${e}-${a}`}return this.normalizeDateForInput(t)}handleErr(t,e){let a=t?.error?Object.values(t.error).flat().join(" | "):e;this.toastr.error(a),console.error(t)}onDateOfBirthSelect(t){if(t){let e=this.normalizeDateForApi(t);this.basicForm.patchValue({date_of_birth:e},{emitEvent:!1})}else this.basicForm.patchValue({date_of_birth:""},{emitEvent:!1})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-profile"]],standalone:!1,features:[H],decls:114,vars:67,consts:[["resumeFileInput",""],["resumeFileInputEmpty",""],[1,"form-section",3,"formGroup"],[1,"section-title"],[1,"resume-wrap"],[1,"resume-bar"],[1,"resume-preview"],[1,"resume-preview-api"],[1,"resume-note"],["dir","rtl",1,"form-card"],[1,"form-card__title"],[1,"form-grid","form-grid-3"],[1,"field"],["for","first_name",1,"field__label"],["pInputText","","id","first_name","formControlName","first_name",1,"field__control"],["for","last_name",1,"field__label"],["pInputText","","id","last_name","formControlName","last_name",1,"field__control"],["for","email",1,"field__label"],["pInputText","","type","email","id","email","formControlName","email",1,"field__control"],["for","phone",1,"field__label"],["pInputText","","id","phone","formControlName","phone",1,"field__control"],["for","date_of_birth",1,"field__label"],["id","date_of_birth","dateFormat","yy-mm-dd","placeholder","\u0627\u062E\u062A\u0631 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F","appendTo","body","styleClass","w-full","inputStyleClass","field__control",3,"ngModelChange","onSelect","ngModel","ngModelOptions"],["for","location",1,"field__label"],["pInputText","","id","location","formControlName","location",1,"field__control"],[1,"field","field--full"],["for","bio",1,"field__label"],["pTextarea","","id","bio","rows","4","formControlName","bio",1,"field__control"],["dir","rtl",1,"form-card",3,"formGroup"],["for","experience_level",1,"field__label"],["id","experience_level","formControlName","experience_level","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u0628\u0631\u0629","appendTo","body","styleClass","w-full",1,"field__control",3,"showClear","options"],["for","education_level",1,"field__label"],["id","education_level","formControlName","education_level","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062A\u0639\u0644\u064A\u0645\u064A","appendTo","body","styleClass","w-full",1,"field__control",3,"showClear","options"],["for","preferred_job_type",1,"field__label"],["id","preferred_job_type","formControlName","preferred_job_type","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u0639\u0645\u0644","appendTo","body","styleClass","w-full",1,"field__control",3,"showClear","options"],["for","expected_salary_min",1,"field__label"],["id","expected_salary_min","formControlName","expected_salary_min","placeholder","0","styleClass","w-full",1,"field__control",3,"showButtons","min","useGrouping"],["for","expected_salary_max",1,"field__label"],["id","expected_salary_max","formControlName","expected_salary_max","placeholder","0","styleClass","w-full",1,"field__control",3,"showButtons","min","useGrouping"],["for","availability",1,"field__label"],["id","availability","formControlName","availability","optionLabel","label","optionValue","value","appendTo","body","styleClass","w-full",1,"field__control",3,"showClear","options"],["for","skills",1,"field__label"],["pInputText","","id","skills","formControlName","skills","placeholder","JS, React, Node",1,"field__control"],["for","languages",1,"field__label"],["pInputText","","id","languages","formControlName","languages","placeholder","Arabic, English",1,"field__control"],[1,"form-actions"],["type","button","label","\u062A\u063A\u064A\u064A\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","icon","pi pi-key","styleClass","p-button-outlined",3,"onClick"],["type","button","styleClass","p-button-primary",3,"onClick","label","disabled"],["header","\u062A\u063A\u064A\u064A\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",3,"visibleChange","onHide","visible","modal","draggable","resizable","rtl"],[1,"change-password-form",3,"ngSubmit"],[1,"form-group"],[1,"form-label"],[1,"password-input-wrapper"],["pInputText","","required","","name","old_password","placeholder","\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062D\u0627\u0644\u064A\u0629",1,"w-full","password-input",3,"ngModelChange","type","ngModel","disabled"],["type","button",1,"password-toggle-btn",3,"click","disabled"],[1,"sr-only"],["pInputText","","required","","name","new_password","placeholder","\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629",1,"w-full","password-input",3,"ngModelChange","type","ngModel","disabled"],["pInputText","","required","","name","new_password_confirm","placeholder","\u0623\u0639\u062F \u0625\u062F\u062E\u0627\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629",1,"w-full","password-input",3,"ngModelChange","type","ngModel","disabled"],[1,"dialog-actions"],["type","button","label","\u0625\u0644\u063A\u0627\u0621","styleClass","p-button-secondary",3,"onClick","disabled"],["type","submit","styleClass","p-button-primary",3,"label","disabled","loading"],[1,"resume-meta"],[1,"resume-icon"],[1,"resume-name"],[1,"resume-type"],[1,"resume-actions"],["label","\u062A\u063A\u064A\u064A\u0631 \u0627\u0644\u0645\u0644\u0641","styleClass","p-button-secondary",3,"onClick"],["type","file","accept",".pdf,.doc,.docx","title","\u062A\u063A\u064A\u064A\u0631 \u0645\u0644\u0641 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629","aria-label","\u062A\u063A\u064A\u064A\u0631 \u0645\u0644\u0641 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629",1,"d-none",3,"change"],["type","button","styleClass","p-button-secondary",3,"onClick","label"],["target","_blank","rel","noopener","download","",1,"btn","btn-primary",3,"href"],[1,"resume-empty"],["label","\u0631\u0641\u0639 \u0645\u0644\u0641","styleClass","p-button-primary",3,"onClick"],["type","file","accept",".pdf,.doc,.docx","title","\u0631\u0641\u0639 \u0645\u0644\u0641 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629","aria-label","\u0631\u0641\u0639 \u0645\u0644\u0641 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629",1,"d-none",3,"change"],["title","\u0645\u0639\u0627\u064A\u0646\u0629 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629",3,"src"],[1,"resume-preview-message"],["label","\u0641\u062A\u062D \u0627\u0644\u0645\u0644\u0641 \u0641\u064A \u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629","styleClass","p-button-primary",3,"onClick"]],template:function(e,a){e&1&&(i(0,"form",2)(1,"h3",3)(2,"span"),l(3,"\u{1F464}"),n(),l(4,"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629"),n(),i(5,"div",4),p(6,Ai,16,7,"div",5)(7,Ei,6,3,"ng-container"),p(8,Di,2,1,"div",6),p(9,Fi,5,0,"div",7),p(10,Ti,2,0,"div",8),n(),i(11,"section",9)(12,"h3",10),l(13,"\u{1F464} \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629"),n(),i(14,"div",11)(15,"div",12)(16,"label",13),l(17,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644"),n(),c(18,"input",14),n(),i(19,"div",12)(20,"label",15),l(21,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062E\u064A\u0631"),n(),c(22,"input",16),n(),i(23,"div",12)(24,"label",17),l(25,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),n(),c(26,"input",18),n(),i(27,"div",12)(28,"label",19),l(29,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),n(),c(30,"input",20),n(),i(31,"div",12)(32,"label",21),l(33,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F"),n(),i(34,"p-datepicker",22),k("ngModelChange",function(u){return O(a.dateOfBirthDate,u)||(a.dateOfBirthDate=u),u}),f("onSelect",function(u){return a.onDateOfBirthSelect(u)}),n()(),i(35,"div",12)(36,"label",23),l(37,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"),n(),c(38,"input",24),n(),i(39,"div",25)(40,"label",26),l(41,"\u0646\u0628\u0630\u0629 \u0645\u062E\u062A\u0635\u0631\u0629"),n(),c(42,"textarea",27),n()()(),i(43,"section",28)(44,"h3",10),l(45,"\u{1F4BC} \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0647\u0646\u064A\u0629"),n(),i(46,"div",11)(47,"div",12)(48,"label",29),l(49,"\u0633\u0646\u0648\u0627\u062A \u0627\u0644\u062E\u0628\u0631\u0629"),n(),c(50,"p-select",30),n(),i(51,"div",12)(52,"label",31),l(53,"\u0627\u0644\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062A\u0639\u0644\u064A\u0645\u064A"),n(),c(54,"p-select",32),n(),i(55,"div",12)(56,"label",33),l(57,"\u0646\u0648\u0639 \u0627\u0644\u0639\u0645\u0644 \u0627\u0644\u0645\u0641\u0636\u0644"),n(),c(58,"p-select",34),n(),i(59,"div",12)(60,"label",35),l(61,"\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0623\u062F\u0646\u0649"),n(),c(62,"p-inputNumber",36),n(),i(63,"div",12)(64,"label",37),l(65,"\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0623\u0639\u0644\u0649"),n(),c(66,"p-inputNumber",38),n(),i(67,"div",12)(68,"label",39),l(69,"\u0645\u062A\u0627\u062D \u0644\u0644\u0639\u0645\u0644"),n(),c(70,"p-select",40),n(),i(71,"div",12)(72,"label",41),l(73,"\u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062A (\u0627\u0641\u0635\u0644 \u0628\u0641\u0648\u0627\u0635\u0644)"),n(),c(74,"input",42),n(),i(75,"div",12)(76,"label",43),l(77,"\u0627\u0644\u0644\u063A\u0627\u062A (\u0627\u0641\u0635\u0644 \u0628\u0641\u0648\u0627\u0635\u0644)"),n(),c(78,"input",44),n()()(),i(79,"div",45)(80,"p-button",46),f("onClick",function(){return a.openChangePasswordDialog()}),n(),i(81,"p-button",47),f("onClick",function(){return a.saveChanges()}),n()()(),i(82,"p-dialog",48),k("visibleChange",function(u){return O(a.changePasswordDialogVisible,u)||(a.changePasswordDialogVisible=u),u}),f("onHide",function(){return a.closeChangePasswordDialog()}),i(83,"form",49),f("ngSubmit",function(){return a.changePassword()}),i(84,"div",50)(85,"label",51),l(86,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062D\u0627\u0644\u064A\u0629"),n(),i(87,"div",52)(88,"input",53),k("ngModelChange",function(u){return O(a.changePasswordForm.old_password,u)||(a.changePasswordForm.old_password=u),u}),n(),i(89,"button",54),f("click",function(){return a.toggleOldPasswordVisibility()}),c(90,"i"),i(91,"span",55),l(92),n()()()(),i(93,"div",50)(94,"label",51),l(95,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629"),n(),i(96,"div",52)(97,"input",56),k("ngModelChange",function(u){return O(a.changePasswordForm.new_password,u)||(a.changePasswordForm.new_password=u),u}),n(),i(98,"button",54),f("click",function(){return a.toggleNewPasswordVisibility()}),c(99,"i"),i(100,"span",55),l(101),n()()()(),i(102,"div",50)(103,"label",51),l(104,"\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629"),n(),i(105,"div",52)(106,"input",57),k("ngModelChange",function(u){return O(a.changePasswordForm.new_password_confirm,u)||(a.changePasswordForm.new_password_confirm=u),u}),n(),i(107,"button",54),f("click",function(){return a.toggleConfirmPasswordVisibility()}),c(108,"i"),i(109,"span",55),l(110),n()()()(),i(111,"div",58)(112,"p-button",59),f("onClick",function(){return a.closeChangePasswordDialog()}),n(),c(113,"p-button",60),n()()()),e&2&&(m("formGroup",a.basicForm),r(6),g(a.resumeUrl?6:7),r(2),g(a.showPreview&&a.isPdf&&a.resumeSafeUrl&&!a.isResumeFromApi?8:-1),r(),g(a.showPreview&&a.isPdf&&a.isResumeFromApi?9:-1),r(),g(a.showPreview&&!a.isPdf&&a.resumeUrl?10:-1),r(24),P("ngModel",a.dateOfBirthDate),m("ngModelOptions",S(65,Pi)),r(9),m("formGroup",a.jobForm),r(7),m("showClear",!0)("options",a.experienceLevelOptions),r(4),m("showClear",!0)("options",a.educationLevelOptions),r(4),m("showClear",!0)("options",a.jobTypeOptions),r(4),m("showButtons",!1)("min",0)("useGrouping",!0),r(4),m("showButtons",!1)("min",0)("useGrouping",!0),r(4),m("showClear",!0)("options",a.availabilityOptions),r(11),m("label",a.isSaving?"\u062C\u0627\u0631\u064A \u0627\u0644\u062D\u0641\u0638...":"\u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A")("disabled",a.isSaving),r(),q(S(66,Oi)),P("visible",a.changePasswordDialogVisible),m("modal",!0)("draggable",!1)("resizable",!1)("rtl",!0),r(6),m("type",a.showOldPassword?"text":"password"),P("ngModel",a.changePasswordForm.old_password),m("disabled",a.changingPassword),r(),m("disabled",a.changingPassword),ye("aria-label",a.showOldPassword?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631")("title",a.showOldPassword?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),r(),rt(a.showOldPassword?"pi pi-eye-slash":"pi pi-eye"),ye("aria-hidden",!0),r(2),v(a.showOldPassword?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),r(5),m("type",a.showNewPassword?"text":"password"),P("ngModel",a.changePasswordForm.new_password),m("disabled",a.changingPassword),r(),m("disabled",a.changingPassword),ye("aria-label",a.showNewPassword?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631")("title",a.showNewPassword?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),r(),rt(a.showNewPassword?"pi pi-eye-slash":"pi pi-eye"),ye("aria-hidden",!0),r(2),v(a.showNewPassword?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),r(5),m("type",a.showConfirmPassword?"text":"password"),P("ngModel",a.changePasswordForm.new_password_confirm),m("disabled",a.changingPassword),r(),m("disabled",a.changingPassword),ye("aria-label",a.showConfirmPassword?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631")("title",a.showConfirmPassword?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),r(),rt(a.showConfirmPassword?"pi pi-eye-slash":"pi pi-eye"),ye("aria-hidden",!0),r(2),v(a.showConfirmPassword?"\u0625\u062E\u0641\u0627\u0621 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631":"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),r(2),m("disabled",a.changingPassword),r(),m("label",a.changingPassword?"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u062F\u064A\u062B...":"\u062A\u062D\u062F\u064A\u062B \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631")("disabled",a.changingPassword)("loading",a.changingPassword))},dependencies:[me,ue,de,ce,mt,ve,Fe,Ie,Ce,Ve,Te,je,gt,_t,Be,bt],styles:[`.profile-edit-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.profile-card[_ngcontent-%COMP%]{background:var(--white);padding:2rem;border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--gray-200);margin-bottom:2rem}.profile-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid var(--gray-200)}.profile-avatar-section[_ngcontent-%COMP%]{text-align:center}.profile-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;border:4px solid var(--primary-color);margin-bottom:1rem}.avatar-upload[_ngcontent-%COMP%]{position:relative;display:inline-block}.avatar-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;opacity:0;width:100%;height:100%;cursor:pointer}.upload-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:var(--white);padding:.5rem 1rem;border-radius:var(--radius-md);font-size:var(--font-size-sm);cursor:pointer;border:none}.profile-info[_ngcontent-%COMP%]{flex-grow:1}.profile-name[_ngcontent-%COMP%]{font-size:var(--font-size-2xl);font-weight:700;margin-bottom:.5rem;color:var(--gray-900)}.profile-title[_ngcontent-%COMP%]{font-size:var(--font-size-lg);color:var(--gray-600);margin-bottom:1rem}.profile-stats[_ngcontent-%COMP%]{display:flex;gap:2rem}.stat[_ngcontent-%COMP%]{text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:var(--font-size-xl);font-weight:700;color:var(--primary-color)}.stat-label[_ngcontent-%COMP%]{font-size:var(--font-size-sm);color:var(--gray-600)}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-title[_ngcontent-%COMP%]{font-size:var(--font-size-xl);font-weight:600;margin-bottom:1.5rem;color:var(--primary-color);display:flex;align-items:center;gap:.5rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--gray-700)}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--gray-300);border-radius:var(--radius-md);font-size:var(--font-size-base);transition:border-color var(--transition-fast)}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #3b82f61a}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-select[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:left .5rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-left:2.5rem}.skill-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.skill-tag[_ngcontent-%COMP%]{background:var(--primary-color);color:var(--white);padding:.25rem .75rem;border-radius:var(--radius-lg);font-size:var(--font-size-sm);display:flex;align-items:center;gap:.5rem}.skill-tag[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{cursor:pointer;font-weight:700}.add-skill[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}.privacy-settings[_ngcontent-%COMP%]{background:var(--gray-50);padding:1.5rem;border-radius:var(--radius-md);border:1px solid var(--gray-200)}.privacy-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 0;border-bottom:1px solid var(--gray-200)}.privacy-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.privacy-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-weight:600}.privacy-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-sm);color:var(--gray-600)}.toggle-switch[_ngcontent-%COMP%]{position:relative;width:50px;height:24px;background:var(--gray-300);border-radius:12px;cursor:pointer;transition:background var(--transition-fast)}.toggle-switch.active[_ngcontent-%COMP%]{background:var(--primary-color)}.toggle-switch[_ngcontent-%COMP%]:after{content:"";position:absolute;top:2px;right:2px;width:20px;height:20px;background:var(--white);border-radius:50%;transition:transform var(--transition-fast)}.toggle-switch.active[_ngcontent-%COMP%]:after{transform:translate(-26px)}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;margin-top:2rem;padding-top:2rem;border-top:1px solid var(--gray-200)}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.privacy-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}}.form-section[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;width:96%;margin-right:2%;margin-bottom:2rem;border-radius:12px;box-shadow:0 4px 12px #0000000d;border:1px solid #eee}.section-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#1d4ed8;display:flex;align-items:center;margin-bottom:1.5rem}.section-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;margin-left:.5rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.form-group[_ngcontent-%COMP%]{flex:1;min-width:240px;display:flex;flex-direction:column}.form-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.4rem;color:#374151}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:8px;padding:.6rem .8rem;font-size:.95rem;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#1d4ed8;box-shadow:0 0 0 3px #1d4ed81a;outline:none}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.75rem;margin-top:1.5rem}.btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;border-radius:8px;font-weight:500;font-size:.95rem;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#fff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#1e40af}.btn-secondary[_ngcontent-%COMP%]{background-color:#f3f4f6;border:1px solid #d1d5db;color:#374151}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.resume-wrap[_ngcontent-%COMP%]{margin-bottom:1rem}.resume-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:.75rem 1rem;border:1px solid #e5e7eb;border-radius:10px;background:#f9fafb}.resume-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.resume-icon[_ngcontent-%COMP%]{font-size:1.5rem}.resume-name[_ngcontent-%COMP%]{font-weight:600;color:#111827}.resume-type[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280}.resume-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.d-none[_ngcontent-%COMP%]{display:none}.m-0[_ngcontent-%COMP%]{margin:0}.ml-2[_ngcontent-%COMP%]{margin-left:.5rem}.resume-empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;padding:.75rem 1rem;border:1px dashed #cbd5e1;border-radius:10px;color:#64748b}.resume-preview[_ngcontent-%COMP%]{margin-top:.75rem;border:1px solid #e5e7eb;border-radius:10px;overflow:hidden}.resume-preview[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:520px;border:0}.resume-preview-api[_ngcontent-%COMP%]{margin-top:.75rem;border:1px solid #e5e7eb;border-radius:10px;padding:2rem;background:#f9fafb;text-align:center}.resume-preview-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.resume-preview-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.95rem;margin:0}.resume-note[_ngcontent-%COMP%]{margin-top:.5rem;color:#6b7280;font-size:.9rem}.btn-light[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.btn-light[_ngcontent-%COMP%]:hover{background:#e5e7eb}.form-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:1.25rem 1.25rem 1rem;margin-bottom:1rem;box-shadow:0 2px 10px #0000000a}.form-card__title[_ngcontent-%COMP%]{margin:0 0 1rem;color:#0f172a;font-weight:700;font-size:1.05rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}.form-grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.field[_ngcontent-%COMP%]{grid-column:span 6;display:flex;flex-direction:column;min-width:0}.form-grid-3[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{grid-column:span 1}.field--full[_ngcontent-%COMP%], .form-grid-3[_ngcontent-%COMP%]   .field--full[_ngcontent-%COMP%]{grid-column:1/-1}.field__label[_ngcontent-%COMP%]{font-size:.85rem;color:#475569;margin:0 0 .35rem}.field__control[_ngcontent-%COMP%]{width:100%;font-size:.95rem;background:#fff;transition:border-color .15s,box-shadow .15s}.field__control[_ngcontent-%COMP%]:focus{outline:0;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1f}.field__control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441f}textarea.field__control[_ngcontent-%COMP%]{min-height:110px;resize:vertical}.p-select[_ngcontent-%COMP%]{padding:.2rem!important}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.75rem;margin-top:1rem}.btn[_ngcontent-%COMP%]{padding:.55rem 1.1rem;border-radius:10px;font-weight:600;cursor:pointer;transition:.15s;border:1px solid transparent}.btn-primary[_ngcontent-%COMP%]{background:#1d4ed8;color:#fff;border-color:#1d4ed8}.btn-primary[_ngcontent-%COMP%]:hover{background:#1e40af;border-color:#1e40af}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#111827;border-color:#d1d5db}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e5e7eb}@media (max-width: 768px){.field[_ngcontent-%COMP%]{grid-column:1/-1}.form-grid-3[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-grid-3[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{grid-column:span 1}}  .p-button-primary{background:linear-gradient(135deg,#2563eb,#1d4ed8);border-color:#2563eb;box-shadow:0 10px 25px #2563eb59}  .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1d4ed8,#1e40af);border-color:#1d4ed8;box-shadow:0 14px 30px #2563eb73;transform:translateY(-1px)}  .p-button-primary:disabled{opacity:.7;cursor:default;box-shadow:none}  .p-button-secondary{border-color:#2563eb;color:#2563eb}  .p-button-secondary:hover:not(:disabled){background:#2563eb;color:#fff;border-color:#2563eb}  .p-select{width:100%}  .p-inputnumber{width:100%}  .p-inputnumber-input{width:100%}  .p-calendar{width:100%}  .p-calendar .p-inputtext{width:100%}  .change-password-form .form-group{margin-bottom:1.5rem}  .change-password-form .form-label{display:block;margin-bottom:.5rem;font-weight:500;color:var(--gray-700, #374151)}  .change-password-form .password-input-wrapper{position:relative;display:flex;align-items:center}  .change-password-form .password-input-wrapper .password-input{padding-left:2.75rem}  .change-password-form .password-input-wrapper .password-toggle-btn{position:absolute;left:.75rem;background:none;border:none;cursor:pointer;color:var(--gray-500, #6b7280);padding:.25rem;display:flex;align-items:center;justify-content:center;transition:color .2s ease;z-index:1}  .change-password-form .password-input-wrapper .password-toggle-btn:hover:not(:disabled){color:var(--gray-700, #374151)}  .change-password-form .password-input-wrapper .password-toggle-btn:disabled{opacity:.5;cursor:not-allowed}  .change-password-form .password-input-wrapper .password-toggle-btn i{font-size:1rem}  .change-password-form .password-input-wrapper .password-toggle-btn .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}  .change-password-form .dialog-actions{display:flex;justify-content:flex-end;gap:.5rem;margin-top:1.5rem}`]})};function ji(o,t){o&1&&(i(0,"div",8)(1,"div",9),c(2,"p-skeleton",10),n()())}function Ii(o,t){o&1&&c(0,"i",14)}function Vi(o,t){o&1&&c(0,"i",15)}function Li(o,t){if(o&1){let e=x();i(0,"div",17)(1,"div",28),c(2,"i",29),i(3,"div")(4,"div",30),l(5),n(),i(6,"div",31)(7,"p-button",32),f("onClick",function(){_(e);let s=d(2);return b(s.previewResume())}),n(),i(8,"p-button",33),f("onClick",function(){_(e);let s=d(2);return b(s.downloadResume())}),n()()()()()}if(o&2){let e=d(2);r(5),v(e.resumeDisplayName)}}function Bi(o,t){if(o&1){let e=x();i(0,"div",8)(1,"div",11)(2,"div",12)(3,"div",13),p(4,Ii,1,0,"i",14)(5,Vi,1,0,"i",15),n(),i(6,"div",16)(7,"h2"),l(8),n(),i(9,"p"),l(10),n()()(),p(11,Li,9,1,"div",17),n()(),i(12,"div",18)(13,"div",19)(14,"div",20),c(15,"i",21),n(),i(16,"h3"),l(17,"\u0631\u0641\u0639 \u0645\u0644\u0641 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n(),i(18,"p"),l(19,"\u0642\u0645 \u0628\u0631\u0641\u0639 \u0645\u0644\u0641 PDF \u0623\u0648 Word \u0627\u0644\u062E\u0627\u0635 \u0628\u0633\u064A\u0631\u062A\u0643 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n(),i(20,"p-button",22),f("onClick",function(){_(e);let s=d();return b(s.navigateToProfile())}),n()(),i(21,"div",19)(22,"div",20),c(23,"i",23),n(),i(24,"h3"),l(25,"\u0645\u0646\u0634\u0626 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n(),i(26,"p"),l(27,"\u0623\u0646\u0634\u0626 \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629 \u0627\u062D\u062A\u0631\u0627\u0641\u064A\u0629 \u0645\u062C\u0627\u0646\u0627\u064B \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0645\u0646\u0634\u0626 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n(),i(28,"p-button",24),f("onClick",function(){_(e);let s=d();return b(s.navigateToBuilder())}),n()()(),i(29,"div",8)(30,"h3",25),c(31,"i",26),l(32," \u0646\u0635\u0627\u0626\u062D \u0644\u0625\u0639\u062F\u0627\u062F \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629 \u0627\u062D\u062A\u0631\u0627\u0641\u064A\u0629 "),n(),i(33,"ul",27)(34,"li"),l(35,"\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u062D\u062F\u064A\u062B \u0645\u0639\u0644\u0648\u0645\u0627\u062A\u0643 \u0627\u0644\u0634\u062E\u0635\u064A\u0629 \u0648\u0627\u0644\u0645\u0647\u0646\u064A\u0629 \u0628\u0634\u0643\u0644 \u062F\u0648\u0631\u064A"),n(),i(36,"li"),l(37,"\u0627\u0633\u062A\u062E\u062F\u0645 \u0635\u064A\u063A\u0629 PDF \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0623\u0641\u0636\u0644 \u0639\u0631\u0636"),n(),i(38,"li"),l(39,"\u0627\u062D\u0631\u0635 \u0639\u0644\u0649 \u0623\u0646 \u062A\u0643\u0648\u0646 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629 \u0648\u0627\u0636\u062D\u0629 \u0648\u0645\u0646\u0638\u0645\u0629"),n(),i(40,"li"),l(41,"\u0623\u0636\u0641 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0627\u0644\u0635\u062D\u064A\u062D\u0629"),n(),i(42,"li"),l(43,"\u0627\u0630\u0643\u0631 \u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062A \u0648\u0627\u0644\u062E\u0628\u0631\u0627\u062A \u0630\u0627\u062A \u0627\u0644\u0635\u0644\u0629 \u0628\u0627\u0644\u0648\u0638\u064A\u0641\u0629"),n()()()}if(o&2){let e=d();r(4),g(e.hasResume?4:5),r(4),v(e.hasResume?"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629 \u0645\u0631\u0641\u0648\u0639\u0629":"\u0644\u0627 \u062A\u0648\u062C\u062F \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629 \u0645\u0631\u0641\u0648\u0639\u0629"),r(2),v(e.hasResume?"\u0644\u062F\u064A\u0643 \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629 \u0645\u0631\u0641\u0648\u0639\u0629 \u0648\u064A\u0645\u0643\u0646\u0643 \u062A\u062D\u062F\u064A\u062B\u0647\u0627 \u0623\u0648 \u062A\u0646\u0632\u064A\u0644\u0647\u0627":"\u0642\u0645 \u0628\u0631\u0641\u0639 \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629 \u0623\u0648 \u0623\u0646\u0634\u0626 \u0648\u0627\u062D\u062F\u0629 \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0645\u0646\u0634\u0626 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),r(),g(e.hasResume?11:-1),r(9),m("label",lt(e.hasResume?"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0644\u0641":"\u0631\u0641\u0639 \u0645\u0644\u0641"))}}var Ke=class o{store=C(be);router=C(dt);toastr=C(De);destroy$=new I;resumeUrl=null;resumeDisplayName="\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629";hasResume=!1;isLoading=!0;ngOnInit(){this.store.ensureLoaded(),this.store.profile$.pipe(ge(this.destroy$),R(t=>!!t)).subscribe(t=>{let e=t.resume;if(this.hasResume=!!e,e){this.resumeUrl=this.toAbsolute(e);try{this.resumeDisplayName=decodeURIComponent(e.split("/").pop()||"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629")}catch{this.resumeDisplayName="\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"}}else this.resumeUrl=null,this.resumeDisplayName="\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629";this.isLoading=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}toAbsolute(t){if(!t)return null;if(/^(https?:|blob:|data:)/i.test(t))return t;let e=V.apiBaseUrl.replace(/\/+$/,""),a=String(t).replace(/^\/+/,"");return`${e}/${a}`}navigateToProfile(){this.router.navigate(["/jobseeker/profile"])}navigateToBuilder(){this.router.navigate(["/jobseeker/cv-builder"])}downloadResume(){this.resumeUrl&&window.open(this.resumeUrl,"_blank")}previewResume(){this.resumeUrl&&window.open(this.resumeUrl,"_blank")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-cv"]],standalone:!1,decls:13,vars:2,consts:[["id","cv"],[1,"dashboard-header"],[1,"dashboard-title"],[1,"dashboard-actions"],["routerLink","/jobseeker/cv-builder",1,"btn","btn-secondary"],[1,"pi","pi-file-edit"],["routerLink","/jobseeker/profile",1,"btn","btn-primary"],[1,"pi","pi-upload"],[1,"content-card"],[1,"loading-state"],["width","100%","height","200px"],[1,"cv-status-section"],[1,"cv-status-header"],[1,"cv-status-icon"],[1,"pi","pi-check-circle",2,"color","#10b981","font-size","3rem"],[1,"pi","pi-exclamation-circle",2,"color","#f59e0b","font-size","3rem"],[1,"cv-status-info"],[1,"cv-file-info"],[1,"cv-options-grid"],[1,"cv-option-card"],[1,"cv-option-icon"],[1,"pi","pi-upload",2,"font-size","2.5rem","color","#3b82f6"],["icon","pi pi-upload","styleClass","p-button-primary",3,"onClick","label"],[1,"pi","pi-file-edit",2,"font-size","2.5rem","color","#10b981"],["label","\u0625\u0646\u0634\u0627\u0621 \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629","icon","pi pi-file-edit","styleClass","p-button-success",3,"onClick"],[1,"section-title"],[1,"pi","pi-lightbulb"],[1,"cv-tips-list"],[1,"cv-file-details"],[1,"pi","pi-file",2,"font-size","2rem","color","#3b82f6"],[1,"cv-file-name"],[1,"cv-file-actions"],["label","\u0645\u0639\u0627\u064A\u0646\u0629","icon","pi pi-eye","styleClass","p-button-secondary p-button-sm",3,"onClick"],["label","\u062A\u0646\u0632\u064A\u0644","icon","pi pi-download","styleClass","p-button-primary p-button-sm",3,"onClick"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n(),i(4,"div",3)(5,"a",4),c(6,"i",5),l(7," \u0645\u0646\u0634\u0626 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629 "),n(),i(8,"a",6),c(9,"i",7),l(10),n()()(),p(11,ji,3,0,"div",8)(12,Bi,44,6),n()),e&2&&(r(10),h(" ",a.hasResume?"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0644\u0641":"\u0631\u0641\u0639 \u0645\u0644\u0641"," "),r(),g(a.isLoading?11:12))},dependencies:[Y,Ce,z],styles:['@charset "UTF-8";#cv[_ngcontent-%COMP%]{padding:0;margin:0}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-8, 2rem);padding-bottom:var(--spacing-6, 1.5rem);border-bottom:1px solid var(--gray-200, #e5e7eb)}.dashboard-header[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-3xl, 1.875rem);font-weight:700;color:var(--gray-900, #111827)}.dashboard-header[_ngcontent-%COMP%]   .dashboard-actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-3, .75rem);align-items:center}.dashboard-header[_ngcontent-%COMP%]   .dashboard-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--spacing-2, .5rem);padding:var(--spacing-3, .75rem) var(--spacing-5, 1.25rem);font-weight:500;border-radius:var(--radius-lg, .5rem);transition:all var(--transition-normal, .3s ease)}.dashboard-header[_ngcontent-%COMP%]   .dashboard-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.content-card[_ngcontent-%COMP%]{background:var(--white, #ffffff);border:1px solid var(--gray-200, #e5e7eb);border-radius:var(--radius-xl, .75rem);box-shadow:var(--shadow-sm, 0 1px 2px 0 rgba(0, 0, 0, .05));margin-bottom:var(--spacing-6, 1.5rem);overflow:hidden;transition:all var(--transition-normal, .3s ease)}.content-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-md, 0 4px 6px -1px rgba(0, 0, 0, .1))}.cv-status-section[_ngcontent-%COMP%]{padding:var(--spacing-8, 2rem)}.cv-status-section[_ngcontent-%COMP%]   .cv-status-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:var(--spacing-6, 1.5rem);margin-bottom:var(--spacing-6, 1.5rem)}.cv-status-section[_ngcontent-%COMP%]   .cv-status-header[_ngcontent-%COMP%]   .cv-status-icon[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:center;width:80px;height:80px;border-radius:50%;background:var(--gray-50, #f9fafb)}.cv-status-section[_ngcontent-%COMP%]   .cv-status-header[_ngcontent-%COMP%]   .cv-status-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem}.cv-status-section[_ngcontent-%COMP%]   .cv-status-header[_ngcontent-%COMP%]   .cv-status-info[_ngcontent-%COMP%]{flex:1;padding-top:var(--spacing-2, .5rem)}.cv-status-section[_ngcontent-%COMP%]   .cv-status-header[_ngcontent-%COMP%]   .cv-status-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 var(--spacing-2, .5rem) 0;font-size:var(--font-size-2xl, 1.5rem);font-weight:600;color:var(--gray-900, #1f2937);line-height:1.3}.cv-status-section[_ngcontent-%COMP%]   .cv-status-header[_ngcontent-%COMP%]   .cv-status-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--gray-600, #4b5563);font-size:var(--font-size-base, 1rem);line-height:1.6}.cv-status-section[_ngcontent-%COMP%]   .cv-file-info[_ngcontent-%COMP%]{background:var(--gray-50, #f9fafb);border:1px solid var(--gray-200, #e5e7eb);border-radius:var(--radius-lg, .5rem);padding:var(--spacing-6, 1.5rem);margin-top:var(--spacing-6, 1.5rem)}.cv-status-section[_ngcontent-%COMP%]   .cv-file-info[_ngcontent-%COMP%]   .cv-file-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-4, 1rem)}.cv-status-section[_ngcontent-%COMP%]   .cv-file-info[_ngcontent-%COMP%]   .cv-file-details[_ngcontent-%COMP%]   .cv-file-name[_ngcontent-%COMP%]{font-weight:600;font-size:var(--font-size-lg, 1.125rem);color:var(--gray-900, #1f2937);margin-bottom:var(--spacing-3, .75rem)}.cv-status-section[_ngcontent-%COMP%]   .cv-file-info[_ngcontent-%COMP%]   .cv-file-details[_ngcontent-%COMP%]   .cv-file-actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-3, .75rem);flex-wrap:wrap}.cv-options-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:var(--spacing-6, 1.5rem);margin-bottom:var(--spacing-8, 2rem)}.cv-options-grid[_ngcontent-%COMP%]   .cv-option-card[_ngcontent-%COMP%]{background:var(--white, #ffffff);border:1px solid var(--gray-200, #e5e7eb);border-radius:var(--radius-xl, .75rem);padding:var(--spacing-8, 2rem);text-align:center;transition:all var(--transition-normal, .3s ease);box-shadow:var(--shadow-sm, 0 1px 2px 0 rgba(0, 0, 0, .05))}.cv-options-grid[_ngcontent-%COMP%]   .cv-option-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-lg, 0 10px 15px -3px rgba(0, 0, 0, .1));transform:translateY(-4px);border-color:var(--primary-color, #2563eb)}.cv-options-grid[_ngcontent-%COMP%]   .cv-option-card[_ngcontent-%COMP%]   .cv-option-icon[_ngcontent-%COMP%]{margin-bottom:var(--spacing-5, 1.25rem);display:flex;align-items:center;justify-content:center}.cv-options-grid[_ngcontent-%COMP%]   .cv-option-card[_ngcontent-%COMP%]   .cv-option-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;padding:var(--spacing-4, 1rem);border-radius:var(--radius-lg, .5rem);background:var(--gray-50, #f9fafb)}.cv-options-grid[_ngcontent-%COMP%]   .cv-option-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 var(--spacing-3, .75rem) 0;font-size:var(--font-size-xl, 1.25rem);font-weight:600;color:var(--gray-900, #1f2937);line-height:1.3}.cv-options-grid[_ngcontent-%COMP%]   .cv-option-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 var(--spacing-6, 1.5rem) 0;color:var(--gray-600, #4b5563);font-size:var(--font-size-base, 1rem);line-height:1.6;min-height:3rem}.cv-options-grid[_ngcontent-%COMP%]   .cv-option-card[_ngcontent-%COMP%]     .p-button{width:100%;justify-content:center}.cv-tips-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.cv-tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:var(--spacing-4, 1rem) 0;padding-right:var(--spacing-8, 2rem);position:relative;color:var(--gray-700, #374151);font-size:var(--font-size-base, 1rem);line-height:1.7}.cv-tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2713";position:absolute;right:0;top:var(--spacing-4, 1rem);width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:var(--success-color, #10b981);color:#fff;border-radius:50%;font-size:.875rem;font-weight:700}.cv-tips-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--gray-200, #e5e7eb)}.loading-state[_ngcontent-%COMP%]{padding:var(--spacing-10, 2.5rem);text-align:center}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-3, .75rem);margin:0 0 var(--spacing-6, 1.5rem) 0;padding-bottom:var(--spacing-4, 1rem);border-bottom:2px solid var(--gray-100, #f3f4f6);font-size:var(--font-size-xl, 1.25rem);font-weight:600;color:var(--gray-900, #1f2937)}.section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color, #3b82f6);font-size:1.5rem}@media (max-width: 1024px){.cv-options-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--spacing-5, 1.25rem)}}@media (max-width: 768px){.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:var(--spacing-4, 1rem);padding-bottom:var(--spacing-4, 1rem)}.dashboard-header[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{font-size:var(--font-size-2xl, 1.5rem)}.dashboard-header[_ngcontent-%COMP%]   .dashboard-actions[_ngcontent-%COMP%]{width:100%;flex-direction:column}.dashboard-header[_ngcontent-%COMP%]   .dashboard-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.cv-status-section[_ngcontent-%COMP%]{padding:var(--spacing-5, 1.25rem)}.cv-status-section[_ngcontent-%COMP%]   .cv-status-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:var(--spacing-4, 1rem)}.cv-status-section[_ngcontent-%COMP%]   .cv-status-header[_ngcontent-%COMP%]   .cv-status-icon[_ngcontent-%COMP%]{margin:0 auto}.cv-options-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:var(--spacing-4, 1rem)}.cv-options-grid[_ngcontent-%COMP%]   .cv-option-card[_ngcontent-%COMP%]{padding:var(--spacing-6, 1.5rem)}.content-card[_ngcontent-%COMP%]{margin-bottom:var(--spacing-4, 1rem)}}@media (max-width: 480px){.cv-status-section[_ngcontent-%COMP%]{padding:var(--spacing-4, 1rem)}.cv-options-grid[_ngcontent-%COMP%]   .cv-option-card[_ngcontent-%COMP%]{padding:var(--spacing-5, 1.25rem)}.cv-options-grid[_ngcontent-%COMP%]   .cv-option-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--font-size-lg, 1.125rem)}.cv-options-grid[_ngcontent-%COMP%]   .cv-option-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-sm, .875rem)}}']})};var ht=class o{jobService=C(pt);alertsTrigger$=new I;categoriesTrigger$=new I;loadingAlertsSubject=new te(!1);loadingAlerts$=this.loadingAlertsSubject.asObservable();loadingCategoriesSubject=new te(!1);loadingCategories$=this.loadingCategoriesSubject.asObservable();alertsLoaded=!1;categoriesLoaded=!1;alertsDataSubject=new te({alerts:[],categories:[]});alerts$=this.alertsDataSubject.asObservable();categories$=this.categoriesTrigger$.pipe(ne(()=>(this.loadingCategoriesSubject.next(!0),this.loadCategoriesData())),J(t=>{this.loadingCategoriesSubject.next(!1),this.categoriesLoaded=!0;let e=this.alertsDataSubject.value;this.alertsDataSubject.next(L(j({},e),{categories:t}))}),Oe(this.alertsDataSubject.value.categories),ie({bufferSize:1,refCount:!1}));alerts=_e(this.alerts$,{initialValue:{alerts:[],categories:[]}});get snapshot(){return j({},this.alertsDataSubject.value)}loadAlertsData(){return this.jobService.getAlerts().pipe(U(t=>Array.isArray(t)?t:t&&Array.isArray(t.results)?t.results:t&&Array.isArray(t.alerts)?t.alerts:[]),W(t=>(console.error("Failed to load alerts",t),$([]))))}alertsList$=this.alertsTrigger$.pipe(ne(()=>(this.loadingAlertsSubject.next(!0),this.loadAlertsData())),J(t=>{this.loadingAlertsSubject.next(!1),this.alertsLoaded=!0;let e=this.alertsDataSubject.value;this.alertsDataSubject.next(L(j({},e),{alerts:t}))}),Oe(this.alertsDataSubject.value.alerts),ie({bufferSize:1,refCount:!1}));loadCategoriesData(){return this.jobService.getCategories().pipe(U(t=>t.results||[]),W(t=>(console.error("Failed to load categories",t),$([]))))}loadAlerts(){this.alertsLoaded||this.alertsTrigger$.next()}loadCategories(){this.categoriesLoaded||this.categoriesTrigger$.next()}createAlert(t){return this.jobService.createAlert(t).pipe(J(e=>{let a=this.alertsDataSubject.value,s=[...a.alerts,e];this.alertsDataSubject.next(L(j({},a),{alerts:s}))}))}updateAlert(t,e){return this.jobService.updateAlert(t,e).pipe(J(a=>{let s=this.alertsDataSubject.value,u=s.alerts.map(y=>y.id===t?a:y);this.alertsDataSubject.next(L(j({},s),{alerts:u}))}))}patchAlert(t,e){return this.jobService.patchAlert(t,e).pipe(J(a=>{let s=this.alertsDataSubject.value,u=s.alerts.map(y=>y.id===t?a:y);this.alertsDataSubject.next(L(j({},s),{alerts:u}))}))}deleteAlert(t){return this.jobService.deleteAlert(t).pipe(J(()=>{let e=this.alertsDataSubject.value,a=e.alerts.filter(s=>s.id!==t);this.alertsDataSubject.next(L(j({},e),{alerts:a}))}))}refreshAlerts(){this.alertsLoaded=!1,this.loadAlerts()}refreshCategories(){this.categoriesLoaded=!1,this.loadCategories()}reset(){this.alertsLoaded=!1,this.categoriesLoaded=!1,this.loadingAlertsSubject.next(!1),this.loadingCategoriesSubject.next(!1),this.alertsDataSubject.next({alerts:[],categories:[]})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=oe({token:o,factory:o.\u0275fac,providedIn:"root"})};var zi=()=>({width:"90%",maxWidth:"600px"}),Ni=(o,t)=>t.id;function Ji(o,t){o&1&&(i(0,"div",6)(1,"p"),l(2,"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u0646\u0628\u064A\u0647\u0627\u062A..."),n()())}function $i(o,t){if(o&1){let e=x();i(0,"div",7)(1,"div",36),l(2,"\u{1F514}"),n(),i(3,"h3"),l(4,"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u0646\u0628\u064A\u0647\u0627\u062A \u0648\u0638\u0627\u0626\u0641"),n(),i(5,"p"),l(6,"\u0623\u0646\u0634\u0626 \u062A\u0646\u0628\u064A\u0647\u0627\u062A \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0639\u0646\u062F \u0646\u0634\u0631 \u0648\u0638\u0627\u0626\u0641 \u062A\u0646\u0627\u0633\u0628 \u0627\u0647\u062A\u0645\u0627\u0645\u0627\u062A\u0643"),n(),i(7,"button",4),f("click",function(){_(e);let s=d();return b(s.openCreateDialog())}),l(8," \u0625\u0646\u0634\u0627\u0621 \u062A\u0646\u0628\u064A\u0647 \u0627\u0644\u0622\u0646 "),n()()}}function Ui(o,t){if(o&1&&(i(0,"div",48)(1,"span",49),l(2,"\u0627\u0644\u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0641\u062A\u0627\u062D\u064A\u0629:"),n(),i(3,"span",50),l(4),n()()),o&2){let e=d().$implicit;r(4),v(e.keywords)}}function Ri(o,t){if(o&1&&(i(0,"div",48)(1,"span",49),l(2,"\u0627\u0644\u0645\u062F\u064A\u0646\u0629:"),n(),i(3,"span",50),l(4),n()()),o&2){let e=d().$implicit,a=d(2);r(4),v(a.getCityLabel(e.city))}}function Wi(o,t){if(o&1&&(i(0,"div",48)(1,"span",49),l(2,"\u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064A\u0641\u0629:"),n(),i(3,"span",50),l(4),n()()),o&2){let e=d().$implicit,a=d(2);r(4),v(a.getJobTypeLabel(e.job_type))}}function Hi(o,t){if(o&1&&(i(0,"div",48)(1,"span",49),l(2,"\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u0628\u0631\u0629:"),n(),i(3,"span",50),l(4),n()()),o&2){let e=d().$implicit,a=d(2);r(4),v(a.getExperienceLevelLabel(e.experience_level))}}function Gi(o,t){if(o&1&&(i(0,"div",48)(1,"span",49),l(2,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0631\u0627\u062A\u0628:"),n(),i(3,"span",50),l(4),Ae(5,"number"),n()()),o&2){let e=d().$implicit;r(4),h("",Rt(5,1,e.salary_min)," \u0631\u064A\u0627\u0644")}}function qi(o,t){if(o&1&&(i(0,"div",48)(1,"span",49),l(2,"\u0627\u0644\u0641\u0626\u0629:"),n(),i(3,"span",50),l(4),n()()),o&2){let e=d().$implicit,a=d(2);r(4),v(a.getCategoryName(e.category))}}function Yi(o,t){if(o&1){let e=x();i(0,"div",38)(1,"div",39)(2,"div",40)(3,"h3",41),l(4),n(),i(5,"span",42),l(6),n()(),i(7,"div",43)(8,"button",44),f("click",function(){let s=_(e).$implicit,u=d(2);return b(u.toggleAlertStatus(s))}),l(9),n(),i(10,"button",45),f("click",function(){let s=_(e).$implicit,u=d(2);return b(u.openEditDialog(s))}),l(11," \u270F\uFE0F "),n(),i(12,"button",46),f("click",function(){let s=_(e).$implicit,u=d(2);return b(u.deleteAlert(s))}),l(13," \u{1F5D1}\uFE0F "),n()()(),i(14,"div",47),p(15,Ui,5,1,"div",48),p(16,Ri,5,1,"div",48),p(17,Wi,5,1,"div",48),p(18,Hi,5,1,"div",48),p(19,Gi,6,3,"div",48),p(20,qi,5,1,"div",48),i(21,"div",48)(22,"span",49),l(23,"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064A\u062F:"),n(),i(24,"span",50),l(25),n()()()()}if(o&2){let e=t.$implicit;D("inactive",!e.is_active),r(4),v(e.title),r(),D("active",e.is_active)("inactive",!e.is_active),r(),h(" ",e.is_active?"\u0646\u0634\u0637":"\u0645\u0639\u0637\u0644"," "),r(2),m("title",e.is_active?"\u062A\u0639\u0637\u064A\u0644":"\u062A\u0641\u0639\u064A\u0644"),r(),h(" ",e.is_active?"\u23F8\uFE0F":"\u25B6\uFE0F"," "),r(6),g(e.keywords?15:-1),r(),g(e.city?16:-1),r(),g(e.job_type?17:-1),r(),g(e.experience_level?18:-1),r(),g(e.salary_min?19:-1),r(),g(e.category?20:-1),r(5),v(e.email_notifications?"\u0645\u0641\u0639\u0644":"\u0645\u0639\u0637\u0644")}}function Xi(o,t){if(o&1&&(i(0,"div",8),M(1,Yi,26,17,"div",37,Ni),n()),o&2){let e=d();r(),w(e.alerts)}}function Ki(o,t){o&1&&(i(0,"small",14),l(1,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u062A\u0646\u0628\u064A\u0647 \u0645\u0637\u0644\u0648\u0628"),n())}var Qe=class o extends X{alertsStore=C(ht);fb=C(he);alerts=[];loading=!1;showDialog=!1;editingAlert=null;alertForm;jobCities=ft;jobTypes=mn;experienceLevels=pn;categories=[];ngOnInit(){this.initForm(),this.alertsStore.loadingAlerts$.subscribe(t=>{this.loading=t}),this.alertsStore.alerts$.subscribe({next:t=>{this.alerts=t.alerts,this.categories=t.categories},error:t=>{this.errors.error(t,{join:!0}),this.loading=!1}}),this.alertsStore.categories$.subscribe({next:t=>{this.categories=t},error:t=>{console.error("Failed to load categories",t)}}),this.alertsStore.loadAlerts(),this.alertsStore.loadCategories()}initForm(){this.alertForm=this.fb.group({title:["",[B.required]],keywords:[""],city:[""],job_type:[""],experience_level:[""],salary_min:[null],category:[null],is_active:[!0],email_notifications:[!0]})}openCreateDialog(){this.editingAlert=null,this.alertForm.reset({is_active:!0,email_notifications:!0}),this.showDialog=!0}openEditDialog(t){this.editingAlert=t,this.alertForm.patchValue({title:t.title||"",keywords:t.keywords||"",city:t.city||"",job_type:t.job_type||"",experience_level:t.experience_level||"",salary_min:t.salary_min||null,category:t.category||null,is_active:t.is_active!==void 0?t.is_active:!0,email_notifications:t.email_notifications!==void 0?t.email_notifications:!0}),this.showDialog=!0}closeDialog(){this.showDialog=!1,this.editingAlert=null,this.alertForm.reset({is_active:!0,email_notifications:!0})}saveAlert(){if(this.alertForm.invalid){this.alertForm.markAllAsTouched(),this.toastr.error("\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629");return}let t=this.alertForm.value,e={title:t.title,keywords:t.keywords||void 0,city:t.city||void 0,job_type:t.job_type||void 0,experience_level:t.experience_level||void 0,salary_min:t.salary_min?Number(t.salary_min):void 0,category:t.category?Number(t.category):void 0,is_active:t.is_active!==void 0?t.is_active:!0,email_notifications:t.email_notifications!==void 0?t.email_notifications:!0};this.editingAlert?this.alertsStore.updateAlert(this.editingAlert.id,e).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062A\u0646\u0628\u064A\u0647 \u0628\u0646\u062C\u0627\u062D"),this.closeDialog()},error:a=>{this.errors.error(a,{join:!0})}}):this.alertsStore.createAlert(e).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062A\u0646\u0628\u064A\u0647 \u0628\u0646\u062C\u0627\u062D"),this.closeDialog()},error:a=>{this.errors.error(a,{join:!0})}})}deleteAlert(t){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u062A\u0646\u0628\u064A\u0647\u061F")&&this.alertsStore.deleteAlert(t.id).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u062A\u0646\u0628\u064A\u0647 \u0628\u0646\u062C\u0627\u062D")},error:e=>{this.errors.error(e,{join:!0})}})}toggleAlertStatus(t){let e={is_active:!t.is_active};this.alertsStore.patchAlert(t.id,e).subscribe({next:a=>{this.toastr.success(a.is_active?"\u062A\u0645 \u062A\u0641\u0639\u064A\u0644 \u0627\u0644\u062A\u0646\u0628\u064A\u0647":"\u062A\u0645 \u062A\u0639\u0637\u064A\u0644 \u0627\u0644\u062A\u0646\u0628\u064A\u0647")},error:a=>{this.errors.error(a,{join:!0})}})}getCityLabel(t){if(!t)return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";let e=this.jobCities.find(a=>a.value===t);return e?e.label:t}getJobTypeLabel(t){if(!t)return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";let e=this.jobTypes.find(a=>a.value===t);return e?e.label:t}getExperienceLevelLabel(t){if(!t)return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";let e=this.experienceLevels.find(a=>a.value===t);return e?e.label:t}getCategoryName(t){if(!t)return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";let e=this.categories.find(a=>a.id===t);return e?e.name:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}static \u0275fac=(()=>{let t;return function(a){return(t||(t=re(o)))(a||o)}})();static \u0275cmp=A({type:o,selectors:[["app-alerts"]],standalone:!1,features:[H],decls:55,vars:28,consts:[["id","alerts"],[1,"dashboard-header"],[1,"dashboard-title"],[1,"dashboard-actions"],[1,"btn","btn-primary",3,"click"],[1,"content-card"],[1,"loading-indicator"],[1,"empty-state"],[1,"alerts-list"],[3,"visibleChange","onHide","visible","modal","header","draggable","resizable"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","title",1,"form-label"],["pInputText","","id","title","formControlName","title","placeholder","\u0645\u062B\u0627\u0644: \u0645\u0637\u0648\u0631 \u062A\u0637\u0628\u064A\u0642\u0627\u062A \u0627\u0644\u0648\u064A\u0628"],[1,"p-error"],["for","keywords",1,"form-label"],["pInputText","","id","keywords","formControlName","keywords","placeholder","\u0645\u062B\u0627\u0644: Angular, React, Node.js"],[1,"form-row"],["for","city",1,"form-label"],["id","city","formControlName","city","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u062F\u064A\u0646\u0629",3,"options","showClear"],["for","job_type",1,"form-label"],["id","job_type","formControlName","job_type","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064A\u0641\u0629",3,"options","showClear"],["for","experience_level",1,"form-label"],["id","experience_level","formControlName","experience_level","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u0628\u0631\u0629",3,"options","showClear"],["for","category",1,"form-label"],["id","category","formControlName","category","optionLabel","name","optionValue","id","placeholder","\u0627\u062E\u062A\u0631 \u0627\u0644\u0641\u0626\u0629",3,"options","showClear"],["for","salary_min",1,"form-label"],["id","salary_min","formControlName","salary_min","placeholder","\u0645\u062B\u0627\u0644: 5000","styleClass","w-full",3,"min","useGrouping"],[1,"form-group","checkbox-group"],["formControlName","is_active","inputId","is_active",3,"binary"],["for","is_active",1,"checkbox-label"],["formControlName","email_notifications","inputId","email_notifications",3,"binary"],["for","email_notifications",1,"checkbox-label"],[1,"dialog-actions"],["type","button","label","\u0625\u0644\u063A\u0627\u0621","styleClass","p-button-secondary",3,"onClick"],["type","submit","styleClass","p-button-primary",3,"label","disabled"],[1,"empty-state-icon"],[1,"alert-item",3,"inactive"],[1,"alert-item"],[1,"alert-header"],[1,"alert-title-section"],[1,"alert-title"],[1,"alert-status"],[1,"alert-actions"],[1,"btn-icon",3,"click","title"],["title","\u062A\u0639\u062F\u064A\u0644",1,"btn-icon",3,"click"],["title","\u062D\u0630\u0641",1,"btn-icon","btn-danger",3,"click"],[1,"alert-details"],[1,"alert-detail"],[1,"detail-label"],[1,"detail-value"]],template:function(e,a){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"\u062A\u0646\u0628\u064A\u0647\u0627\u062A \u0627\u0644\u0648\u0638\u0627\u0626\u0641"),n(),i(4,"div",3)(5,"button",4),f("click",function(){return a.openCreateDialog()}),l(6," \u0625\u0646\u0634\u0627\u0621 \u062A\u0646\u0628\u064A\u0647 \u062C\u062F\u064A\u062F "),n()()(),i(7,"div",5),p(8,Ji,3,0,"div",6)(9,$i,9,0,"div",7)(10,Xi,3,0,"div",8),n()(),i(11,"p-dialog",9),k("visibleChange",function(u){return O(a.showDialog,u)||(a.showDialog=u),u}),f("onHide",function(){return a.closeDialog()}),i(12,"form",10),f("ngSubmit",function(){return a.saveAlert()}),i(13,"div",11)(14,"label",12),l(15,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u062A\u0646\u0628\u064A\u0647 *"),n(),c(16,"input",13),p(17,Ki,2,0,"small",14),n(),i(18,"div",11)(19,"label",15),l(20,"\u0627\u0644\u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0641\u062A\u0627\u062D\u064A\u0629"),n(),c(21,"input",16),n(),i(22,"div",17)(23,"div",11)(24,"label",18),l(25,"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"),n(),c(26,"p-select",19),n(),i(27,"div",11)(28,"label",20),l(29,"\u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064A\u0641\u0629"),n(),c(30,"p-select",21),n()(),i(31,"div",17)(32,"div",11)(33,"label",22),l(34,"\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u0628\u0631\u0629"),n(),c(35,"p-select",23),n(),i(36,"div",11)(37,"label",24),l(38,"\u0627\u0644\u0641\u0626\u0629"),n(),c(39,"p-select",25),n()(),i(40,"div",11)(41,"label",26),l(42,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0631\u0627\u062A\u0628 (\u0631\u064A\u0627\u0644)"),n(),c(43,"p-inputNumber",27),n(),i(44,"div",28),c(45,"p-checkbox",29),i(46,"label",30),l(47,"\u0627\u0644\u062A\u0646\u0628\u064A\u0647 \u0646\u0634\u0637"),n()(),i(48,"div",28),c(49,"p-checkbox",31),i(50,"label",32),l(51,"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),n()(),i(52,"div",33)(53,"p-button",34),f("onClick",function(){return a.closeDialog()}),n(),c(54,"p-button",35),n()()()),e&2){let s,u;r(8),g(a.loading?8:a.alerts.length===0?9:10),r(3),q(S(27,zi)),P("visible",a.showDialog),m("modal",!0)("header",a.editingAlert?"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062A\u0646\u0628\u064A\u0647":"\u0625\u0646\u0634\u0627\u0621 \u062A\u0646\u0628\u064A\u0647 \u062C\u062F\u064A\u062F")("draggable",!1)("resizable",!1),r(),m("formGroup",a.alertForm),r(4),D("p-invalid",((s=a.alertForm.get("title"))==null?null:s.invalid)&&((s=a.alertForm.get("title"))==null?null:s.touched)),r(),g((u=a.alertForm.get("title"))!=null&&u.invalid&&((u=a.alertForm.get("title"))!=null&&u.touched)?17:-1),r(9),m("options",a.jobCities)("showClear",!0),r(4),m("options",a.jobTypes)("showClear",!0),r(5),m("options",a.experienceLevels)("showClear",!0),r(4),m("options",a.categories)("showClear",!0),r(4),m("min",0)("useGrouping",!0),r(2),m("binary",!0),r(4),m("binary",!0),r(5),m("label",lt(a.editingAlert?"\u062A\u062D\u062F\u064A\u062B":"\u0625\u0646\u0634\u0627\u0621"))("disabled",a.alertForm.invalid)}},dependencies:[me,ue,de,ce,Ie,Ce,Ve,Te,je,gt,Be,fn,Ht],styles:["#alerts[_ngcontent-%COMP%]{padding:2rem 0}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.dashboard-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--gray-900, #1a1a1a);margin:0}.dashboard-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.content-card[_ngcontent-%COMP%]{background:var(--white, #ffffff);border-radius:var(--radius-lg, 8px);box-shadow:var(--shadow-sm, 0 2px 4px rgba(0, 0, 0, .1));border:1px solid var(--gray-200, #e0e0e0);overflow:hidden;padding:1.5rem}.loading-indicator[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem}.empty-state-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--gray-900, #1a1a1a);margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray-600, #666);margin:0 0 1.5rem}.alerts-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.alert-item[_ngcontent-%COMP%]{background:var(--white, #ffffff);border:1px solid var(--gray-200, #e0e0e0);border-radius:var(--radius-md, 6px);padding:1.5rem;transition:all .2s}.alert-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a;border-color:var(--primary-color, #007bff)}.alert-item.inactive[_ngcontent-%COMP%]{opacity:.7;background:var(--gray-50, #f5f5f5)}.alert-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem;gap:1rem}.alert-title-section[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.alert-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--gray-900, #1a1a1a);margin:0}.alert-status[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:var(--radius-lg, 8px);font-size:.75rem;font-weight:600;white-space:nowrap}.alert-status.active[_ngcontent-%COMP%]{background:var(--green-100, #d4edda);color:var(--green-700, #155724)}.alert-status.inactive[_ngcontent-%COMP%]{background:var(--gray-200, #e0e0e0);color:var(--gray-600, #666)}.alert-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-icon[_ngcontent-%COMP%]{background:none;border:1px solid var(--gray-300, #d0d0d0);border-radius:var(--radius-md, 6px);padding:.5rem;cursor:pointer;font-size:1.2rem;transition:all .2s;min-width:36px;height:36px;display:flex;align-items:center;justify-content:center}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--gray-100, #f0f0f0);border-color:var(--gray-400, #b0b0b0)}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover{background:var(--red-100, #f8d7da);border-color:var(--red-300, #f5c6cb);color:var(--red-700, #721c24)}.alert-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.75rem}.alert-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.detail-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--gray-500, #999);font-weight:500}.detail-value[_ngcontent-%COMP%]{font-size:.9rem;color:var(--gray-800, #333);font-weight:500}  .p-dialog .form-group{margin-bottom:1.25rem}  .p-dialog .form-label{display:block;margin-bottom:.5rem;font-weight:600;color:var(--gray-700, #555);font-size:.9rem}  .p-dialog .form-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem}  .p-dialog .checkbox-group{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}  .p-dialog .checkbox-label{margin:0;font-weight:500;cursor:pointer}  .p-dialog .dialog-actions{display:flex;justify-content:flex-end;gap:1rem;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--gray-200, #e0e0e0)}  .p-dialog .p-inputtext,   .p-dialog .p-select,   .p-dialog .p-inputnumber{width:100%}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:var(--radius-md, 6px);font-weight:600;cursor:pointer;border:none;transition:all .2s;font-size:.95rem}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#0056b3,#004085);transform:translateY(-1px);box-shadow:0 4px 8px #007bff4d}.btn.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.alert-header[_ngcontent-%COMP%]{flex-direction:column}.alert-title-section[_ngcontent-%COMP%]{width:100%}.alert-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.alert-details[_ngcontent-%COMP%]{grid-template-columns:1fr}  .p-dialog .form-row{grid-template-columns:1fr}}"]})};var Ze=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-settings"]],standalone:!1,decls:7,vars:0,consts:[["id","settings"],[1,"dashboard-header"],[1,"dashboard-title"],[1,"content-card"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A"),n()(),i(4,"div",3)(5,"p"),l(6,"\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u062D\u0633\u0627\u0628 \u0633\u062A\u062A\u0645 \u0647\u0646\u0627..."),n()()())},encapsulation:2})};function Qi(o,t){if(o&1){let e=x();i(0,"div",20)(1,"button",34),f("click",function(){let s=_(e).$index,u=d();return b(u.removeExperience(s))}),l(2,"\xD7"),n(),i(3,"div",8)(4,"div",9)(5,"label",10),l(6,"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A"),n(),i(7,"input",35),k("ngModelChange",function(s){let u=_(e).$implicit;return O(u.title,s)||(u.title=s),b(s)}),n()(),i(8,"div",9)(9,"label",10),l(10,"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629"),n(),i(11,"input",36),k("ngModelChange",function(s){let u=_(e).$implicit;return O(u.company,s)||(u.company=s),b(s)}),n()()(),i(12,"div",8)(13,"div",9)(14,"label",10),l(15,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629"),n(),i(16,"input",37),k("ngModelChange",function(s){let u=_(e).$implicit;return O(u.start,s)||(u.start=s),b(s)}),n()(),i(17,"div",9)(18,"label",10),l(19,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0646\u0647\u0627\u064A\u0629"),n(),i(20,"input",38),k("ngModelChange",function(s){let u=_(e).$implicit;return O(u.end,s)||(u.end=s),b(s)}),n()()(),i(21,"div",9)(22,"label",10),l(23,"\u0648\u0635\u0641 \u0627\u0644\u0645\u0647\u0627\u0645"),n(),i(24,"textarea",39),k("ngModelChange",function(s){let u=_(e).$implicit;return O(u.description,s)||(u.description=s),b(s)}),n()()()}if(o&2){let e=t.$implicit,a=t.$index;r(7),m("name",le("expTitle",a)),P("ngModel",e.title),r(4),m("name",le("expCompany",a)),P("ngModel",e.company),r(5),m("name",le("expStart",a)),P("ngModel",e.start),r(4),m("name",le("expEnd",a)),P("ngModel",e.end),r(4),m("name",le("expDesc",a)),P("ngModel",e.description)}}function Zi(o,t){if(o&1){let e=x();i(0,"div",20)(1,"button",34),f("click",function(){let s=_(e).$index,u=d();return b(u.removeEducation(s))}),l(2,"\xD7"),n(),i(3,"div",8)(4,"div",9)(5,"label",10),l(6,"\u0627\u0644\u062F\u0631\u062C\u0629 \u0627\u0644\u0639\u0644\u0645\u064A\u0629"),n(),i(7,"input",40),k("ngModelChange",function(s){let u=_(e).$implicit;return O(u.degree,s)||(u.degree=s),b(s)}),n()(),i(8,"div",9)(9,"label",10),l(10,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0624\u0633\u0633\u0629"),n(),i(11,"input",41),k("ngModelChange",function(s){let u=_(e).$implicit;return O(u.institution,s)||(u.institution=s),b(s)}),n()()(),i(12,"div",8)(13,"div",9)(14,"label",10),l(15,"\u0633\u0646\u0629 \u0627\u0644\u062A\u062E\u0631\u062C"),n(),i(16,"input",42),k("ngModelChange",function(s){let u=_(e).$implicit;return O(u.year,s)||(u.year=s),b(s)}),n()(),i(17,"div",9)(18,"label",10),l(19,"\u0627\u0644\u062A\u0642\u062F\u064A\u0631"),n(),i(20,"input",43),k("ngModelChange",function(s){let u=_(e).$implicit;return O(u.grade,s)||(u.grade=s),b(s)}),n()()()()}if(o&2){let e=t.$implicit,a=t.$index;r(7),m("name",le("eduDegree",a)),P("ngModel",e.degree),r(4),m("name",le("eduInst",a)),P("ngModel",e.institution),r(5),m("name",le("eduYear",a)),P("ngModel",e.year),r(4),m("name",le("eduGrade",a)),P("ngModel",e.grade)}}function eo(o,t){if(o&1&&(i(0,"div",31)(1,"div",44),l(2,"\u0646\u0628\u0630\u0629 \u0645\u062E\u062A\u0635\u0631\u0629"),n(),i(3,"div"),l(4),n()()),o&2){let e=d();r(4),v(e.model.summary)}}function to(o,t){if(o&1&&(i(0,"div",51),l(1),n()),o&2){let e=d().$implicit;r(),v(e.description)}}function no(o,t){if(o&1&&(i(0,"div",46)(1,"div",47)(2,"div")(3,"div",48),l(4),n(),i(5,"div",49),l(6),n()(),i(7,"div",50),l(8),n()(),p(9,to,2,1,"div",51),n()),o&2){let e=t.$implicit;r(4),v(e.title),r(2),v(e.company),r(2),Se("",e.start," - ",e.end),r(),g(e.description?9:-1)}}function io(o,t){if(o&1&&(i(0,"div",31)(1,"div",44),l(2,"\u0627\u0644\u062E\u0628\u0631\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0629"),n(),i(3,"div",45),M(4,no,10,5,"div",46,ke),n()()),o&2){let e=d();r(4),w(e.experiences)}}function oo(o,t){if(o&1&&(i(0,"div",51),l(1),n()),o&2){let e=d().$implicit;r(),h("\u0627\u0644\u062A\u0642\u062F\u064A\u0631: ",e.grade)}}function ao(o,t){if(o&1&&(i(0,"div",46)(1,"div",47)(2,"div")(3,"div",48),l(4),n(),i(5,"div",49),l(6),n()(),i(7,"div",50),l(8),n()(),G(9,oo,2,1,"div",53),n()),o&2){let e=t.$implicit;r(4),v(e.degree),r(2),v(e.institution),r(2),v(e.year),r(),m("ngIf",e.grade)}}function ro(o,t){if(o&1&&(i(0,"div",31)(1,"div",44),l(2,"\u0627\u0644\u062A\u0639\u0644\u064A\u0645"),n(),i(3,"div",52),M(4,ao,10,4,"div",46,ke),n()()),o&2){let e=d();r(4),w(e.educations)}}function lo(o,t){if(o&1&&(i(0,"span",55),l(1),n()),o&2){let e=t.$implicit;r(),v(e)}}function so(o,t){if(o&1&&(i(0,"div",31)(1,"div",44),l(2,"\u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062A"),n(),i(3,"div",54),M(4,lo,2,1,"span",55,ke),n()()),o&2){let e=d();r(4),w(e.skillsList)}}var et=class o{model={firstName:"",lastName:"",jobTitle:"",email:"",phone:"",city:"",website:"",summary:"",skills:""};experiences=[];educations=[];addExperience(){this.experiences.push({title:"",company:"",start:"",end:"",description:""})}removeExperience(t){this.experiences.splice(t,1)}addEducation(){this.educations.push({degree:"",institution:"",year:"",grade:""})}removeEducation(t){this.educations.splice(t,1)}get skillsList(){return(this.model.skills||"").split(",").map(t=>t.trim()).filter(Boolean)}printCV(){let t=document.getElementById("cvPreview");if(!t)return;let e=window.open("","_blank");e&&(e.document.write(`
      <html dir="rtl"><head><title>\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629</title>
      <meta charset="utf-8">
      <style>
        body{font-family: Cairo,Arial,sans-serif; direction: rtl; padding:20px;}
        .cv-header{ text-align:center; margin-bottom:20px; padding-bottom:10px; border-bottom:2px solid #3b82f6;}
        .cv-name{ font-size:2rem; font-weight:700; color:#3b82f6; margin-bottom:6px;}
        .cv-title{ color:#6b7280; margin-bottom:12px;}
        .cv-section-title{ color:#3b82f6; font-weight:600; margin:18px 0 10px; padding-bottom:6px; border-bottom:1px solid #d1d5db;}
        .cv-item{ margin-bottom:12px;}
        .skill-tag{ background:#3b82f6; color:#fff; padding:3px 10px; border-radius:16px; margin:0 6px 6px 0; display:inline-block; }
      </style>
      </head><body>${t.innerHTML}</body></html>
    `),e.document.close(),e.print())}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-cv-builder"]],standalone:!1,decls:94,vars:18,consts:[[1,"main-content"],[1,"hero-small"],[1,"container"],[1,"section-padding"],[1,"cv-builder-container"],[1,"cv-form-section"],[1,"form-section"],[1,"section-title"],[1,"form-row"],[1,"form-group"],[1,"form-label"],["name","firstName","placeholder","\u0623\u062D\u0645\u062F",1,"form-control",3,"ngModelChange","ngModel"],["name","lastName","placeholder","\u0645\u062D\u0645\u062F",1,"form-control",3,"ngModelChange","ngModel"],["name","jobTitle","placeholder","\u0645\u0637\u0648\u0631 \u0628\u0631\u0645\u062C\u064A\u0627\u062A",1,"form-control",3,"ngModelChange","ngModel"],["name","email","type","email","placeholder","ahmed@example.com",1,"form-control",3,"ngModelChange","ngModel"],["name","phone","placeholder","+967 123 456 789",1,"form-control",3,"ngModelChange","ngModel"],["name","city","placeholder","\u0635\u0646\u0639\u0627\u0621",1,"form-control",3,"ngModelChange","ngModel"],["name","website","placeholder","https://portfolio.com",1,"form-control",3,"ngModelChange","ngModel"],["name","summary","placeholder","\u0645\u0637\u0648\u0631 \u0628\u0631\u0645\u062C\u064A\u0627\u062A \u0645\u062A\u062E\u0635\u0635 ...",1,"form-control",3,"ngModelChange","ngModel"],["id","experienceContainer"],[1,"dynamic-item"],["type","button",1,"add-item-btn",3,"click"],["id","educationContainer"],["name","skills","placeholder","JavaScript, Angular, Node.js",1,"form-control",3,"ngModelChange","ngModel"],[1,"cv-preview-section"],["id","cvPreview",1,"cv-preview"],[1,"cv-header"],[1,"cv-name"],[1,"cv-title"],[1,"cv-contact"],["class","cv-section",4,"ngIf"],[1,"cv-section"],[1,"cv-actions"],[1,"btn","btn-primary",3,"click"],["type","button",1,"remove-item",3,"click"],["placeholder","\u0645\u0637\u0648\u0631 \u0648\u064A\u0628",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u0634\u0631\u0643\u0629 \u0627\u0644\u062A\u0642\u0646\u064A\u0627\u062A",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u064A\u0646\u0627\u064A\u0631 2020",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u0627\u0644\u062D\u0627\u0644\u064A",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u0648\u0635\u0641 \u0627\u0644\u0645\u0647\u0627\u0645 \u0648\u0627\u0644\u0625\u0646\u062C\u0627\u0632\u0627\u062A...",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u0628\u0643\u0627\u0644\u0648\u0631\u064A\u0648\u0633 \u0639\u0644\u0648\u0645 \u0627\u0644\u062D\u0627\u0633\u0648\u0628",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u062C\u0627\u0645\u0639\u0629 \u0635\u0646\u0639\u0627\u0621",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","2019",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u0627\u0645\u062A\u064A\u0627\u0632",1,"form-control",3,"ngModelChange","ngModel","name"],[1,"cv-section-title"],["id","previewExperience"],[1,"cv-item"],[1,"cv-item-header"],[1,"cv-item-title"],[1,"cv-item-company"],[1,"cv-item-date"],[1,"cv-item-description"],["id","previewEducation"],["class","cv-item-description",4,"ngIf"],[1,"skills-list"],[1,"skill-tag"]],template:function(e,a){e&1&&(i(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1"),l(4,"\u0645\u0646\u0634\u0626 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n(),i(5,"p"),l(6,"\u0623\u0646\u0634\u0626 \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629 \u0627\u062D\u062A\u0631\u0627\u0641\u064A\u0629 \u0645\u062C\u0627\u0646\u0627\u064B \u0641\u064A \u062F\u0642\u0627\u0626\u0642 \u0645\u0639\u062F\u0648\u062F\u0629"),n()()(),i(7,"section",3)(8,"div",2)(9,"div",4)(10,"div",5)(11,"form")(12,"div",6)(13,"h2",7),l(14,"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629"),n(),i(15,"div",8)(16,"div",9)(17,"label",10),l(18,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644"),n(),i(19,"input",11),k("ngModelChange",function(u){return O(a.model.firstName,u)||(a.model.firstName=u),u}),n()(),i(20,"div",9)(21,"label",10),l(22,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062E\u064A\u0631"),n(),i(23,"input",12),k("ngModelChange",function(u){return O(a.model.lastName,u)||(a.model.lastName=u),u}),n()()(),i(24,"div",9)(25,"label",10),l(26,"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A"),n(),i(27,"input",13),k("ngModelChange",function(u){return O(a.model.jobTitle,u)||(a.model.jobTitle=u),u}),n()(),i(28,"div",8)(29,"div",9)(30,"label",10),l(31,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),n(),i(32,"input",14),k("ngModelChange",function(u){return O(a.model.email,u)||(a.model.email=u),u}),n()(),i(33,"div",9)(34,"label",10),l(35,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),n(),i(36,"input",15),k("ngModelChange",function(u){return O(a.model.phone,u)||(a.model.phone=u),u}),n()()(),i(37,"div",8)(38,"div",9)(39,"label",10),l(40,"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"),n(),i(41,"input",16),k("ngModelChange",function(u){return O(a.model.city,u)||(a.model.city=u),u}),n()(),i(42,"div",9)(43,"label",10),l(44,"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),n(),i(45,"input",17),k("ngModelChange",function(u){return O(a.model.website,u)||(a.model.website=u),u}),n()()(),i(46,"div",9)(47,"label",10),l(48,"\u0646\u0628\u0630\u0629 \u0645\u062E\u062A\u0635\u0631\u0629"),n(),i(49,"textarea",18),k("ngModelChange",function(u){return O(a.model.summary,u)||(a.model.summary=u),u}),n()()(),i(50,"div",6)(51,"h2",7),l(52,"\u0627\u0644\u062E\u0628\u0631\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0629"),n(),i(53,"div",19),M(54,Qi,25,15,"div",20,ke),n(),i(56,"button",21),f("click",function(){return a.addExperience()}),l(57,"+ \u0625\u0636\u0627\u0641\u0629 \u062E\u0628\u0631\u0629 \u0639\u0645\u0644\u064A\u0629"),n()(),i(58,"div",6)(59,"h2",7),l(60,"\u0627\u0644\u062A\u0639\u0644\u064A\u0645"),n(),i(61,"div",22),M(62,Zi,21,12,"div",20,ke),n(),i(64,"button",21),f("click",function(){return a.addEducation()}),l(65,"+ \u0625\u0636\u0627\u0641\u0629 \u0645\u0624\u0647\u0644 \u062A\u0639\u0644\u064A\u0645\u064A"),n()(),i(66,"div",6)(67,"h2",7),l(68,"\u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062A"),n(),i(69,"div",9)(70,"label",10),l(71,"\u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062A (\u0627\u0641\u0635\u0644 \u0628\u064A\u0646\u0647\u0627 \u0628\u0641\u0627\u0635\u0644\u0629)"),n(),i(72,"textarea",23),k("ngModelChange",function(u){return O(a.model.skills,u)||(a.model.skills=u),u}),n()()()()(),i(73,"div",24)(74,"div",25)(75,"div",26)(76,"div",27),l(77),n(),i(78,"div",28),l(79),n(),i(80,"div",29)(81,"span"),l(82),n(),i(83,"span"),l(84),n(),i(85,"span"),l(86),n()()(),G(87,eo,5,1,"div",30),p(88,io,6,0,"div",31),p(89,ro,6,0,"div",31),p(90,so,6,0,"div",31),n(),i(91,"div",32)(92,"button",33),f("click",function(){return a.printCV()}),l(93,"\u0637\u0628\u0627\u0639\u0629"),n()()()()()()()),e&2&&(r(19),P("ngModel",a.model.firstName),r(4),P("ngModel",a.model.lastName),r(4),P("ngModel",a.model.jobTitle),r(5),P("ngModel",a.model.email),r(4),P("ngModel",a.model.phone),r(5),P("ngModel",a.model.city),r(4),P("ngModel",a.model.website),r(4),P("ngModel",a.model.summary),r(5),w(a.experiences),r(8),w(a.educations),r(10),P("ngModel",a.model.skills),r(5),h(" ",(a.model.firstName||"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644")+" "+(a.model.lastName||"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062E\u064A\u0631")," "),r(2),v(a.model.jobTitle||"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A"),r(3),v(a.model.email||"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),r(2),v(a.model.phone||"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),r(2),v(a.model.city||"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"),r(),m("ngIf",a.model.summary),r(),g(a.experiences.length?88:-1),r(),g(a.educations.length?89:-1),r(),g(a.skillsList.length?90:-1))},dependencies:[Ee,me,ue,de,ce,ve,Fe],styles:[".cv-builder-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;min-height:calc(100vh - 160px)}.cv-form-section[_ngcontent-%COMP%]{background:var(--white);padding:2rem;border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--gray-200);height:fit-content}.cv-preview-section[_ngcontent-%COMP%]{background:var(--white);padding:2rem;border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--gray-200);position:sticky;top:2rem;height:fit-content;max-height:calc(100vh - 200px);overflow-y:auto}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid var(--gray-200)}.form-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.section-title[_ngcontent-%COMP%]{font-size:var(--font-size-xl);font-weight:600;margin-bottom:1.5rem;color:var(--primary-color)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--gray-700)}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--gray-300);border-radius:var(--radius-md);font-size:var(--font-size-base);transition:border-color var(--transition-fast)}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #3b82f61a}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.add-item-btn[_ngcontent-%COMP%]{background:var(--gray-100);border:1px dashed var(--gray-300);color:var(--gray-600);padding:.75rem 1rem;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);width:100%;margin-top:1rem}.add-item-btn[_ngcontent-%COMP%]:hover{background:var(--gray-200);border-color:var(--gray-400)}.dynamic-item[_ngcontent-%COMP%]{background:var(--gray-50);padding:1rem;border-radius:var(--radius-md);margin-bottom:1rem;position:relative}.remove-item[_ngcontent-%COMP%]{position:absolute;top:.5rem;left:.5rem;background:var(--error-color);color:var(--white);border:none;border-radius:50%;width:24px;height:24px;cursor:pointer;font-size:12px}.cv-preview[_ngcontent-%COMP%]{font-family:Cairo,sans-serif;line-height:1.6;color:var(--gray-900)}.cv-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid var(--primary-color)}.cv-name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5rem;color:var(--primary-color)}.cv-title[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--gray-600);margin-bottom:1rem}.cv-contact[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap;font-size:.9rem;color:var(--gray-600)}.cv-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.cv-section-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:var(--primary-color);margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid var(--gray-300)}.cv-item[_ngcontent-%COMP%]{margin-bottom:1rem}.cv-item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.5rem}.cv-item-title[_ngcontent-%COMP%]{font-weight:600;color:var(--gray-900)}.cv-item-date[_ngcontent-%COMP%]{color:var(--gray-600);font-size:.9rem}.cv-item-company[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500;margin-bottom:.25rem}.cv-item-description[_ngcontent-%COMP%]{color:var(--gray-700);font-size:.95rem}.skills-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.skill-tag[_ngcontent-%COMP%]{background:var(--primary-color);color:var(--white);padding:.25rem .75rem;border-radius:var(--radius-lg);font-size:.85rem}.cv-actions[_ngcontent-%COMP%]{margin-top:2rem;display:flex;gap:1rem;justify-content:center}@media (max-width: 768px){.cv-builder-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.cv-preview-section[_ngcontent-%COMP%]{position:static;max-height:none}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.cv-contact[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.5rem}.cv-item-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}"]})};var Ct=class o{auth=C(ct);applicationService=C(Le);trigger$=new I;loaded=!1;loadingSubject=new te(!1);loading$=this.loadingSubject.asObservable();applications$=this.trigger$.pipe(R(()=>this.auth.isLoggedIn()),ne(()=>(this.loadingSubject.next(!0),this.loadApplicationsData())),J(()=>{this.loaded=!0,this.loadingSubject.next(!1)}),ie({bufferSize:1,refCount:!0}));applications=_e(this.applications$,{initialValue:{applications:[],statusCounts:{all:0,pending:0,reviewed:0,accepted:0,rejected:0}}});_snapshot={applications:[],statusCounts:{all:0,pending:0,reviewed:0,accepted:0,rejected:0}};get snapshot(){return this._snapshot}loadApplicationsData(){return this.applicationService.getMyApplications().pipe(U(t=>{let e=t.results||[],a=this.calculateStatusCounts(e),s={applications:e,statusCounts:a};return this._snapshot=s,s}),W(t=>{console.error("Failed to load applications",t);let e={applications:[],statusCounts:{all:0,pending:0,reviewed:0,accepted:0,rejected:0}};return this._snapshot=e,$(e)}))}calculateStatusCounts(t){return{all:t.length,pending:t.filter(e=>e.status==="pending").length,reviewed:t.filter(e=>e.status==="reviewed").length,accepted:t.filter(e=>e.status==="accepted").length,rejected:t.filter(e=>e.status==="rejected").length}}getFilteredApplications(t){let e=this._snapshot.applications;return t==="all"?e:e.filter(a=>a.status===t)}ensureLoaded(){this.auth.isLoggedIn()&&(this.loaded||this.loadingSubject.value||this.trigger$.next())}refresh(){this.auth.isLoggedIn()&&(this.loadingSubject.value||(this.loaded=!1,this.trigger$.next()))}reset(){this.loaded=!1,this.loadingSubject.next(!1),this._snapshot={applications:[],statusCounts:{all:0,pending:0,reviewed:0,accepted:0,rejected:0}}}static \u0275fac=function(e){return new(e||o)};static \u0275prov=oe({token:o,factory:o.\u0275fac,providedIn:"root"})};var uo=()=>[1,2,3,4,5],co=()=>[1,2,3],mo=o=>["/jobs/job-details",o],po=o=>["/company",o],go=(o,t)=>t.id;function fo(o,t){o&1&&(i(0,"div",1),c(1,"p-skeleton",6)(2,"p-skeleton",7),n())}function _o(o,t){o&1&&(i(0,"div",1)(1,"h1",8),l(2,"\u0637\u0644\u0628\u0627\u062A\u064A"),n(),i(3,"div",9)(4,"a",10),l(5,"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0648\u0638\u0627\u0626\u0641 \u062C\u062F\u064A\u062F\u0629"),n()()())}function bo(o,t){o&1&&c(0,"p-skeleton",11)}function vo(o,t){o&1&&(i(0,"div",3),M(1,bo,1,0,"p-skeleton",11,F),n()),o&2&&(r(),w(S(0,uo)))}function ho(o,t){if(o&1){let e=x();i(0,"div",3)(1,"button",12),f("click",function(){_(e);let s=d();return b(s.setActiveTab("all"))}),l(2),n(),i(3,"button",12),f("click",function(){_(e);let s=d();return b(s.setActiveTab("pending"))}),l(4),n(),i(5,"button",12),f("click",function(){_(e);let s=d();return b(s.setActiveTab("reviewed"))}),l(6),n(),i(7,"button",12),f("click",function(){_(e);let s=d();return b(s.setActiveTab("accepted"))}),l(8),n(),i(9,"button",12),f("click",function(){_(e);let s=d();return b(s.setActiveTab("rejected"))}),l(10),n()()}if(o&2){let e=d();r(),D("active",e.activeTab==="all"),r(),h(" \u062C\u0645\u064A\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062A (",e.statusCounts.all,") "),r(),D("active",e.activeTab==="pending"),r(),h(" \u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629 (",e.statusCounts.pending,") "),r(),D("active",e.activeTab==="reviewed"),r(),h(" \u062A\u0645\u062A \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629 (",e.statusCounts.reviewed,") "),r(),D("active",e.activeTab==="accepted"),r(),h(" \u0645\u0642\u0628\u0648\u0644\u0629 (",e.statusCounts.accepted,") "),r(),D("active",e.activeTab==="rejected"),r(),h(" \u0645\u0631\u0641\u0648\u0636\u0629 (",e.statusCounts.rejected,") ")}}function Co(o,t){o&1&&(i(0,"div",13),c(1,"p-skeleton",14),i(2,"div",15),c(3,"p-skeleton",16)(4,"p-skeleton",17),i(5,"div",18),c(6,"p-skeleton",19)(7,"p-skeleton",20)(8,"p-skeleton",21),n()(),c(9,"p-skeleton",22),n())}function xo(o,t){o&1&&(i(0,"div",4),M(1,Co,10,0,"div",13,F),n()),o&2&&(r(),w(S(0,co)))}function yo(o,t){o&1&&(i(0,"div",5)(1,"p"),l(2,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A \u0641\u064A \u0647\u0630\u0647 \u0627\u0644\u0641\u0626\u0629."),n(),i(3,"a",10),l(4,"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0648\u0638\u0627\u0626\u0641 \u062C\u062F\u064A\u062F\u0629"),n()())}function Mo(o,t){if(o&1&&(i(0,"div",23),c(1,"img",24),i(2,"div",25)(3,"h4",26)(4,"a",27),l(5),n()(),i(6,"p",28)(7,"a",29),l(8),n()(),i(9,"div",30)(10,"span"),l(11),n(),i(12,"span"),l(13),n(),i(14,"span"),l(15),n()()(),i(16,"span",31),l(17),n()()),o&2){let e=t.$implicit,a=d(2);r(),m("src",a.getCompanyLogo(e.job.company.logo),E)("alt",e.job.company.name),r(3),m("routerLink",Q(11,mo,e.job.slug)),r(),h(" ",e.job.title," "),r(2),m("routerLink",Q(13,po,e.job.company.slug)),r(),h(" ",e.job.company.name," "),r(3),h("\u062A\u0642\u062F\u0645\u062A \u0641\u064A ",a.formatDate(e.applied_at)),r(2),v(a.cityLabel(e.job.city)),r(2),h(" ",a.formatSalary(e.job.salary_min,e.job.salary_max)," "),r(),m("ngClass",a.getStatusClass(e.status)),r(),h(" ",a.getStatusLabel(e.status)," ")}}function wo(o,t){if(o&1&&(i(0,"div",4),M(1,Mo,18,15,"div",23,go),n()),o&2){let e=d();r(),w(e.filteredApplications)}}var tt=class o extends X{applicationsStore=C(Ct);applications=[];filteredApplications=[];activeTab="all";isLoading=!1;statusCounts={all:0,pending:0,reviewed:0,accepted:0,rejected:0};ngOnInit(){this.applicationsStore.loading$.subscribe(t=>{this.isLoading=t}),this.applicationsStore.ensureLoaded(),this.applicationsStore.applications$.subscribe({next:t=>{this.applications=t.applications,this.statusCounts=t.statusCounts,this.filterApplications()},error:t=>{this.errors.error(t,{join:!0}),this.applications=[],this.filteredApplications=[],this.statusCounts={all:0,pending:0,reviewed:0,accepted:0,rejected:0}}})}setActiveTab(t){this.activeTab=t,this.filterApplications()}filterApplications(){this.filteredApplications=this.applicationsStore.getFilteredApplications(this.activeTab)}refreshApplications(){this.applicationsStore.refresh()}formatDate(t){if(!t)return"";let e=new Date(t);return new Intl.DateTimeFormat("ar-SA",{year:"numeric",month:"long",day:"numeric"}).format(e)}formatSalary(t,e){return!t&&!e?"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F":t&&e?`${t.toLocaleString()}-${e.toLocaleString()} \u0631\u064A\u0627\u0644`:t?`${t.toLocaleString()}+ \u0631\u064A\u0627\u0644`:e?`\u062D\u062A\u0649 ${e.toLocaleString()} \u0631\u064A\u0627\u0644`:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}getStatusClass(t){return{pending:"status-pending",reviewed:"status-reviewed",accepted:"status-accepted",rejected:"status-rejected"}[t]||"status-pending"}getStatusLabel(t){return{pending:"\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629",reviewed:"\u062A\u0645\u062A \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629",accepted:"\u0645\u0642\u0628\u0648\u0644\u0629",rejected:"\u0645\u0631\u0641\u0648\u0636\u0629"}[t]||t}getCompanyLogo(t){return t?t.startsWith("http")?t:`${V.apiBaseUrl.replace(/\/+$/,"")}/${t.replace(/^\/+/,"")}`:"assets/images/company-placeholder.png"}cityLabel(t){if(!t)return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";let e=ft.find(s=>s.value===t.toLowerCase());return e?e.label:{hodeidah:"\u0627\u0644\u062D\u062F\u064A\u062F\u0629",mukalla:"\u0627\u0644\u0645\u0643\u0644\u0627"}[t.toLowerCase()]||t}static \u0275fac=(()=>{let t;return function(a){return(t||(t=re(o)))(a||o)}})();static \u0275cmp=A({type:o,selectors:[["app-applications"]],standalone:!1,features:[H],decls:9,vars:3,consts:[["id","applications"],[1,"dashboard-header"],[1,"content-card"],[1,"tab-navigation"],[1,"applications-list"],[1,"empty-state"],["width","150px","height","2rem","styleClass","skeleton-title"],["width","200px","height","2.5rem","styleClass","skeleton-button"],[1,"dashboard-title"],[1,"dashboard-actions"],["routerLink","/jobseeker/jobs",1,"btn","btn-primary"],["width","120px","height","3rem","styleClass","skeleton-tab"],[1,"tab",3,"click"],[1,"application-item","skeleton-application-item"],["width","80px","height","80px","shape","circle","styleClass","skeleton-logo"],[1,"application-info","skeleton-application-info"],["width","200px","height","1.5rem","styleClass","mb-2"],["width","150px","height","1.2rem","styleClass","mb-2"],[1,"skeleton-meta-container"],["width","120px","height","1rem"],["width","80px","height","1rem"],["width","100px","height","1rem"],["width","80px","height","2rem","styleClass","skeleton-status"],[1,"application-item"],["title","\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",1,"application-logo",3,"src","alt"],[1,"application-info"],[1,"application-title"],[1,"application-title-link",3,"routerLink"],[1,"application-company"],[1,"company-link",3,"routerLink"],[1,"application-meta"],[1,"application-status",3,"ngClass"]],template:function(e,a){e&1&&(i(0,"div",0),p(1,fo,3,0,"div",1)(2,_o,6,0,"div",1),i(3,"div",2),p(4,vo,3,1,"div",3)(5,ho,11,15,"div",3),p(6,xo,3,1,"div",4)(7,yo,5,0,"div",5)(8,wo,3,0,"div",4),n()()),e&2&&(r(),g(a.isLoading?1:2),r(3),g(a.isLoading?4:5),r(2),g(a.isLoading?6:a.filteredApplications.length===0?7:8))},dependencies:[se,Y,z],styles:["#applications[_ngcontent-%COMP%]{padding:2rem 0}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.dashboard-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--gray-900);margin:0}.dashboard-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.content-card[_ngcontent-%COMP%]{background:var(--white);border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--gray-200);overflow:hidden}.tab-navigation[_ngcontent-%COMP%]{display:flex;border-bottom:2px solid var(--gray-200);background:var(--gray-50);padding:0 1rem;gap:.5rem;overflow-x:auto;flex-wrap:nowrap}.tab[_ngcontent-%COMP%]{padding:1rem 1.5rem;border:none;background:transparent;color:var(--gray-600);font-weight:500;cursor:pointer;transition:all .2s;border-bottom:3px solid transparent;white-space:nowrap;font-size:.95rem}.tab[_ngcontent-%COMP%]:hover{color:var(--primary-color);background:var(--gray-100)}.tab.active[_ngcontent-%COMP%]{color:var(--primary-color);border-bottom-color:var(--primary-color);background:var(--white);font-weight:600}.applications-list[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.application-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;border:1px solid var(--gray-200);border-radius:var(--radius-md);background:var(--white);transition:all .2s}.application-item[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-md);border-color:var(--primary-color);transform:translateY(-2px)}.application-logo[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:var(--radius-md);object-fit:cover;border:2px solid var(--gray-200);flex-shrink:0}.application-info[_ngcontent-%COMP%]{flex:1;min-width:0}.application-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--gray-900);margin:0 0 .5rem}.application-title-link[_ngcontent-%COMP%]{color:inherit;text-decoration:none;transition:color .2s}.application-title-link[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.application-company[_ngcontent-%COMP%]{font-size:.95rem;color:var(--gray-600);margin:0 0 .75rem}.company-link[_ngcontent-%COMP%]{color:inherit;text-decoration:none;transition:color .2s}.company-link[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.application-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;font-size:.875rem;color:var(--gray-500)}.application-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.application-status[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:var(--radius-lg);font-size:.875rem;font-weight:600;white-space:nowrap;flex-shrink:0}.status-pending[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.status-reviewed[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.status-accepted[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.status-rejected[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{padding:3rem 1.5rem;text-align:center;color:var(--gray-600)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin:0}.skeleton-title[_ngcontent-%COMP%]{margin:0}.skeleton-button[_ngcontent-%COMP%]{border-radius:var(--radius-md)}.skeleton-tab[_ngcontent-%COMP%]{border-radius:var(--radius-md);margin:0 .5rem}.skeleton-application-item[_ngcontent-%COMP%]{pointer-events:none}.skeleton-logo[_ngcontent-%COMP%]{flex-shrink:0}.skeleton-status[_ngcontent-%COMP%]{flex-shrink:0;border-radius:var(--radius-lg)}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem}.skeleton-application-info[_ngcontent-%COMP%]{flex:1}.skeleton-meta-container[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}@media (max-width: 768px){.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.tab-navigation[_ngcontent-%COMP%]{padding:0 .5rem}.tab[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.875rem}.application-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.application-logo[_ngcontent-%COMP%]{width:60px;height:60px}.application-status[_ngcontent-%COMP%]{align-self:flex-start}.application-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}",".btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:var(--radius-md, 6px);font-weight:600;cursor:pointer;border:none;transition:all .2s;font-size:.95rem}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#0056b3,#004085);transform:translateY(-1px);box-shadow:0 4px 8px #007bff4d}.btn.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]})};var xt=class o{applicationService=C(Le);applicationsTrigger$=new I;messagesTrigger$=new I;loadingApplicationsSubject=new te(!1);loadingApplications$=this.loadingApplicationsSubject.asObservable();loadingMessagesSubject=new te(!1);loadingMessages$=this.loadingMessagesSubject.asObservable();applicationsLoaded=!1;messagesDataSubject=new te({applications:[],selectedApplication:null,messages:[],loadingApplications:!1,loadingMessages:!1});messages$=this.messagesDataSubject.asObservable();messages=_e(this.messages$,{initialValue:{applications:[],selectedApplication:null,messages:[],loadingApplications:!1,loadingMessages:!1}});get snapshot(){return j({},this.messagesDataSubject.value)}loadApplicationsData(){return this.applicationService.getMyApplications({ordering:"-applied_at",page_size:100}).pipe(U(t=>t.results||[]),W(t=>(console.error("Failed to load applications",t),$([]))))}loadMessagesData(t){return this.applicationService.getApplicationMessages(t).pipe(U(e=>Array.isArray(e)?e:[]),W(e=>(console.error("Failed to load messages",e),$([]))))}applicationsList$=this.applicationsTrigger$.pipe(ne(()=>(this.loadingApplicationsSubject.next(!0),this.loadApplicationsData())),J(t=>{this.applicationsLoaded=!0,this.loadingApplicationsSubject.next(!1);let e=this.messagesDataSubject.value;this.messagesDataSubject.next(L(j({},e),{applications:t,loadingApplications:!1}))}),Oe(this.messagesDataSubject.value.applications),ie({bufferSize:1,refCount:!1}));applicationsSubscription=this.applicationsList$.subscribe();messagesForApplication$=this.messagesTrigger$.pipe(ne(t=>(this.loadingMessagesSubject.next(!0),this.loadMessagesData(t))),J(t=>{this.loadingMessagesSubject.next(!1);let e=this.messagesDataSubject.value;this.messagesDataSubject.next(L(j({},e),{messages:t,loadingMessages:!1}))}),Oe([]),ie({bufferSize:1,refCount:!1}));messagesSubscription=this.messagesForApplication$.subscribe();loadApplications(){this.applicationsLoaded||this.applicationsTrigger$.next()}selectApplication(t){let e=this.messagesDataSubject.value;this.messagesDataSubject.next(L(j({},e),{selectedApplication:t,messages:[]})),this.loadMessages(t.id),t.is_viewed||this.applicationService.markApplicationAsViewed(t.id).subscribe({next:()=>{let a=e.applications.map(s=>s.id===t.id?L(j({},s),{is_viewed:!0}):s);this.messagesDataSubject.next(L(j({},e),{applications:a,selectedApplication:L(j({},t),{is_viewed:!0})}))},error:a=>{console.error("Failed to mark as viewed",a)}})}loadMessages(t){this.messagesTrigger$.next(t)}sendMessage(t,e){return this.applicationService.sendApplicationMessage(t,e).pipe(J(a=>{let s=this.messagesDataSubject.value,u=[...s.messages,a];this.messagesDataSubject.next(L(j({},s),{messages:u}))}))}clearSelection(){let t=this.messagesDataSubject.value;this.messagesDataSubject.next(L(j({},t),{selectedApplication:null,messages:[]}))}refreshApplications(){this.applicationsLoaded=!1,this.loadApplications()}refreshMessages(){let t=this.messagesDataSubject.value;t.selectedApplication&&this.loadMessages(t.selectedApplication.id)}reset(){this.applicationsLoaded=!1,this.loadingApplicationsSubject.next(!1),this.loadingMessagesSubject.next(!1),this.messagesDataSubject.next({applications:[],selectedApplication:null,messages:[],loadingApplications:!1,loadingMessages:!1})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=oe({token:o,factory:o.\u0275fac,providedIn:"root"})};var Mn=()=>[1,2,3,4,5],Po=o=>["/jobs/job-details",o],wn=(o,t)=>t.id;function Oo(o,t){o&1&&(i(0,"div",1)(1,"div",9),c(2,"p-skeleton",10)(3,"p-skeleton",11),n()())}function ko(o,t){o&1&&(i(0,"div",1)(1,"div")(2,"h1",12),l(3,"\u0627\u0644\u0631\u0633\u0627\u0626\u0644"),n(),i(4,"p",13),l(5,"\u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639 \u0623\u0635\u062D\u0627\u0628 \u0627\u0644\u0639\u0645\u0644"),n()()())}function So(o,t){o&1&&(i(0,"div",14),c(1,"p-skeleton",15),i(2,"div",16),c(3,"p-skeleton",17)(4,"p-skeleton",18)(5,"p-skeleton",19)(6,"p-skeleton",20),n()())}function Ao(o,t){o&1&&(i(0,"div",5),M(1,So,7,0,"div",14,F),n()),o&2&&(r(),w(S(0,Mn)))}function Eo(o,t){o&1&&(i(0,"div",6)(1,"p"),l(2,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A \u0645\u062A\u0642\u062F\u0645\u0629"),n()())}function Do(o,t){if(o&1){let e=x();i(0,"img",30),f("error",function(s){_(e);let u=d(3);return b(u.handleImageError(s))}),n()}if(o&2){let e=d().$implicit,a=d(2);m("src",a.getCompanyLogo(e.job.company.logo),E)("alt",a.getCompanyName(e))}}function Fo(o,t){o&1&&c(0,"span",29)}function To(o,t){if(o&1){let e=x();i(0,"div",22),f("click",function(){let s=_(e).$implicit,u=d(2);return b(u.selectApplication(s))}),i(1,"div",23),p(2,Do,1,2,"img",24),i(3,"span"),l(4),n()(),i(5,"div",16)(6,"h4",25),l(7),n(),i(8,"p",26),l(9),n(),i(10,"p",27),l(11),n(),i(12,"span",28),l(13),n()(),p(14,Fo,1,0,"span",29),n()}if(o&2){let e=t.$implicit,a=d(2);D("active",(a.selectedApplication==null?null:a.selectedApplication.id)===e.id),r(2),g(e.job&&e.job.company&&e.job.company.logo?2:-1),r(),Pt("display",e.job&&e.job.company&&e.job.company.logo?"none":"flex"),r(),h(" ",a.getCompanyName(e).charAt(0)," "),r(3),v(a.getJobTitle(e)),r(2),v(a.getCompanyName(e)),r(2),v(a.formatDate(e.applied_at)),r(),m("ngClass",a.getStatusClass(e.status)),r(),h(" ",a.getStatusLabel(e.status)," "),r(),g(e.is_viewed?-1:14)}}function jo(o,t){if(o&1&&(i(0,"div",5),M(1,To,15,12,"div",21,wn),n()),o&2){let e=d();r(),w(e.applications)}}function Io(o,t){o&1&&(i(0,"div",8)(1,"div",31),l(2,"\u{1F4AC}"),n(),i(3,"h3"),l(4,"\u0627\u062E\u062A\u0631 \u0637\u0644\u0628 \u062A\u0642\u062F\u064A\u0645 \u0644\u0644\u0628\u062F\u0621"),n(),i(5,"p"),l(6,"\u0627\u062E\u062A\u0631 \u0637\u0644\u0628 \u062A\u0642\u062F\u064A\u0645 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0644\u0639\u0631\u0636 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0648\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0626\u0644 \u062C\u062F\u064A\u062F\u0629"),n()())}function Vo(o,t){o&1&&(i(0,"div",32)(1,"div",44),c(2,"p-skeleton",45),i(3,"div",46),c(4,"p-skeleton",47)(5,"p-skeleton",18)(6,"p-skeleton",48),n()()())}function Lo(o,t){if(o&1){let e=x();i(0,"img",30),f("error",function(s){_(e);let u=d(3);return b(u.handleImageError(s))}),n()}if(o&2){let e=d(3);m("src",e.getCompanyLogo(e.selectedApplication.job.company.logo),E)("alt",e.getCompanyName(e.selectedApplication))}}function Bo(o,t){if(o&1&&(i(0,"div",32)(1,"div",44)(2,"div",49),p(3,Lo,1,2,"img",24),i(4,"span"),l(5),n()(),i(6,"div",46)(7,"h3"),l(8),n(),i(9,"p"),l(10),n(),i(11,"a",50),l(12," \u0639\u0631\u0636 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 "),n()()()()),o&2){let e=d(2);r(3),g(e.selectedApplication.job&&e.selectedApplication.job.company&&e.selectedApplication.job.company.logo?3:-1),r(),Pt("display",e.selectedApplication.job&&e.selectedApplication.job.company&&e.selectedApplication.job.company.logo?"none":"flex"),r(),h(" ",e.getCompanyName(e.selectedApplication).charAt(0)," "),r(3),v(e.getCompanyName(e.selectedApplication)),r(2),v(e.getJobTitle(e.selectedApplication)),r(),m("routerLink",Q(7,Po,e.selectedApplication.job.slug))}}function zo(o,t){if(o&1&&(i(0,"div",52)(1,"div",53),c(2,"p-skeleton",54)(3,"p-skeleton",55)(4,"p-skeleton",56),n()()),o&2){let e=t.$implicit;D("my-message",e%2===0)}}function No(o,t){o&1&&(i(0,"div",34),M(1,zo,5,2,"div",51,F),n()),o&2&&(r(),w(S(0,Mn)))}function Jo(o,t){o&1&&(i(0,"div",35)(1,"p"),l(2,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0631\u0633\u0627\u0626\u0644 \u0628\u0639\u062F. \u0627\u0628\u062F\u0623 \u0627\u0644\u0645\u062D\u0627\u062F\u062B\u0629!"),n()())}function $o(o,t){if(o&1&&(i(0,"div",62),l(1),n()),o&2){let e=d().$implicit;r(),v(e.message)}}function Uo(o,t){if(o&1){let e=x();i(0,"div",64)(1,"img",66),f("click",function(){_(e);let s=d(2).$implicit,u=d(3);return b(u.openImageInNewTab(s.attachment))})("error",function(s){_(e);let u=d(5);return b(u.handleAttachmentError(s))}),n(),i(2,"a",67),l(3," \u0641\u062A\u062D \u0627\u0644\u0635\u0648\u0631\u0629 \u0641\u064A \u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629 "),n()()}if(o&2){let e=d(2).$implicit,a=d(3);r(),m("src",a.getAttachmentUrl(e.attachment),E),r(),m("href",a.getAttachmentUrl(e.attachment),E)}}function Ro(o,t){if(o&1&&(i(0,"a",65),l(1," \u{1F4CE} \u0645\u0631\u0641\u0642 - \u062A\u0646\u0632\u064A\u0644 \u0627\u0644\u0645\u0644\u0641 "),n()),o&2){let e=d(2).$implicit,a=d(3);m("href",a.getAttachmentUrl(e.attachment),E)}}function Wo(o,t){if(o&1&&(i(0,"div",63),p(1,Uo,4,2,"div",64)(2,Ro,2,1,"a",65),n()),o&2){let e=d().$implicit,a=d(3);r(),g(a.isImageAttachment(e.attachment)?1:2)}}function Ho(o,t){if(o&1&&(i(0,"div",58)(1,"div",53)(2,"div",59)(3,"span",60),l(4),n(),i(5,"span",61),l(6),n()(),p(7,$o,2,1,"div",62),p(8,Wo,3,1,"div",63),n()()),o&2){let e=t.$implicit,a=d(3);D("my-message",a.isMyMessage(e))("their-message",!a.isMyMessage(e)),r(4),v(e.sender_name||a.getCompanyName(a.selectedApplication)),r(2),v(a.formatDate(e.sent_at)),r(),g(e.message?7:-1),r(),g(e.attachment?8:-1)}}function Go(o,t){if(o&1&&M(0,Ho,9,8,"div",57,wn),o&2){let e=d(2);w(e.messages)}}function qo(o,t){if(o&1){let e=x();i(0,"div",38)(1,"span"),l(2),n(),i(3,"button",68),f("click",function(){_(e);let s=d(2);return b(s.removeFile())}),l(4,"\xD7"),n()()}if(o&2){let e=d(2);r(2),h("\u{1F4CE} ",e.selectedFile.name)}}function Yo(o,t){o&1&&(i(0,"span"),l(1,"\u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."),n())}function Xo(o,t){o&1&&(i(0,"span"),l(1,"\u0625\u0631\u0633\u0627\u0644"),n())}function Ko(o,t){if(o&1){let e=x();p(0,Vo,7,0,"div",32),p(1,Bo,13,9,"div",32),i(2,"div",33),p(3,No,3,1,"div",34)(4,Jo,3,0,"div",35)(5,Go,2,0),n(),i(6,"div",36)(7,"form",37),f("ngSubmit",function(){_(e);let s=d();return b(s.sendMessage())}),p(8,qo,5,1,"div",38),i(9,"div",39)(10,"input",40),f("change",function(s){_(e);let u=d();return b(u.onFileSelected(s))}),n(),i(11,"label",41),l(12,"\u{1F4CE}"),n(),i(13,"textarea",42),k("ngModelChange",function(s){_(e);let u=d();return O(u.newMessage,s)||(u.newMessage=s),b(s)}),f("input",function(s){_(e);let u=d();return b(u.adjustTextareaHeight(s))}),n(),i(14,"button",43),p(15,Yo,2,0,"span")(16,Xo,2,0,"span"),n()()()()}if(o&2){let e=d();g(e.loadingMessages?0:-1),r(),g(e.loadingMessages?-1:1),r(2),g(e.loadingMessages?3:e.messages.length===0?4:5),r(5),g(e.selectedFile?8:-1),r(5),P("ngModel",e.newMessage),m("disabled",e.sendingMessage),r(),m("disabled",!e.newMessage.trim()||e.sendingMessage),r(),g(e.sendingMessage?15:16)}}var yt=class o{messagesStore=C(xt);toastr=C(De);errors=C(an);applications=[];selectedApplication=null;messages=[];loading=!1;loadingMessages=!1;sendingMessage=!1;newMessage="";selectedFile=null;ngOnInit(){this.messagesStore.loadingApplications$.subscribe(t=>{this.loading=t}),this.messagesStore.loadingMessages$.subscribe(t=>{this.loadingMessages=t}),this.messagesStore.messages$.subscribe({next:t=>{this.applications=t.applications,this.selectedApplication=t.selectedApplication,this.messages=t.messages,t.messages.length>0&&setTimeout(()=>this.scrollToBottom(),100)},error:t=>{this.errors.error(t,{join:!0})}}),this.messagesStore.loadApplications()}selectApplication(t){this.newMessage="",this.selectedFile=null;let e=document.getElementById("file-input");e&&(e.value=""),this.messagesStore.selectApplication(t)}sendMessage(){if(!this.selectedApplication||!this.newMessage.trim()||this.sendingMessage){this.newMessage.trim()||this.toastr.warning("\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0631\u0633\u0627\u0644\u0629");return}this.sendingMessage=!0;let t=new FormData;t.append("application",this.selectedApplication.id.toString()),t.append("message",this.newMessage.trim()||""),this.selectedFile&&t.append("attachment",this.selectedFile,this.selectedFile.name),this.messagesStore.sendMessage(this.selectedApplication.id,t).subscribe({next:e=>{this.newMessage="",this.selectedFile=null;let a=document.getElementById("file-input");a&&(a.value=""),this.sendingMessage=!1,this.scrollToBottom(),this.toastr.success("\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0628\u0646\u062C\u0627\u062D")},error:e=>{this.errors.error(e,{join:!0}),this.sendingMessage=!1}})}onFileSelected(t){let e=t.target;if(e.files&&e.files.length>0){let a=e.files[0],s=10*1024*1024,u=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png","image/gif","image/webp"];if(a.size>s){this.toastr.error("\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641 \u064A\u062A\u062C\u0627\u0648\u0632 10MB"),e.value="",this.selectedFile=null;return}if(!u.includes(a.type)){this.toastr.error("\u0635\u064A\u063A\u0629 \u0627\u0644\u0645\u0644\u0641 \u063A\u064A\u0631 \u0645\u062F\u0639\u0648\u0645\u0629. \u064A\u0631\u062C\u0649 \u0631\u0641\u0639 \u0645\u0644\u0641 PDF, DOC, DOCX, \u0623\u0648 \u0635\u0648\u0631\u0629."),e.value="",this.selectedFile=null;return}this.selectedFile=a,console.log("File selected:",a.name,a.size,a.type)}else this.selectedFile=null}removeFile(){this.selectedFile=null;let t=document.getElementById("file-input");t&&(t.value="")}getCompanyName(t){return t.job?.company?.name||"\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641\u0629"}getJobTitle(t){return t.job?.title||"\u0648\u0638\u064A\u0641\u0629 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641\u0629"}formatDate(t){if(!t)return"";let e=new Date(t),s=Math.floor((new Date().getTime()-e.getTime())/1e3),u=Math.floor(s/60),y=Math.floor(u/60),N=Math.floor(y/24);return s<60?"\u0627\u0644\u0622\u0646":u<60?`\u0645\u0646\u0630 ${u} \u062F\u0642\u064A\u0642\u0629`:y<24?`\u0645\u0646\u0630 ${y} \u0633\u0627\u0639\u0629`:N===1?"\u0623\u0645\u0633":N<7?`\u0645\u0646\u0630 ${N} \u0623\u064A\u0627\u0645`:e.toLocaleDateString("ar-YE",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}getCompanyLogo(t){return t?t.startsWith("http")?t:`${V.apiBaseUrl.replace(/\/+$/,"")}/${t.replace(/^\/+/,"")}`:"assets/images/company-placeholder.png"}isMyMessage(t){return t.sender.user_type==="job_seeker"}scrollToBottom(){let t=document.querySelector(".messages-list");t&&(t.scrollTop=t.scrollHeight)}handleImageError(t){let e=t.target;if(e){e.style.display="none";let a=e.nextElementSibling;a&&(a.style.display="flex")}}getStatusLabel(t){return{pending:"\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629",reviewed:"\u062A\u0645 \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629",accepted:"\u0645\u0642\u0628\u0648\u0644",rejected:"\u0645\u0631\u0641\u0648\u0636"}[t]||t}getStatusClass(t){return`status-${t}`}isImageAttachment(t){if(!t)return!1;let e=[".jpg",".jpeg",".png",".gif",".webp",".bmp",".svg"],a=t.toLowerCase();return e.some(s=>a.includes(s))}getAttachmentUrl(t){return t?t.startsWith("http")||t.startsWith("blob:")||t.startsWith("data:")?t:`${V.apiBaseUrl.replace(/\/+$/,"")}/${t.replace(/^\/+/,"")}`:""}openImageInNewTab(t){t&&window.open(this.getAttachmentUrl(t),"_blank")}handleAttachmentError(t){let e=t.target;if(e){e.style.display="none";let a=e.nextElementSibling;a&&(a.style.display="block")}}adjustTextareaHeight(t){let e=t.target;e.style.height="auto",e.style.height=e.scrollHeight+"px"}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-jobseeker-messages"]],decls:14,vars:4,consts:[["id","messages",1,"messages-container"],[1,"employer-header"],[1,"messages-layout"],[1,"applications-sidebar"],[1,"sidebar-header"],[1,"applications-list"],[1,"empty-state"],[1,"messages-area"],[1,"empty-messages"],[1,"skeleton-header-content"],["width","150px","height","2rem","styleClass","mb-2"],["width","200px","height","1.2rem"],[1,"employer-title"],[1,"subtitle"],[1,"application-item","skeleton-application-item"],["width","50px","height","50px","shape","rectangle","styleClass","skeleton-logo"],[1,"application-info"],["width","150px","height","1.2rem","styleClass","mb-2"],["width","120px","height","1rem","styleClass","mb-2"],["width","100px","height","0.9rem","styleClass","mb-2"],["width","90px","height","1.5rem","styleClass","mb-0"],[1,"application-item",3,"active"],[1,"application-item",3,"click"],[1,"company-logo"],["title","\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",3,"src","alt"],[1,"job-title"],[1,"company-name"],[1,"application-date"],[1,"application-status",3,"ngClass"],[1,"unread-badge"],["title","\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",3,"error","src","alt"],[1,"empty-icon"],[1,"messages-header"],[1,"messages-list"],[1,"messages-skeleton"],[1,"empty-messages-list"],[1,"message-input-area"],[1,"message-form",3,"ngSubmit"],[1,"file-preview"],[1,"input-group"],["type","file","id","file-input","accept",".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.webp","title","\u0625\u0631\u0641\u0627\u0642 \u0645\u0644\u0641","aria-label","\u0625\u0631\u0641\u0627\u0642 \u0645\u0644\u0641",1,"file-input",3,"change"],["for","file-input","title","\u0625\u0631\u0641\u0627\u0642 \u0645\u0644\u0641",1,"file-label"],["name","message","placeholder","\u0627\u0643\u062A\u0628 \u0631\u0633\u0627\u0644\u062A\u0643 \u0647\u0646\u0627...","rows","1","required","",1,"message-textarea",3,"ngModelChange","input","ngModel","disabled"],["type","submit",1,"send-button",3,"disabled"],[1,"conversation-info"],["width","50px","height","50px","shape","circle","styleClass","skeleton-logo"],[1,"conversation-details"],["width","150px","height","1.3rem","styleClass","mb-2"],["width","140px","height","1rem","styleClass","mb-0"],[1,"conversation-logo"],[1,"job-link",3,"routerLink"],[1,"message-item","skeleton-message",3,"my-message"],[1,"message-item","skeleton-message"],[1,"message-content"],["width","100px","height","1rem","styleClass","mb-2"],["width","80%","height","1rem","styleClass","mb-1"],["width","60%","height","1rem","styleClass","mb-0"],[1,"message-item",3,"my-message","their-message"],[1,"message-item"],[1,"message-header"],[1,"sender-name"],[1,"message-time"],[1,"message-text"],[1,"message-attachment"],[1,"attachment-image"],["target","_blank","rel","noopener noreferrer",1,"attachment-file-link",3,"href"],["alt","\u0635\u0648\u0631\u0629 \u0645\u0631\u0641\u0642\u0629","title","\u0635\u0648\u0631\u0629 \u0645\u0631\u0641\u0642\u0629",1,"attachment-img",3,"click","error","src"],["target","_blank","rel","noopener noreferrer",1,"attachment-link",3,"href"],["type","button",1,"remove-file",3,"click"]],template:function(e,a){e&1&&(i(0,"div",0),p(1,Oo,4,0,"div",1),p(2,ko,6,0,"div",1),i(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3"),l(7,"\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0642\u062F\u064A\u0645"),n()(),p(8,Ao,3,1,"div",5)(9,Eo,3,0,"div",6)(10,jo,3,0,"div",5),n(),i(11,"div",7),p(12,Io,7,0,"div",8)(13,Ko,17,8),n()()()),e&2&&(r(),g(a.loading?1:-1),r(),g(a.loading?-1:2),r(6),g(a.loading?8:a.applications.length===0?9:10),r(4),g(a.selectedApplication?13:12))},dependencies:[Me,se,He,me,ue,de,ce,mt,ve,Fe,Y,Z,z],styles:[".messages-container[_ngcontent-%COMP%]{padding:2rem}.employer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem}.employer-header[_ngcontent-%COMP%]   .employer-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin:0 0 .5rem;color:var(--text-primary, #1a1a1a)}.employer-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary, #666);margin:0}.messages-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:350px 1fr;gap:1.5rem;height:calc(100vh - 200px);min-height:600px}.applications-sidebar[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-color, #e0e0e0);background:var(--bg-light, #f5f5f5)}.sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600;color:var(--text-primary, #1a1a1a)}.applications-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:.5rem}.application-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1rem;border-radius:8px;cursor:pointer;transition:all .2s;margin-bottom:.5rem;position:relative}.application-item[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #f5f5f5)}.application-item.active[_ngcontent-%COMP%]{background:var(--primary-color, #007bff);color:#fff}.application-item.active[_ngcontent-%COMP%]   .job-title[_ngcontent-%COMP%], .application-item.active[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%], .application-item.active[_ngcontent-%COMP%]   .application-date[_ngcontent-%COMP%]{color:#fff}.application-item.active[_ngcontent-%COMP%]   .application-status[_ngcontent-%COMP%]{background:#fff3;color:#fff}.company-logo[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;background:var(--primary-color, #007bff);color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.2rem;font-weight:600;flex-shrink:0;overflow:hidden}.company-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.company-logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.application-info[_ngcontent-%COMP%]{flex:1;min-width:0}.job-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin:0 0 .25rem;color:var(--text-primary, #1a1a1a)}.company-name[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary, #666);margin:0 0 .25rem}.application-date[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary, #666);margin:0 0 .5rem}.application-status[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:500;background:var(--bg-light, #f5f5f5);color:var(--text-primary, #1a1a1a)}.application-status.status-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.application-status.status-reviewed[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.application-status.status-accepted[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.application-status.status-rejected[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.unread-badge[_ngcontent-%COMP%]{position:absolute;top:.5rem;left:.5rem;width:12px;height:12px;background:var(--primary-color, #007bff);border-radius:50%;border:2px solid white}.messages-area[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden}.messages-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-color, #e0e0e0);background:var(--bg-light, #f5f5f5)}.conversation-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.conversation-logo[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;background:var(--primary-color, #007bff);color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.2rem;font-weight:600;flex-shrink:0;overflow:hidden}.conversation-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.conversation-logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.conversation-details[_ngcontent-%COMP%]{flex:1}.conversation-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:1.1rem;font-weight:600;color:var(--text-primary, #1a1a1a)}.conversation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.875rem;color:var(--text-secondary, #666)}.conversation-details[_ngcontent-%COMP%]   .job-link[_ngcontent-%COMP%]{font-size:.875rem;color:var(--primary-color, #007bff);text-decoration:none;font-weight:500}.conversation-details[_ngcontent-%COMP%]   .job-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.messages-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.5rem;display:flex;flex-direction:column;gap:1rem;background:var(--bg-light, #f5f5f5)}.message-item[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem}.message-item.my-message[_ngcontent-%COMP%]{justify-content:flex-end}.message-item.my-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:var(--primary-color, #007bff);color:#fff;border-radius:12px 12px 4px;max-width:70%}.message-item.my-message[_ngcontent-%COMP%]   .sender-name[_ngcontent-%COMP%], .message-item.my-message[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#ffffffe6}.message-item.their-message[_ngcontent-%COMP%]{justify-content:flex-start}.message-item.their-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:#fff;color:var(--text-primary, #1a1a1a);border-radius:12px 12px 12px 4px;max-width:70%;box-shadow:0 1px 2px #0000001a}.message-content[_ngcontent-%COMP%]{padding:.75rem 1rem}.message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.75rem}.sender-name[_ngcontent-%COMP%]{font-weight:600}.message-time[_ngcontent-%COMP%]{color:var(--text-secondary, #666);font-size:.7rem}.message-text[_ngcontent-%COMP%]{line-height:1.5;white-space:pre-wrap;word-wrap:break-word}.message-attachment[_ngcontent-%COMP%]{margin-top:.5rem;padding-top:.5rem;border-top:1px solid rgba(0,0,0,.1)}.message-attachment[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none;font-weight:500}.message-attachment[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.message-attachment[_ngcontent-%COMP%]   .attachment-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-top:.5rem}.message-attachment[_ngcontent-%COMP%]   .attachment-image[_ngcontent-%COMP%]   .attachment-img[_ngcontent-%COMP%]{max-width:100%;max-height:300px;border-radius:8px;cursor:pointer;object-fit:contain;background:var(--bg-light, #f5f5f5);transition:transform .2s}.message-attachment[_ngcontent-%COMP%]   .attachment-image[_ngcontent-%COMP%]   .attachment-img[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 4px 8px #0003}.message-attachment[_ngcontent-%COMP%]   .attachment-image[_ngcontent-%COMP%]   .attachment-link[_ngcontent-%COMP%]{font-size:.85rem;color:var(--primary-color, #007bff);text-decoration:none;opacity:.8}.message-attachment[_ngcontent-%COMP%]   .attachment-image[_ngcontent-%COMP%]   .attachment-link[_ngcontent-%COMP%]:hover{opacity:1;text-decoration:underline}.message-attachment[_ngcontent-%COMP%]   .attachment-file-link[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;background:var(--bg-light, #f5f5f5);border-radius:4px;color:var(--text-primary, #1a1a1a);text-decoration:none;font-weight:500;transition:background .2s}.message-attachment[_ngcontent-%COMP%]   .attachment-file-link[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e0e0e0);text-decoration:none}.message-input-area[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-color, #e0e0e0);background:#fff}.message-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.file-preview[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.5rem 1rem;background:var(--bg-light, #f5f5f5);border-radius:4px;font-size:.875rem}.file-preview[_ngcontent-%COMP%]   .remove-file[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary, #666);cursor:pointer;font-size:1.2rem;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:4px}.file-preview[_ngcontent-%COMP%]   .remove-file[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e0e0e0)}.input-group[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.5rem}.file-input[_ngcontent-%COMP%]{display:none}.file-label[_ngcontent-%COMP%]{padding:.5rem .75rem;background:var(--bg-light, #f5f5f5);border:1px solid var(--border-color, #e0e0e0);border-radius:4px;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;transition:all .2s}.file-label[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e0e0e0)}.message-textarea[_ngcontent-%COMP%]{flex:1;padding:0 5rem!important;border:1px solid var(--border-color, #e0e0e0);border-radius:4px;font-size:.95rem;font-family:inherit;resize:none;min-height:50px!important;max-height:150px!important;overflow-y:auto;transition:height .2s cubic-bezier(.4,0,.2,1);padding-top:1rem;padding-bottom:1rem;line-height:1.5}.message-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color, #007bff);box-shadow:0 0 0 2px #007bff1a}.message-textarea[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.send-button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:var(--primary-color, #007bff);color:#fff;border:none;border-radius:4px;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s;white-space:nowrap}.send-button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-color-dark, #0056b3)}.send-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.empty-state[_ngcontent-%COMP%], .empty-messages[_ngcontent-%COMP%], .empty-messages-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;text-align:center;color:var(--text-secondary, #666);height:100%}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%], .empty-messages[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%], .empty-messages-list[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .empty-messages[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .empty-messages-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.2rem;color:var(--text-primary, #1a1a1a)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-messages[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-messages-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem}.loading-state[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:var(--text-secondary, #666)}.skeleton-header-content[_ngcontent-%COMP%]{flex:1}.skeleton-logo[_ngcontent-%COMP%]{flex-shrink:0}.skeleton-application-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1rem;border-radius:8px;margin-bottom:.5rem;pointer-events:none}.skeleton-application-item[_ngcontent-%COMP%]   .application-info[_ngcontent-%COMP%]{flex:1}.messages-skeleton[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1.5rem}.skeleton-message[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem}.skeleton-message.my-message[_ngcontent-%COMP%]{justify-content:flex-end}.skeleton-message.my-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:var(--primary-color, #007bff);color:#fff;border-radius:12px 12px 4px;max-width:70%}.skeleton-message[_ngcontent-%COMP%]:not(.my-message){justify-content:flex-start}.skeleton-message[_ngcontent-%COMP%]:not(.my-message)   .message-content[_ngcontent-%COMP%]{background:#fff;color:var(--text-primary, #1a1a1a);border-radius:12px 12px 12px 4px;max-width:70%}.skeleton-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{padding:.75rem 1rem;box-shadow:0 1px 2px #0000001a}@media (max-width: 1024px){.messages-layout[_ngcontent-%COMP%]{grid-template-columns:300px 1fr}}@media (max-width: 768px){.messages-container[_ngcontent-%COMP%]{padding:1rem}.messages-layout[_ngcontent-%COMP%]{grid-template-columns:1fr;height:auto;min-height:auto}.applications-sidebar[_ngcontent-%COMP%]{max-height:300px}.message-item.my-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%], .message-item.their-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{max-width:85%}}"]})};var Qo=()=>[1,2,3,4,5],Zo=()=>[1,2,3],ea=()=>({width:"60px",height:"60px"}),ta=(o,t)=>t.value,na=(o,t)=>t.id;function ia(o,t){o&1&&(i(0,"div",1)(1,"div",6),c(2,"p-skeleton",7)(3,"p-skeleton",8),n()())}function oa(o,t){o&1&&(i(0,"div",1)(1,"div")(2,"h1",9),l(3,"\u0645\u0642\u0627\u0628\u0644\u0627\u062A\u064A"),n(),i(4,"p",10),l(5,"\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0642\u0627\u0628\u0644\u0627\u062A \u0627\u0644\u0645\u062C\u062F\u0648\u0644\u0629 \u0644\u0637\u0644\u0628\u0627\u062A\u064A"),n()()())}function aa(o,t){o&1&&c(0,"p-skeleton",12)}function ra(o,t){o&1&&(i(0,"div",3)(1,"div",11),M(2,aa,1,0,"p-skeleton",12,F),n(),i(4,"div",13),c(5,"p-skeleton",14)(6,"p-skeleton",15),n()()),o&2&&(r(2),w(S(0,Qo)))}function la(o,t){if(o&1&&(i(0,"option",19),l(1),n()),o&2){let e=t.$implicit;m("value",e.value),r(),v(e.label)}}function sa(o,t){if(o&1){let e=x();i(0,"div",3)(1,"div",11)(2,"button",16),f("click",function(){_(e);let s=d();return b(s.setStatusFilter("all"))}),l(3),n(),i(4,"button",16),f("click",function(){_(e);let s=d();return b(s.setStatusFilter("scheduled"))}),l(5),n(),i(6,"button",16),f("click",function(){_(e);let s=d();return b(s.setStatusFilter("completed"))}),l(7),n(),i(8,"button",16),f("click",function(){_(e);let s=d();return b(s.setStatusFilter("cancelled"))}),l(9),n(),i(10,"button",16),f("click",function(){_(e);let s=d();return b(s.setStatusFilter("rescheduled"))}),l(11),n()(),i(12,"div",13)(13,"label"),l(14,"\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0627\u0644\u0646\u0648\u0639:"),n(),i(15,"select",17),f("change",function(s){_(e);let u=d();return b(u.setInterviewTypeFilter(s.target.value))}),i(16,"option",18),l(17,"\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u0646\u0648\u0627\u0639"),n(),M(18,la,2,2,"option",19,ta),n()()()}if(o&2){let e=d();r(2),D("active",e.statusFilter()==="all"),r(),h(" \u0627\u0644\u0643\u0644 (",e.statusCounts().all,") "),r(),D("active",e.statusFilter()==="scheduled"),r(),h(" \u0645\u062C\u062F\u0648\u0644\u0629 (",e.statusCounts().scheduled,") "),r(),D("active",e.statusFilter()==="completed"),r(),h(" \u0645\u0643\u062A\u0645\u0644\u0629 (",e.statusCounts().completed,") "),r(),D("active",e.statusFilter()==="cancelled"),r(),h(" \u0645\u0644\u063A\u0627\u0629 (",e.statusCounts().cancelled,") "),r(),D("active",e.statusFilter()==="rescheduled"),r(),h(" \u0625\u0639\u0627\u062F\u0629 \u062C\u062F\u0648\u0644\u0629 (",e.statusCounts().rescheduled,") "),r(4),m("value",e.interviewTypeFilter()),r(3),w(e.interviewTypes)}}function ua(o,t){o&1&&(i(0,"div",20)(1,"div",21)(2,"div",22),c(3,"p-skeleton",23),i(4,"div",24),c(5,"p-skeleton",25)(6,"p-skeleton",26)(7,"p-skeleton",27),i(8,"div",28),c(9,"p-skeleton",29)(10,"p-skeleton",30)(11,"p-skeleton",31),n()()()(),i(12,"div",32),c(13,"p-skeleton",33),i(14,"div",34),c(15,"p-skeleton",35),n()()())}function da(o,t){o&1&&(i(0,"div",4),M(1,ua,16,0,"div",20,F),n()),o&2&&(r(),w(S(0,Zo)))}function ca(o,t){o&1&&(i(0,"div",4)(1,"div",36)(2,"p"),l(3,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0642\u0627\u0628\u0644\u0627\u062A"),n()()())}function ma(o,t){if(o&1&&(i(0,"p",40),l(1),n()),o&2){let e=d(2).$implicit;r(),h("\u{1F4CD} ",e.location)}}function pa(o,t){if(o&1){let e=x();i(0,"p",41)(1,"a",46),f("click",function(){_(e);let s=d(2).$implicit,u=d(2);return b(u.openMeetingLink(s.meeting_link))}),l(2," \u{1F517} \u0631\u0627\u0628\u0637 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639 "),n()()}if(o&2){let e=d(2).$implicit;r(),m("href",e.meeting_link,E)}}function ga(o,t){if(o&1&&(i(0,"div",42)(1,"p"),l(2),n()()),o&2){let e=d(2).$implicit;r(2),v(e.notes)}}function fa(o,t){if(o&1){let e=x();i(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",37)(4,"span"),l(5,"\u{1F3E2}"),n()(),i(6,"div",24)(7,"h4",38),l(8),n(),i(9,"p",39)(10,"strong"),l(11,"\u0627\u0644\u0634\u0631\u0643\u0629:"),n(),l(12),n(),i(13,"div",28)(14,"span"),l(15),n(),i(16,"span"),l(17),n(),i(18,"span"),l(19),n(),i(20,"span"),l(21),n()(),p(22,ma,2,1,"p",40),p(23,pa,3,1,"p",41),p(24,ga,3,1,"div",42),n()()(),i(25,"div",32)(26,"span",43),l(27),n(),i(28,"div",34)(29,"button",44),f("click",function(){_(e);let s=d().$implicit,u=d(2);return b(u.openDetailsModal(s))}),l(30," \u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 "),n()(),i(31,"div",45)(32,"p")(33,"strong"),l(34,"\u0627\u0644\u0645\u062D\u0627\u0648\u0631:"),n(),l(35),n(),i(36,"p")(37,"strong"),l(38,"\u0627\u0644\u0628\u0631\u064A\u062F:"),n(),l(39),n()()()()}if(o&2){let e=d().$implicit,a=d(2);r(8),v(a.getApplicationInfo(e).jobTitle),r(4),h(" ",a.getApplicationInfo(e).companyName," "),r(3),h("\u{1F4C5} ",a.formatDate(e.scheduled_date)),r(2),h("\u{1F550} ",a.formatTime(e.scheduled_date)),r(2),h("\u23F1\uFE0F ",e.duration_minutes," \u062F\u0642\u064A\u0642\u0629"),r(2),h("\u{1F4CB} ",a.getInterviewTypeLabel(e.interview_type)),r(),g(e.location?22:-1),r(),g(e.meeting_link?23:-1),r(),g(e.notes?24:-1),r(2),m("ngClass",a.getStatusClass(e.status)),r(),h(" ",a.getStatusLabel(e.status)," "),r(8),h(" ",e.interviewer_name),r(4),h(" ",e.interviewer_email)}}function _a(o,t){if(o&1&&p(0,fa,40,13,"div",20),o&2){let e=t.$implicit;g(typeof e.application=="object"?0:-1)}}function ba(o,t){if(o&1&&(i(0,"div",4),M(1,_a,1,1,null,null,na),n()),o&2){let e=d();r(),w(e.filteredInterviews())}}function va(o,t){o&1&&(i(0,"div",52),c(1,"p-progressSpinner",53),i(2,"p",54),l(3,"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644..."),n()()),o&2&&(r(),q(S(2,ea)))}function ha(o,t){if(o&1&&(i(0,"div",55)(1,"h3"),l(2,"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0648\u0638\u064A\u0641\u0629"),n(),i(3,"div",56)(4,"div",57)(5,"span",58),l(6,"\u0627\u0644\u0648\u0638\u064A\u0641\u0629:"),n(),i(7,"span",59),l(8),n()(),i(9,"div",57)(10,"span",58),l(11,"\u0627\u0644\u0634\u0631\u0643\u0629:"),n(),i(12,"span",59),l(13),n()()()()),o&2){let e=d(3);r(8),v(e.getApplicationInfo(e.selectedInterview()).jobTitle),r(5),v(e.getApplicationInfo(e.selectedInterview()).companyName)}}function Ca(o,t){if(o&1&&(i(0,"div",57)(1,"span",58),l(2,"\u0627\u0644\u0645\u0648\u0642\u0639:"),n(),i(3,"span",59),l(4),n()()),o&2){let e=d(3);r(4),v(e.selectedInterview().location)}}function xa(o,t){if(o&1){let e=x();i(0,"div",57)(1,"span",58),l(2,"\u0631\u0627\u0628\u0637 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639:"),n(),i(3,"a",65),f("click",function(){_(e);let s=d(3);return b(s.openMeetingLink(s.selectedInterview().meeting_link))}),l(4),n()()}if(o&2){let e=d(3);r(3),m("href",e.selectedInterview().meeting_link,E),r(),h(" ",e.selectedInterview().meeting_link," ")}}function ya(o,t){if(o&1&&(i(0,"div",55)(1,"h3"),l(2,"\u0645\u0644\u0627\u062D\u0638\u0627\u062A"),n(),i(3,"div",66)(4,"p"),l(5),n()()()),o&2){let e=d(3);r(5),v(e.selectedInterview().notes)}}function Ma(o,t){if(o&1){let e=x();i(0,"button",67),f("click",function(){_(e);let s=d(3);return b(s.openMeetingLink(s.selectedInterview().meeting_link))}),c(1,"i",68),l(2," \u0627\u0644\u062F\u062E\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0627\u062C\u062A\u0645\u0627\u0639 "),n()}}function wa(o,t){if(o&1){let e=x();p(0,ha,14,2,"div",55),i(1,"div",55)(2,"h3"),l(3,"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0642\u0627\u0628\u0644\u0629"),n(),i(4,"div",56)(5,"div",57)(6,"span",58),l(7,"\u0646\u0648\u0639 \u0627\u0644\u0645\u0642\u0627\u0628\u0644\u0629:"),n(),i(8,"span",59),l(9),n()(),i(10,"div",57)(11,"span",58),l(12,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E:"),n(),i(13,"span",59),l(14),n()(),i(15,"div",57)(16,"span",58),l(17,"\u0627\u0644\u0648\u0642\u062A:"),n(),i(18,"span",59),l(19),n()(),i(20,"div",57)(21,"span",58),l(22,"\u0627\u0644\u0645\u062F\u0629:"),n(),i(23,"span",59),l(24),n()(),i(25,"div",57)(26,"span",58),l(27,"\u0627\u0644\u062D\u0627\u0644\u0629:"),n(),i(28,"span",60),l(29),n()(),p(30,Ca,5,1,"div",57),p(31,xa,5,2,"div",57),n()(),i(32,"div",55)(33,"h3"),l(34,"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u062D\u0627\u0648\u0631"),n(),i(35,"div",56)(36,"div",57)(37,"span",58),l(38,"\u0627\u0644\u0627\u0633\u0645:"),n(),i(39,"span",59),l(40),n()(),i(41,"div",57)(42,"span",58),l(43,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A:"),n(),i(44,"span",59)(45,"a",61),l(46),n()()()()(),p(47,ya,6,1,"div",55),i(48,"div",62),p(49,Ma,3,0,"button",63),i(50,"button",64),f("click",function(){_(e);let s=d(2);return b(s.closeDetailsModal())}),l(51," \u0625\u063A\u0644\u0627\u0642 "),n()()}if(o&2){let e=d(2);g(typeof e.selectedInterview().application=="object"?0:-1),r(9),v(e.getInterviewTypeLabel(e.selectedInterview().interview_type)),r(5),v(e.formatDateOnly(e.selectedInterview().scheduled_date)),r(5),v(e.formatTime(e.selectedInterview().scheduled_date)),r(5),h("",e.selectedInterview().duration_minutes," \u062F\u0642\u064A\u0642\u0629"),r(4),m("ngClass",e.getStatusClass(e.selectedInterview().status)),r(),h(" ",e.getStatusLabel(e.selectedInterview().status)," "),r(),g(e.selectedInterview().location?30:-1),r(),g(e.selectedInterview().meeting_link?31:-1),r(9),v(e.selectedInterview().interviewer_name),r(5),m("href","mailto:"+e.selectedInterview().interviewer_email,E),r(),h(" ",e.selectedInterview().interviewer_email," "),r(),g(e.selectedInterview().notes?47:-1),r(2),g(e.selectedInterview().meeting_link?49:-1)}}function Pa(o,t){if(o&1){let e=x();i(0,"div",47),f("click",function(){_(e);let s=d();return b(s.closeDetailsModal())}),i(1,"div",48),f("click",function(s){return _(e),b(s.stopPropagation())}),i(2,"div",49)(3,"h2"),l(4,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0642\u0627\u0628\u0644\u0629"),n(),i(5,"button",50),f("click",function(){_(e);let s=d();return b(s.closeDetailsModal())}),l(6,"\xD7"),n()(),i(7,"div",51),p(8,va,4,3,"div",52)(9,wa,52,14),n()()()}if(o&2){let e=d();r(8),g(e.loadingDetails()?8:e.selectedInterview()?9:-1)}}var Mt=class o extends X{interviewService=C(bn);loaderService=C(rn);interviews=ae([]);loading=ae(!1);statusFilter=ae("all");interviewTypeFilter=ae("all");showDetailsModal=ae(!1);selectedInterview=ae(null);loadingDetails=ae(!1);interviewTypes=[{label:"\u0647\u0627\u062A\u0641\u064A",value:"phone"},{label:"\u0641\u064A\u062F\u064A\u0648",value:"video"},{label:"\u0634\u062E\u0635\u064A",value:"in_person"},{label:"\u062A\u0642\u0646\u064A",value:"technical"},{label:"\u0645\u0648\u0627\u0631\u062F \u0628\u0634\u0631\u064A\u0629",value:"hr"},{label:"\u0646\u0647\u0627\u0626\u064A",value:"final"}];filteredInterviews=Ot(()=>{let t=this.interviews();return this.statusFilter()!=="all"&&(t=t.filter(e=>e.status===this.statusFilter())),this.interviewTypeFilter()!=="all"&&(t=t.filter(e=>e.interview_type===this.interviewTypeFilter())),t});statusCounts=Ot(()=>{let t=this.interviews();return{all:t.length,scheduled:t.filter(e=>e.status==="scheduled").length,completed:t.filter(e=>e.status==="completed").length,cancelled:t.filter(e=>e.status==="cancelled").length,rescheduled:t.filter(e=>e.status==="rescheduled").length}});ngOnInit(){this.loadInterviews()}loadInterviews(){this.loading.set(!0),this.loaderService.start(),this.interviewService.getInterviews().subscribe({next:t=>{this.interviews.set(t.results||[]),this.loading.set(!1),this.loaderService.stop()},error:t=>{console.error("Failed to load interviews",t),this.toastr.error("\u0641\u0634\u0644 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0642\u0627\u0628\u0644\u0627\u062A"),this.loading.set(!1),this.loaderService.stop()}})}setStatusFilter(t){this.statusFilter.set(t)}setInterviewTypeFilter(t){this.interviewTypeFilter.set(t)}openDetailsModal(t){this.selectedInterview.set(t),this.loadingDetails.set(!0),this.loaderService.start(),this.interviewService.getInterviewById(t.id).subscribe({next:e=>{this.selectedInterview.set(e),this.loadingDetails.set(!1),this.loaderService.stop(),this.showDetailsModal.set(!0)},error:e=>{console.error("Failed to load interview details",e),this.toastr.error("\u0641\u0634\u0644 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0642\u0627\u0628\u0644\u0629"),this.loadingDetails.set(!1),this.loaderService.stop()}})}closeDetailsModal(){this.showDetailsModal.set(!1),this.selectedInterview.set(null),this.loadingDetails.set(!1),this.loaderService.stop()}getInterviewTypeLabel(t){return this.interviewTypes.find(a=>a.value===t)?.label||t}getStatusLabel(t){return{scheduled:"\u0645\u062C\u062F\u0648\u0644\u0629",completed:"\u0645\u0643\u062A\u0645\u0644\u0629",cancelled:"\u0645\u0644\u063A\u0627\u0629",rescheduled:"\u0625\u0639\u0627\u062F\u0629 \u062C\u062F\u0648\u0644\u0629"}[t||""]||t||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}getStatusClass(t){return{scheduled:"status-scheduled",completed:"status-completed",cancelled:"status-cancelled",rescheduled:"status-rescheduled"}[t||""]||"status-default"}formatDate(t){let e=new Date(t);return new Intl.DateTimeFormat("ar-SA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}formatDateOnly(t){let e=new Date(t);return new Intl.DateTimeFormat("ar-SA",{year:"numeric",month:"long",day:"numeric"}).format(e)}formatTime(t){let e=new Date(t);return new Intl.DateTimeFormat("ar-SA",{hour:"2-digit",minute:"2-digit"}).format(e)}getApplicationInfo(t){let e=t.application;return typeof e=="object"&&e?.job?{jobTitle:e.job.title||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F",companyName:e.job.company?.name||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}:{jobTitle:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F",companyName:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}}openMeetingLink(t){t&&window.open(t,"_blank")}static \u0275fac=(()=>{let t;return function(a){return(t||(t=re(o)))(a||o)}})();static \u0275cmp=A({type:o,selectors:[["app-jobseeker-interviews"]],features:[H],decls:10,vars:8,consts:[["id","interviews",1,"interviews-container"],[1,"employer-header"],[1,"employer-content-card"],[1,"filters-section"],[1,"tab-content"],[1,"modal-backdrop"],[1,"skeleton-header-content"],["width","250px","height","2rem","styleClass","mb-2"],["width","300px","height","1.2rem"],[1,"employer-title"],[1,"subtitle"],[1,"tab-navigation"],["width","140px","height","2.5rem","styleClass","mb-0"],[1,"job-filter"],["width","150px","height","1.5rem","styleClass","mb-0"],["width","200px","height","2.5rem","styleClass","mb-0"],[1,"tab",3,"click"],["title","\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0646\u0648\u0639 \u0627\u0644\u0645\u0642\u0627\u0628\u0644\u0629","aria-label","\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0646\u0648\u0639 \u0627\u0644\u0645\u0642\u0627\u0628\u0644\u0629",1,"form-select",3,"change","value"],["value","all"],[3,"value"],[1,"interview-item"],[1,"interview-info"],[1,"candidate-header"],["width","60px","height","60px","shape","circle","styleClass","skeleton-avatar"],[1,"candidate-details"],["width","200px","height","1.5rem","styleClass","mb-2"],["width","250px","height","1rem","styleClass","mb-2"],["width","60%","height","1rem","styleClass","mb-2"],[1,"candidate-meta"],["width","150px","height","1rem","styleClass","mb-0"],["width","120px","height","1rem","styleClass","mb-0"],["width","100px","height","1rem","styleClass","mb-0"],[1,"interview-actions"],["width","100px","height","1.5rem","styleClass","mb-2"],[1,"action-buttons"],["width","100%","height","2.5rem","styleClass","mb-0"],[1,"empty"],[1,"company-logo"],[1,"candidate-name"],[1,"job-applied-for"],[1,"interview-location"],[1,"interview-link"],[1,"interview-notes"],[1,"interview-status",3,"ngClass"],[1,"btn","btn-small","btn-primary",3,"click"],[1,"interview-meta"],["target","_blank","rel","noopener noreferrer",3,"click","href"],[1,"modal-backdrop",3,"click"],[1,"modal-dialog",3,"click"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"loading-state"],["strokeWidth","6","ariaLabel","Loading"],[1,"loading-text"],[1,"detail-section"],[1,"detail-content"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"detail-value","status-badge",3,"ngClass"],[3,"href"],[1,"modal-actions"],[1,"btn","btn-primary"],[1,"btn","btn-secondary",3,"click"],["target","_blank","rel","noopener noreferrer",1,"detail-link",3,"click","href"],[1,"notes-content"],[1,"btn","btn-primary",3,"click"],[1,"pi","pi-video"]],template:function(e,a){e&1&&(i(0,"div",0),p(1,ia,4,0,"div",1),p(2,oa,6,0,"div",1),i(3,"div",2),p(4,ra,7,1,"div",3),p(5,sa,20,16,"div",3),p(6,da,3,1,"div",4),p(7,ca,4,0,"div",4),p(8,ba,3,0,"div",4),n()(),p(9,Pa,10,1,"div",5)),e&2&&(r(),g(a.loading()?1:-1),r(),g(a.loading()?-1:2),r(2),g(a.loading()?4:-1),r(),g(a.loading()?-1:5),r(),g(a.loading()?6:-1),r(),g(!a.loading()&&a.filteredInterviews().length===0?7:-1),r(),g(!a.loading()&&a.filteredInterviews().length>0?8:-1),r(),g(a.showDetailsModal()?9:-1))},dependencies:[Me,se,pe,tn,nn,ln,Z,z,Re,sn],styles:[".interviews-container[_ngcontent-%COMP%]{padding:2rem;max-width:100%;overflow-x:hidden}.employer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem}.employer-header[_ngcontent-%COMP%]   .employer-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin:0 0 .5rem;color:var(--text-primary, #1a1a1a)}.employer-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary, #666);margin:0}.employer-header[_ngcontent-%COMP%]   .employer-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.employer-content-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a}@media (max-width: 768px){.employer-content-card[_ngcontent-%COMP%]{padding:1rem;overflow-x:hidden}}.filters-section[_ngcontent-%COMP%]{margin-bottom:2rem}.tab-navigation[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem;border-bottom:2px solid var(--border-color, #e0e0e0);padding-bottom:.5rem;position:relative;overflow-x:auto}.tab-navigation[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;background:transparent;color:var(--text-secondary, #666);cursor:pointer;font-size:.95rem;border-radius:4px 4px 0 0;transition:all .2s;white-space:nowrap;flex-shrink:0}.tab-navigation[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #f5f5f5);color:var(--text-primary, #1a1a1a)}.tab-navigation[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:var(--primary-color, #007bff);color:#fff;font-weight:600}.job-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:var(--bg-light, #f5f5f5);border-radius:4px}.job-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary, #1a1a1a);white-space:nowrap}.job-filter[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{flex:1;max-width:300px;padding:.5rem;border:1px solid var(--border-color, #e0e0e0);border-radius:4px;font-size:.95rem;background:#fff}.tab-content[_ngcontent-%COMP%]{display:block}.interview-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:1.5rem;border:1px solid var(--border-color, #e0e0e0);border-radius:8px;margin-bottom:1rem;transition:box-shadow .2s;gap:1.5rem}.interview-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a}@media (max-width: 768px){.interview-item[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.interview-info[_ngcontent-%COMP%]{flex:1;min-width:0}.candidate-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.company-logo[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:var(--bg-light, #f5f5f5);display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0;font-size:2rem;color:var(--primary-color, #007bff)}.candidate-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:var(--bg-light, #f5f5f5);display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0;font-weight:600;font-size:1.2rem;color:var(--primary-color, #007bff)}.candidate-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.candidate-details[_ngcontent-%COMP%]{flex:1;min-width:0}.candidate-details[_ngcontent-%COMP%]   .candidate-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin:0 0 .5rem;color:var(--text-primary, #1a1a1a)}.candidate-details[_ngcontent-%COMP%]   .job-applied-for[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary, #666);margin:.5rem 0}.candidate-details[_ngcontent-%COMP%]   .job-applied-for[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary, #1a1a1a)}.candidate-details[_ngcontent-%COMP%]   .candidate-meta[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:.85rem;color:var(--text-secondary, #666);margin-top:.5rem;flex-wrap:wrap}.candidate-details[_ngcontent-%COMP%]   .candidate-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;word-break:break-word}.candidate-details[_ngcontent-%COMP%]   .interview-location[_ngcontent-%COMP%], .candidate-details[_ngcontent-%COMP%]   .interview-link[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary, #666);margin:.5rem 0}.candidate-details[_ngcontent-%COMP%]   .interview-location[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .candidate-details[_ngcontent-%COMP%]   .interview-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color, #007bff);text-decoration:none}.candidate-details[_ngcontent-%COMP%]   .interview-location[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .candidate-details[_ngcontent-%COMP%]   .interview-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.candidate-details[_ngcontent-%COMP%]   .interview-notes[_ngcontent-%COMP%]{margin-top:.75rem;padding:.75rem;background:var(--bg-light, #f5f5f5);border-radius:4px;border-left:3px solid var(--primary-color, #007bff)}.candidate-details[_ngcontent-%COMP%]   .interview-notes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:var(--text-primary, #1a1a1a);line-height:1.5}.interview-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:1rem;min-width:200px}@media (max-width: 768px){.interview-actions[_ngcontent-%COMP%]{width:100%;align-items:stretch}}.interview-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%}.interview-actions[_ngcontent-%COMP%]   .interview-meta[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary, #666);text-align:right}.interview-actions[_ngcontent-%COMP%]   .interview-meta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}@media (max-width: 768px){.interview-actions[_ngcontent-%COMP%]   .interview-meta[_ngcontent-%COMP%]{text-align:left}}.interview-status[_ngcontent-%COMP%]{padding:.375rem .75rem;border-radius:4px;font-size:.85rem;font-weight:500;display:inline-block}.interview-status.status-scheduled[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.interview-status.status-completed[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.interview-status.status-cancelled[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.interview-status.status-rescheduled[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.interview-status.status-default[_ngcontent-%COMP%]{background:#e2e3e5;color:#383d41}.empty[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:var(--text-secondary, #666)}.empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin:0 0 1rem}.skeleton-header-content[_ngcontent-%COMP%]{flex:1}.skeleton-header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.skeleton-avatar[_ngcontent-%COMP%]{flex-shrink:0;margin-right:1rem}.skeleton-details[_ngcontent-%COMP%]{padding:1rem 0}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:2rem;overflow-y:auto}.modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:800px;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 4px 20px #00000026;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid var(--border-color, #e0e0e0)}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:var(--text-primary, #1a1a1a)}.modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:var(--text-secondary, #666);cursor:pointer;line-height:1;padding:0;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;transition:color .2s}.modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{color:var(--text-primary, #1a1a1a)}.modal-body[_ngcontent-%COMP%]{padding:1.5rem;overflow-y:auto;flex:1}.loading-state[_ngcontent-%COMP%]{padding:3rem;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;gap:1rem}.loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary, #666);font-size:1rem}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem;padding-top:1.5rem;border-top:1px solid var(--border-color, #e0e0e0)}@media (max-width: 768px){.modal-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}.modal-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}.detail-section[_ngcontent-%COMP%]{margin-bottom:2rem}.detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin:0 0 1rem;color:var(--text-primary, #1a1a1a);padding-bottom:.5rem;border-bottom:2px solid var(--border-color, #e0e0e0)}.detail-content[_ngcontent-%COMP%]{display:grid;gap:1rem}.detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:.75rem 0;border-bottom:1px solid var(--bg-light, #f5f5f5)}.detail-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-secondary, #666);margin-left:1rem}.detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:var(--text-primary, #1a1a1a);text-align:right;flex:1}.detail-item[_ngcontent-%COMP%]   .detail-value.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:4px;font-size:.85rem}.detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color, #007bff);text-decoration:none}.detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.detail-item[_ngcontent-%COMP%]   .detail-link[_ngcontent-%COMP%]{color:var(--primary-color, #007bff);text-decoration:none;word-break:break-all}.detail-item[_ngcontent-%COMP%]   .detail-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.notes-content[_ngcontent-%COMP%]{padding:1rem;background:var(--bg-light, #f5f5f5);border-radius:4px;border-left:3px solid var(--primary-color, #007bff)}.notes-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-primary, #1a1a1a);line-height:1.6}"]})};var Oa=()=>({width:"90vw",maxWidth:"600px"}),Pn=()=>({width:"100%"}),ka=(o,t)=>t.id;function Sa(o,t){o&1&&(i(0,"div",22),c(1,"p-skeleton",47)(2,"p-skeleton",47)(3,"p-skeleton",48),n())}function Aa(o,t){if(o&1&&(i(0,"span",58),l(1),n()),o&2){let e=d().$implicit,a=d(2);r(),v(a.formatDate(e.issue_date))}}function Ea(o,t){if(o&1&&(i(0,"p",62),l(1),n()),o&2){let e=d().$implicit;r(),v(e.description)}}function Da(o,t){if(o&1&&(i(0,"span",65),c(1,"i",69),l(2),n()),o&2){let e=d().$implicit;r(2),h(" ",e.issued_by," ")}}function Fa(o,t){if(o&1&&(i(0,"span",65),c(1,"i",70),l(2),n()),o&2){let e=d().$implicit;r(2),h(" ",e.file_name," ")}}function Ta(o,t){if(o&1&&(i(0,"span",65),c(1,"i",71),l(2),n()),o&2){let e=d().$implicit;r(2),h(" ",e.file_size," ")}}function ja(o,t){if(o&1){let e=x();i(0,"div",50)(1,"div",52)(2,"div",53)(3,"h3",54),l(4),n(),i(5,"div",55)(6,"span",56),l(7),n(),i(8,"span",57),l(9),n(),p(10,Aa,2,1,"span",58),n()(),i(11,"div",59)(12,"p-button",60),f("onClick",function(){let s=_(e).$implicit,u=d(2);return b(u.openEditDialog(s))}),n(),i(13,"p-button",61),f("onClick",function(){let s=_(e).$implicit,u=d(2);return b(u.deleteDocument(s.id))}),n()()(),p(14,Ea,2,1,"p",62),i(15,"div",63)(16,"div",64),p(17,Da,3,1,"span",65),p(18,Fa,3,1,"span",65),p(19,Ta,3,1,"span",65),i(20,"span",65),c(21,"i",66),l(22),n()(),i(23,"a",67),c(24,"i",68),l(25," \u0639\u0631\u0636/\u062A\u062D\u0645\u064A\u0644 "),n()()()}if(o&2){let e=t.$implicit,a=d(2);r(4),v(e.title),r(3),v(a.getDocumentTypeLabel(e.document_type)),r(2),v(a.getVisibilityLabel(e.visibility)),r(),g(e.issue_date?10:-1),r(2),m("title","\u062A\u0639\u062F\u064A\u0644"),r(),m("title","\u062D\u0630\u0641"),r(),g(e.description?14:-1),r(3),g(e.issued_by?17:-1),r(),g(e.file_name?18:-1),r(),g(e.file_size?19:-1),r(3),h(" ",e.views_count," \u0645\u0634\u0627\u0647\u062F\u0629 "),r(),m("href",a.getFileUrl(e),E)}}function Ia(o,t){if(o&1){let e=x();i(0,"div",51)(1,"p-button",72),f("onClick",function(){_(e);let s=d(2);return b(s.goToPage(s.currentPage-1))}),n(),i(2,"span",73),l(3),n(),i(4,"p-button",74),f("onClick",function(){_(e);let s=d(2);return b(s.goToPage(s.currentPage+1))}),n()()}if(o&2){let e=d(2);r(),m("disabled",!e.hasPrevious),r(2),Se(" \u0635\u0641\u062D\u0629 ",e.currentPage," \u0645\u0646 ",e.Math.ceil(e.totalCount/10)," "),r(),m("disabled",!e.hasNext)}}function Va(o,t){if(o&1&&(i(0,"div",49),M(1,ja,26,12,"div",50,ka),n(),p(3,Ia,5,4,"div",51)),o&2){let e=d();r(),w(e.documents),r(2),g(e.totalCount>e.documents.length?3:-1)}}function La(o,t){if(o&1){let e=x();i(0,"div",23),c(1,"i",75),i(2,"h3"),l(3,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0648\u062B\u0627\u0626\u0642"),n(),i(4,"p"),l(5,"\u0627\u0628\u062F\u0623 \u0628\u0625\u0636\u0627\u0641\u0629 \u0648\u062B\u064A\u0642\u0629 \u062C\u062F\u064A\u062F\u0629 \u0644\u0639\u0631\u0636\u0647\u0627 \u0647\u0646\u0627"),n(),i(6,"p-button",76),f("onClick",function(){_(e);let s=d();return b(s.openCreateDialog())}),n()()}}function Ba(o,t){o&1&&(i(0,"small",31),l(1,"\u0646\u0648\u0639 \u0627\u0644\u0648\u062B\u064A\u0642\u0629 \u0645\u0637\u0644\u0648\u0628"),n())}function za(o,t){o&1&&(i(0,"small",31),l(1,"\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u0635\u0648\u0635\u064A\u0629 \u0645\u0637\u0644\u0648\u0628"),n())}function Na(o,t){o&1&&l(0," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0645\u0637\u0644\u0648\u0628 ")}function Ja(o,t){o&1&&l(0," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u064A\u062C\u0628 \u0623\u0644\u0627 \u064A\u062A\u062C\u0627\u0648\u0632 200 \u062D\u0631\u0641 ")}function $a(o,t){if(o&1&&(i(0,"small",31),p(1,Na,1,0),p(2,Ja,1,0),n()),o&2){let e,a,s=d();r(),g(!((e=s.documentForm.get("title"))==null||e.errors==null)&&e.errors.required?1:-1),r(),g(!((a=s.documentForm.get("title"))==null||a.errors==null)&&a.errors.maxlength?2:-1)}}function Ua(o,t){o&1&&(i(0,"small",31),l(1,"\u0627\u0644\u062C\u0647\u0629 \u0627\u0644\u0645\u0635\u062F\u0631\u0629 \u064A\u062C\u0628 \u0623\u0644\u0627 \u062A\u062A\u062C\u0627\u0648\u0632 200 \u062D\u0631\u0641"),n())}function Ra(o,t){if(o&1&&(i(0,"span",82),l(1),n()),o&2){let e=d(2);r(),v(e.formatFileSize(e.selectedFile.size))}}function Wa(o,t){if(o&1){let e=x();i(0,"div",44)(1,"div",77)(2,"div",78),c(3,"i",79),i(4,"div",80)(5,"span",81),l(6),n(),p(7,Ra,2,1,"span",82),n()(),i(8,"a",83),f("click",function(s){_(e);let u=d();return b(u.previewFile(s))}),c(9,"i",66),l(10," \u0645\u0639\u0627\u064A\u0646\u0629 \u0627\u0644\u0645\u0644\u0641 "),n()()()}if(o&2){let e=d();r(3),m("ngClass",e.getFileIconClass()),r(3),v(e.getFileName()),r(),g(e.selectedFile?7:-1),r(),m("href",e.filePreviewUrl,E)}}function Ha(o,t){o&1&&(i(0,"small",31),l(1,"\u0627\u0644\u0645\u0644\u0641 \u0645\u0637\u0644\u0648\u0628"),n())}function Ga(o,t){o&1&&(i(0,"small",45),l(1,"\u0627\u062A\u0631\u0643\u0647 \u0641\u0627\u0631\u063A\u0627\u064B \u0644\u0644\u0627\u062D\u062A\u0641\u0627\u0638 \u0628\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u062D\u0627\u0644\u064A"),n())}function qa(o,t){if(o&1){let e=x();i(0,"p-button",84),f("onClick",function(){_(e);let s=d();return b(s.closeDialog())}),n(),i(1,"p-button",85),f("onClick",function(){_(e);let s=d();return b(s.saveDocument())}),n()}if(o&2){let e=d();r(),m("label",e.isEditing?"\u062A\u062D\u062F\u064A\u062B":"\u0625\u0636\u0627\u0641\u0629")("disabled",e.documentForm.invalid)}}var nt=class o extends X{documentsService=C(_n);fb=C(he);documents=[];isLoading=!1;showDialog=!1;isEditing=!1;editingDocumentId=null;searchTerm="";currentPage=1;totalCount=0;hasNext=!1;hasPrevious=!1;documentForm;selectedFile=null;filePreviewUrl=null;documentTypes=[{value:"certificate",label:"\u0634\u0647\u0627\u062F\u0629 \u0623\u0643\u0627\u062F\u064A\u0645\u064A\u0629"},{value:"training",label:"\u0634\u0647\u0627\u062F\u0629 \u062F\u0648\u0631\u0629 \u062A\u062F\u0631\u064A\u0628\u064A\u0629"},{value:"project",label:"\u0645\u0634\u0631\u0648\u0639"},{value:"recommendation",label:"\u062E\u0637\u0627\u0628 \u062A\u0648\u0635\u064A\u0629"},{value:"award",label:"\u062C\u0627\u0626\u0632\u0629 \u0623\u0648 \u062A\u0643\u0631\u064A\u0645"},{value:"other",label:"\u0623\u062E\u0631\u0649"}];visibilityOptions=[{value:"public",label:"\u0639\u0627\u0645",description:"\u064A\u0645\u0643\u0646 \u0644\u0623\u064A \u0635\u0627\u062D\u0628 \u0639\u0645\u0644 \u0627\u0644\u0645\u0634\u0627\u0647\u062F\u0629"},{value:"private",label:"\u062E\u0627\u0635",description:"\u0641\u0642\u0637 \u0623\u0646\u0627"},{value:"employers_only",label:"\u0623\u0635\u062D\u0627\u0628 \u0627\u0644\u0639\u0645\u0644 \u0641\u0642\u0637",description:"\u0639\u0646\u062F \u0627\u0644\u062A\u0642\u062F\u064A\u0645"}];ngOnInit(){this.initForm(),this.loadDocuments()}initForm(){this.documentForm=this.fb.group({document_type:["",B.required],title:["",[B.required,B.maxLength(200)]],description:[""],file:[null,B.required],issued_by:["",B.maxLength(200)],issue_date:[""],visibility:["public",B.required]})}loadDocuments(){this.isLoading=!0;let t={page:this.currentPage};this.searchTerm&&(t.search=this.searchTerm),this.documentsService.getDocuments(t).subscribe({next:e=>{this.documents=e.results||e.data||[],this.totalCount=e.count||this.documents.length,this.hasNext=!!e.next,this.hasPrevious=!!e.previous,this.isLoading=!1,console.log("Documents loaded:",this.documents)},error:e=>{console.error("Error loading documents:",e),this.errors.error(e,{join:!0}),this.isLoading=!1,this.documents=[]}})}onSearch(){this.currentPage=1,this.loadDocuments()}onFileChange(t){let a=t.target.files?.[0]||null;if(this.selectedFile=a,this.filePreviewUrl&&this.filePreviewUrl.startsWith("blob:")&&URL.revokeObjectURL(this.filePreviewUrl),a)this.filePreviewUrl=URL.createObjectURL(a),this.documentForm.patchValue({file:a.name});else{if(this.isEditing&&this.editingDocumentId)return;this.filePreviewUrl=null,this.documentForm.patchValue({file:null})}}openCreateDialog(){this.isEditing=!1,this.editingDocumentId=null,this.selectedFile=null,this.filePreviewUrl&&this.filePreviewUrl.startsWith("blob:")&&URL.revokeObjectURL(this.filePreviewUrl),this.filePreviewUrl=null,this.documentForm.reset({document_type:"",title:"",description:"",file:null,issued_by:"",issue_date:"",visibility:"public"}),setTimeout(()=>{let t=window.document.getElementById("file");t&&(t.value="")},0),this.showDialog=!0}openEditDialog(t){this.isEditing=!0,this.editingDocumentId=t.id,this.selectedFile=null,this.filePreviewUrl&&this.filePreviewUrl.startsWith("blob:")&&URL.revokeObjectURL(this.filePreviewUrl),this.filePreviewUrl=t.file_url||this.toAbsolute(t.file)||null,this.documentForm.patchValue({document_type:t.document_type,title:t.title,description:t.description||"",file:t.file_name||t.file,issued_by:t.issued_by||"",issue_date:t.issue_date||"",visibility:t.visibility}),setTimeout(()=>{let e=window.document.getElementById("file");e&&(e.value="")},0),this.showDialog=!0}closeDialog(){this.showDialog=!1,this.isEditing=!1,this.editingDocumentId=null,this.selectedFile=null,this.filePreviewUrl&&!this.filePreviewUrl.startsWith("http")&&URL.revokeObjectURL(this.filePreviewUrl),this.filePreviewUrl=null,this.documentForm.reset()}saveDocument(){if(this.documentForm.invalid){this.toastr.error("\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629");return}if(!this.isEditing&&!this.selectedFile){this.toastr.error("\u064A\u0631\u062C\u0649 \u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0644\u0641");return}let t=this.documentForm.value,e=new FormData;this.selectedFile&&e.append("file",this.selectedFile),e.append("document_type",t.document_type),e.append("title",t.title),t.description&&e.append("description",t.description),t.issued_by&&e.append("issued_by",t.issued_by),t.issue_date&&e.append("issue_date",t.issue_date.toISOString()),e.append("visibility",t.visibility),this.isEditing&&this.editingDocumentId?this.documentsService.partialUpdateDocument(this.editingDocumentId,e).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0648\u062B\u064A\u0642\u0629 \u0628\u0646\u062C\u0627\u062D"),this.closeDialog(),this.loadDocuments()},error:a=>{this.errors.error(a,{join:!0})}}):this.documentsService.createDocument(e).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0648\u062B\u064A\u0642\u0629 \u0628\u0646\u062C\u0627\u062D"),this.closeDialog(),this.loadDocuments()},error:a=>{this.errors.error(a,{join:!0})}})}deleteDocument(t){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0648\u062B\u064A\u0642\u0629\u061F")&&this.documentsService.deleteDocument(t).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0648\u062B\u064A\u0642\u0629 \u0628\u0646\u062C\u0627\u062D"),this.loadDocuments()},error:e=>{this.errors.error(e,{join:!0})}})}getDocumentTypeLabel(t){return this.documentTypes.find(a=>a.value===t)?.label||t}getVisibilityLabel(t){return this.visibilityOptions.find(a=>a.value===t)?.label||t}formatDate(t){if(!t)return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";let e=new Date(t);return new Intl.DateTimeFormat("ar-SA",{year:"numeric",month:"long",day:"numeric"}).format(e)}getFileUrl(t){return t.file_url?t.file_url:this.toAbsolute(t.file)||"#"}toAbsolute(t){if(!t)return null;if(/^(https?:|blob:|data:)/i.test(t))return t;let e=V.apiBaseUrl.replace(/\/+$/,""),a=String(t).replace(/^\/+/,"");return`${e}/${a}`}goToPage(t){this.currentPage=t,this.loadDocuments()}Math=Math;getFileName(){if(this.selectedFile)return this.selectedFile.name;if(this.isEditing&&this.filePreviewUrl){let t=this.filePreviewUrl.split("/");return t[t.length-1]||"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u062D\u0627\u0644\u064A"}return"\u0645\u0639\u0627\u064A\u0646\u0629 \u0627\u0644\u0645\u0644\u0641"}getFileIconClass(){if(!this.selectedFile&&!this.filePreviewUrl)return"";let t=this.selectedFile?.name||this.filePreviewUrl||"";return t.toLowerCase().endsWith(".pdf")?"pi-file-pdf":t.toLowerCase().match(/\.(jpg|jpeg|png|gif)$/)?"pi-image":t.toLowerCase().match(/\.(doc|docx)$/)?"pi-file-word":"pi-file"}formatFileSize(t){if(t===0)return"0 Bytes";let e=1024,a=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,s)*100)/100+" "+a[s]}previewFile(t){t.preventDefault(),this.filePreviewUrl&&window.open(this.filePreviewUrl,"_blank","noopener,noreferrer")}ngOnDestroy(){this.filePreviewUrl&&this.filePreviewUrl.startsWith("blob:")&&URL.revokeObjectURL(this.filePreviewUrl)}static \u0275fac=(()=>{let t;return function(a){return(t||(t=re(o)))(a||o)}})();static \u0275cmp=A({type:o,selectors:[["app-documents"]],standalone:!1,features:[H],decls:78,vars:31,consts:[["fileInput",""],[1,"documents-container"],[1,"documents-header"],[1,"header-content"],[1,"header-title-section"],[1,"header-icon-wrapper"],[1,"pi","pi-folder","header-icon"],[1,"header-text"],[1,"header-subtitle"],[1,"header-stats"],[1,"stat-item"],[1,"pi","pi-file","stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"header-actions"],["label","\u0625\u0636\u0627\u0641\u0629 \u0648\u062B\u064A\u0642\u0629 \u062C\u062F\u064A\u062F\u0629","icon","pi pi-plus","styleClass","p-button-primary header-add-btn",3,"onClick"],[1,"search-bar"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","\u0627\u0644\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0648\u062B\u0627\u0626\u0642...",3,"ngModelChange","keyup.enter","ngModel"],["label","\u0628\u062D\u062B","icon","pi pi-search","styleClass","p-button-secondary",3,"onClick"],[1,"loading-container"],[1,"empty-state"],[3,"visibleChange","onHide","visible","header","modal"],[1,"document-form",3,"formGroup"],[1,"form-row"],[1,"form-field"],["for","document_type"],[1,"required"],["formControlName","document_type","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u0648\u062B\u064A\u0642\u0629",3,"options"],[1,"p-error"],["for","visibility"],["formControlName","visibility","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u0635\u0648\u0635\u064A\u0629",3,"options"],["for","title"],["pInputText","","type","text","id","title","formControlName","title","placeholder","\u0623\u062F\u062E\u0644 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0648\u062B\u064A\u0642\u0629",3,"maxlength"],["for","description"],["pInputTextarea","","id","description","formControlName","description","placeholder","\u0623\u062F\u062E\u0644 \u0648\u0635\u0641 \u0627\u0644\u0648\u062B\u064A\u0642\u0629 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)",3,"rows"],["for","issued_by"],["pInputText","","type","text","id","issued_by","formControlName","issued_by","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u062C\u0647\u0629 \u0627\u0644\u0645\u0635\u062F\u0631\u0629",3,"maxlength"],["for","issue_date"],["formControlName","issue_date","appendTo","body","dateFormat","yy-mm-dd","placeholder","\u0627\u062E\u062A\u0631 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0635\u062F\u0627\u0631",3,"showIcon"],["for","file"],["type","file","id","file","accept",".pdf,.doc,.docx,.jpg,.jpeg,.png",1,"file-input",3,"change"],[1,"file-preview"],[1,"p-info"],["pTemplate","footer"],["width","100%","height","100px","styleClass","mb-3"],["width","100%","height","100px"],[1,"documents-list"],[1,"document-card"],[1,"pagination"],[1,"document-header"],[1,"document-info"],[1,"document-title"],[1,"document-meta"],[1,"document-type"],[1,"document-visibility"],[1,"document-date"],[1,"document-actions"],["icon","pi pi-pencil","styleClass","p-button-text p-button-sm",3,"onClick","title"],["icon","pi pi-trash","styleClass","p-button-text p-button-sm p-button-danger",3,"onClick","title"],[1,"document-description"],[1,"document-footer"],[1,"document-details"],[1,"detail-item"],[1,"pi","pi-eye"],["target","_blank","rel","noopener",1,"btn","btn-primary","btn-sm","download-btn",3,"href"],[1,"pi","pi-download"],[1,"pi","pi-building"],[1,"pi","pi-file"],[1,"pi","pi-info-circle"],["label","\u0627\u0644\u0633\u0627\u0628\u0642","icon","pi pi-angle-right","styleClass","p-button-secondary",3,"onClick","disabled"],[1,"page-info"],["label","\u0627\u0644\u062A\u0627\u0644\u064A","icon","pi pi-angle-left","styleClass","p-button-secondary",3,"onClick","disabled"],[1,"pi","pi-file-empty","empty-icon"],["label","\u0625\u0636\u0627\u0641\u0629 \u0648\u062B\u064A\u0642\u0629 \u062C\u062F\u064A\u062F\u0629","icon","pi pi-plus","styleClass","p-button-primary",3,"onClick"],[1,"file-preview-content"],[1,"file-info"],[1,"pi","pi-file",3,"ngClass"],[1,"file-details"],[1,"file-name"],[1,"file-size"],["target","_blank","rel","noopener",1,"preview-link",3,"click","href"],["label","\u0625\u0644\u063A\u0627\u0621","icon","pi pi-times","styleClass","p-button-text",3,"onClick"],["icon","pi pi-check","styleClass","p-button-primary",3,"onClick","label","disabled"]],template:function(e,a){if(e&1){let s=x();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),c(5,"i",6),n(),i(6,"div",7)(7,"h2"),l(8,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0648\u062B\u0627\u0626\u0642"),n(),i(9,"p",8),l(10,"\u0642\u0645 \u0628\u0625\u062F\u0627\u0631\u0629 \u0648\u062A\u0646\u0638\u064A\u0645 \u062C\u0645\u064A\u0639 \u0648\u062B\u0627\u0626\u0642\u0643 \u0641\u064A \u0645\u0643\u0627\u0646 \u0648\u0627\u062D\u062F"),n()()(),i(11,"div",9)(12,"div",10),c(13,"i",11),i(14,"div",12)(15,"span",13),l(16),n(),i(17,"span",14),l(18,"\u0648\u062B\u064A\u0642\u0629"),n()()()()(),i(19,"div",15)(20,"p-button",16),f("onClick",function(){return _(s),b(a.openCreateDialog())}),n()()(),i(21,"div",17)(22,"span",18),c(23,"i",19),i(24,"input",20),k("ngModelChange",function(y){return _(s),O(a.searchTerm,y)||(a.searchTerm=y),b(y)}),f("keyup.enter",function(){return _(s),b(a.onSearch())}),n()(),i(25,"p-button",21),f("onClick",function(){return _(s),b(a.onSearch())}),n()(),p(26,Sa,4,0,"div",22),p(27,Va,4,1),p(28,La,7,0,"div",23),i(29,"p-dialog",24),k("visibleChange",function(y){return _(s),O(a.showDialog,y)||(a.showDialog=y),b(y)}),f("onHide",function(){return _(s),b(a.closeDialog())}),i(30,"form",25)(31,"div",26)(32,"div",27)(33,"label",28),l(34,"\u0646\u0648\u0639 \u0627\u0644\u0648\u062B\u064A\u0642\u0629 "),i(35,"span",29),l(36,"*"),n()(),c(37,"p-select",30),p(38,Ba,2,0,"small",31),n(),i(39,"div",27)(40,"label",32),l(41,"\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u0635\u0648\u0635\u064A\u0629 "),i(42,"span",29),l(43,"*"),n()(),c(44,"p-select",33),p(45,za,2,0,"small",31),n()(),i(46,"div",27)(47,"label",34),l(48,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 "),i(49,"span",29),l(50,"*"),n()(),c(51,"input",35),p(52,$a,3,2,"small",31),n(),i(53,"div",27)(54,"label",36),l(55,"\u0627\u0644\u0648\u0635\u0641"),n(),c(56,"textarea",37),n(),i(57,"div",26)(58,"div",27)(59,"label",38),l(60,"\u0627\u0644\u062C\u0647\u0629 \u0627\u0644\u0645\u0635\u062F\u0631\u0629"),n(),c(61,"input",39),p(62,Ua,2,0,"small",31),n(),i(63,"div",27)(64,"label",40),l(65,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0635\u062F\u0627\u0631"),n(),c(66,"p-datepicker",41),n()(),i(67,"div",27)(68,"label",42),l(69,"\u0627\u0644\u0645\u0644\u0641 "),i(70,"span",29),l(71,"*"),n()(),i(72,"input",43,0),f("change",function(y){return _(s),b(a.onFileChange(y))}),n(),p(74,Wa,11,4,"div",44),p(75,Ha,2,0,"small",31),p(76,Ga,2,0,"small",45),n()(),G(77,qa,2,2,"ng-template",46),n()()}if(e&2){let s,u,y,N,ee;r(16),v(a.totalCount),r(8),P("ngModel",a.searchTerm),r(2),g(a.isLoading?26:-1),r(),g(!a.isLoading&&a.documents.length>0?27:-1),r(),g(!a.isLoading&&a.documents.length===0?28:-1),r(),q(S(28,Oa)),P("visible",a.showDialog),m("header",a.isEditing?"\u062A\u0639\u062F\u064A\u0644 \u0648\u062B\u064A\u0642\u0629":"\u0625\u0636\u0627\u0641\u0629 \u0648\u062B\u064A\u0642\u0629 \u062C\u062F\u064A\u062F\u0629")("modal",!0),r(),m("formGroup",a.documentForm),r(7),q(S(29,Pn)),m("options",a.documentTypes),r(),g((s=a.documentForm.get("document_type"))!=null&&s.invalid&&((s=a.documentForm.get("document_type"))!=null&&s.touched)?38:-1),r(6),q(S(30,Pn)),m("options",a.visibilityOptions),r(),g((u=a.documentForm.get("visibility"))!=null&&u.invalid&&((u=a.documentForm.get("visibility"))!=null&&u.touched)?45:-1),r(6),m("maxlength",200),r(),g((y=a.documentForm.get("title"))!=null&&y.invalid&&((y=a.documentForm.get("title"))!=null&&y.touched)?52:-1),r(4),m("rows",3),r(5),m("maxlength",200),r(),g(!((N=a.documentForm.get("issued_by"))==null||N.errors==null)&&N.errors.maxlength?62:-1),r(4),m("showIcon",!0),r(8),g(a.filePreviewUrl?74:-1),r(),g((ee=a.documentForm.get("file"))!=null&&ee.invalid&&((ee=a.documentForm.get("file"))!=null&&ee.touched)&&!a.isEditing?75:-1),r(),g(a.isEditing&&!a.selectedFile?76:-1)}},dependencies:[se,me,ue,de,ce,on,ve,Ie,Kt,Ce,Ve,Te,je,_t,Be,bt,z],styles:['.documents-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;padding:2rem;margin-bottom:2rem;box-shadow:0 10px 30px #667eea4d;position:relative;overflow:hidden}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-10%;width:300px;height:300px;background:#ffffff1a;border-radius:50%;pointer-events:none}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-30%;left:-5%;width:200px;height:200px;background:#ffffff14;border-radius:50%;pointer-events:none}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:2rem;position:relative;z-index:1}@media (max-width: 768px){.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1.5rem}}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex:1}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-title-section[_ngcontent-%COMP%]   .header-icon-wrapper[_ngcontent-%COMP%]{width:70px;height:70px;background:#fff3;border-radius:16px;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);box-shadow:0 8px 16px #0000001a}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-title-section[_ngcontent-%COMP%]   .header-icon-wrapper[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-title-section[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:2rem;font-weight:700;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.1);letter-spacing:-.5px}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-title-section[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:#ffffffe6;font-weight:400}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:center}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;background:#ffffff26;padding:.75rem 1.25rem;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);transition:all .3s ease}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px)}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;line-height:1}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{position:relative;z-index:1}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]     .header-add-btn{background:#fff;color:#667eea;border:none;padding:.875rem 1.5rem;font-weight:600;font-size:.95rem;border-radius:12px;box-shadow:0 4px 12px #00000026;transition:all .3s ease}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]     .header-add-btn:hover{background:#fffffff2;transform:translateY(-2px);box-shadow:0 6px 20px #0003}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]     .header-add-btn .p-button-icon{font-size:1rem}.documents-container[_ngcontent-%COMP%]   .documents-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]     .header-add-btn .p-button-label{margin-right:.5rem}.documents-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;align-items:center;padding:1rem;background:#f8f9fa;border-radius:8px;box-shadow:0 2px 4px #0000000d}.documents-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]{flex:1}.documents-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #ddd;transition:all .3s ease}.documents-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1976d2;box-shadow:0 0 0 3px #1976d21a}.documents-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{padding:2rem 0}.documents-container[_ngcontent-%COMP%]   .documents-list[_ngcontent-%COMP%]{display:grid;gap:1.5rem;margin-bottom:2rem}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:12px;padding:1.5rem;transition:all .3s ease;box-shadow:0 2px 4px #0000000d}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;transform:translateY(-2px);border-color:#1976d2}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-header[_ngcontent-%COMP%]   .document-info[_ngcontent-%COMP%]{flex:1}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-header[_ngcontent-%COMP%]   .document-info[_ngcontent-%COMP%]   .document-title[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:600;color:#2c3e50}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-header[_ngcontent-%COMP%]   .document-info[_ngcontent-%COMP%]   .document-meta[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;font-size:.875rem;color:#666}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-header[_ngcontent-%COMP%]   .document-info[_ngcontent-%COMP%]   .document-meta[_ngcontent-%COMP%]   .document-type[_ngcontent-%COMP%], .documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-header[_ngcontent-%COMP%]   .document-info[_ngcontent-%COMP%]   .document-meta[_ngcontent-%COMP%]   .document-visibility[_ngcontent-%COMP%], .documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-header[_ngcontent-%COMP%]   .document-info[_ngcontent-%COMP%]   .document-meta[_ngcontent-%COMP%]   .document-date[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-header[_ngcontent-%COMP%]   .document-info[_ngcontent-%COMP%]   .document-meta[_ngcontent-%COMP%]   .document-type[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e3f2fd,#bbdefb);color:#1976d2;padding:.375rem .875rem;border-radius:20px;font-weight:600;font-size:.8125rem;box-shadow:0 2px 4px #1976d21a}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-header[_ngcontent-%COMP%]   .document-info[_ngcontent-%COMP%]   .document-meta[_ngcontent-%COMP%]   .document-visibility[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3e5f5,#e1bee7);color:#7b1fa2;padding:.375rem .875rem;border-radius:20px;font-weight:600;font-size:.8125rem;box-shadow:0 2px 4px #7b1fa21a}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-header[_ngcontent-%COMP%]   .document-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-header[_ngcontent-%COMP%]   .document-actions[_ngcontent-%COMP%]     .p-button{transition:all .3s ease}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-header[_ngcontent-%COMP%]   .document-actions[_ngcontent-%COMP%]     .p-button:hover{transform:scale(1.1)}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-description[_ngcontent-%COMP%]{color:#666;margin-bottom:1rem;line-height:1.6}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:1rem;border-top:1px solid #e0e0e0}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-footer[_ngcontent-%COMP%]   .document-details[_ngcontent-%COMP%]{display:flex;gap:1.5rem;flex-wrap:wrap;font-size:.875rem;color:#666}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-footer[_ngcontent-%COMP%]   .document-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.25rem .75rem;background:#f5f5f5;border-radius:12px}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-footer[_ngcontent-%COMP%]   .document-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1976d2;font-size:.875rem}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-footer[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease}.documents-container[_ngcontent-%COMP%]   .document-card[_ngcontent-%COMP%]   .document-footer[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #1976d24d}.documents-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#999;background:#fafafa;border-radius:12px;border:2px dashed #e0e0e0}.documents-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;opacity:.5;font-size:4rem;color:#ccc}.documents-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1rem 0 .5rem;color:#666;font-size:1.5rem;font-weight:600}.documents-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#999;font-size:1rem}.documents-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:2rem;padding:1rem;background:#f8f9fa;border-radius:8px}.documents-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{color:#666;font-weight:600;padding:.5rem 1rem;background:#fff;border-radius:6px;box-shadow:0 2px 4px #0000000d}.documents-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]     .p-button{border-radius:6px;transition:all .3s ease}.documents-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]     .p-button:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.document-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}@media (max-width: 768px){.document-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:1.5rem}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#2c3e50}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#e74c3c}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[pInputText][_ngcontent-%COMP%], .document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   textarea[pInputTextarea][_ngcontent-%COMP%]{width:100%!important;min-height:42px;padding:.75rem 1rem;border:1px solid #ddd;border-radius:8px;font-size:.95rem;transition:all .3s ease;background:#fff}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[pInputText][_ngcontent-%COMP%]:focus, .document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   textarea[pInputTextarea][_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2;box-shadow:0 0 0 3px #1976d21a}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[pInputText][_ngcontent-%COMP%]:hover:not(:disabled), .document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   textarea[pInputTextarea][_ngcontent-%COMP%]:hover:not(:disabled){border-color:#999}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   textarea[pInputTextarea][_ngcontent-%COMP%]{min-height:100px;resize:vertical;line-height:1.5;font-family:inherit}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px dashed #ddd;border-radius:8px;background:#fafafa;cursor:pointer;transition:all .3s ease}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]:hover{border-color:#1976d2;background:#f0f7ff}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2;box-shadow:0 0 0 3px #1976d21a}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:linear-gradient(135deg,#f5f7fa,#e8ecf1);border-radius:8px;border:1px solid #e0e0e0}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .file-preview-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .file-preview-content[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .file-preview-content[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#1976d2}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .file-preview-content[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   i.pi-file-pdf[_ngcontent-%COMP%]{color:#e74c3c}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .file-preview-content[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   i.pi-image[_ngcontent-%COMP%]{color:#27ae60}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .file-preview-content[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   i.pi-file-word[_ngcontent-%COMP%]{color:#2b5797}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .file-preview-content[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .file-preview-content[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-details[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;word-break:break-word}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .file-preview-content[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-details[_ngcontent-%COMP%]   .file-size[_ngcontent-%COMP%]{font-size:.875rem;color:#666}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .file-preview-content[_ngcontent-%COMP%]   .preview-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#1976d2;color:#fff;text-decoration:none;border-radius:6px;font-weight:500;transition:all .3s ease;white-space:nowrap}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .file-preview-content[_ngcontent-%COMP%]   .preview-link[_ngcontent-%COMP%]:hover{background:#1565c0;transform:translateY(-2px);box-shadow:0 4px 8px #1976d24d}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .file-preview-content[_ngcontent-%COMP%]   .preview-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .p-info[_ngcontent-%COMP%]{display:block;margin-top:.5rem;padding:.5rem;background:#e3f2fd;border-right:3px solid #1976d2;border-radius:4px;font-size:.875rem;color:#1565c0}.document-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   small.p-error[_ngcontent-%COMP%]{display:block;margin-top:.25rem;color:#e74c3c;font-size:.875rem;padding-right:.5rem}  .p-dialog{border-radius:12px;box-shadow:0 10px 40px #0003}  .p-dialog .p-dialog-header{padding:1.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:12px 12px 0 0;display:flex;align-items:center;justify-content:space-between;position:relative}  .p-dialog .p-dialog-header .p-dialog-title{font-weight:600;font-size:1.25rem;color:#fff;margin:0;flex:1}  .p-dialog .p-dialog-header .p-dialog-header-icons{display:flex;align-items:center;gap:.5rem}  .p-dialog .p-dialog-header .p-dialog-header-icon{color:#fff!important;width:2.5rem;height:2.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;opacity:.9;border:1px solid rgba(255,255,255,.3);background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}  .p-dialog .p-dialog-header .p-dialog-header-icon:hover{background:#ffffff40!important;transform:rotate(90deg);opacity:1;border-color:#ffffff80;box-shadow:0 4px 12px #00000026}  .p-dialog .p-dialog-header .p-dialog-header-icon:focus{outline:none;box-shadow:0 0 0 3px #ffffff4d}  .p-dialog .p-dialog-header .p-dialog-header-icon .p-dialog-header-icon-content{color:#fff!important;font-size:1.25rem;font-weight:600}  .p-dialog .p-dialog-header .p-dialog-header-icon i{color:#fff!important;font-size:1.25rem;font-weight:600}  .p-dialog .p-dialog-content{padding:1.5rem;background:#fafafa}  .p-dialog .p-dialog-footer{padding:1rem 1.5rem;background:#fff;border-top:1px solid #e0e0e0;border-radius:0 0 12px 12px}']})};var Ya=[{path:"",component:Ye,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Ge,data:{breadcrumb:"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645"}},{path:"saved-jobs",component:Je,data:{breadcrumb:"\u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"}},{path:"profile",component:Xe,data:{breadcrumb:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A"}},{path:"cv",component:Ke,data:{breadcrumb:"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"}},{path:"cv-builder",component:et,data:{breadcrumb:"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"}},{path:"alerts",component:Qe,data:{breadcrumb:"\u062A\u0646\u0628\u064A\u0647\u0627\u062A \u0627\u0644\u0648\u0638\u0627\u0626\u0641"}},{path:"applications",component:tt,data:{breadcrumb:"\u0637\u0644\u0628\u0627\u062A\u064A"}},{path:"interviews",component:Mt,data:{breadcrumb:"\u0627\u0644\u0645\u0642\u0627\u0628\u0644\u0627\u062A"}},{path:"messages",component:yt,data:{breadcrumb:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644"}},{path:"documents",component:nt,data:{breadcrumb:"\u0627\u0644\u0648\u062B\u0627\u0626\u0642"}},{path:"settings",component:Ze,data:{breadcrumb:"\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A"}},{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"jobs",component:gn,data:{breadcrumb:"\u0627\u0644\u0648\u0638\u0627\u0626\u0641"}},{path:"job-details/:slug",loadComponent:()=>import("./chunk-ZYXKB3WH.js").then(o=>o.JobDetails),data:{breadcrumb:"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0648\u0638\u064A\u0641\u0629"}}]}],it=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=at({type:o});static \u0275inj=ot({imports:[Re.forChild(Ya),Re]})};var On=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=at({type:o});static \u0275inj=ot({providers:[fe,$e],imports:[Me,ze,Je,pe,kt,He,Et,Ft,Tt,Dt,St,It,jt,At,Z,it,Me,pe,kt,He,Et,Ft,Tt,Dt,St,It,jt,At,Z,it]})};export{On as JobseekerModule};
