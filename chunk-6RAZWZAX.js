import{a as qt,b as xt,c as Xt,d as Ct}from"./chunk-RGSZOXY3.js";import{a as Wt}from"./chunk-VQ6ZJACD.js";import{a as Yt,b as ht}from"./chunk-LKKAERPQ.js";import{a as ye}from"./chunk-43UY4NPL.js";import{a as Ce}from"./chunk-CYVH7AWX.js";import{a as Ut,b as Gt,c as Ht,g as it,h as vt}from"./chunk-ZWIYIZKX.js";import{d as tt,e as _t,n as Me}from"./chunk-2HAFBGDU.js";import{$ as Jt,Ea as ve,Fa as $t,Ia as ee,Ja as K,La as te,Ma as ie,Na as Qe,Oa as he,Pa as ne,Sa as Ze,U as Lt,Ua as et,V as De,W as be,Y as q,Z as N,Za as Nt,_ as _e,bb as xe,cb as je,db as bt,lb as Vt,mb as Rt,nb as oe,qa as Ke,ra as gt,va as zt,wa as ft}from"./chunk-SWMGDP6K.js";import"./chunk-OVMELZYD.js";import{B as mt,C as Xe,b as ge,c as Et,d as Z,h as qe,i as Dt,j as Ee,p as fe,t as jt,u as Ft,w as Tt,x as It,y as G,z as Bt}from"./chunk-3KHYFKH4.js";import{$a as w,$b as o,Ab as b,E as V,Eb as Ue,Fb as Ge,Hb as A,K as R,Ka as j,L as Q,La as St,Mb as m,N as se,Nb as d,O as E,Pa as l,S as W,T as Re,Va as At,Wb as ct,X as _,Xb as pt,Yb as I,Zb as Oe,a as P,aa as g,ab as We,ac as p,b as k,ba as f,bc as x,cc as He,db as de,dc as wt,ec as y,fb as U,fc as M,gc as S,hc as Pt,i as O,ic as Y,j as $,ka as Mt,kc as pe,lc as re,m as B,oc as kt,pa as ue,q as L,rb as v,sb as h,tb as ce,tc as me,ub as dt,uc as Ot,vb as F,vc as Ye,w as yt,wb as T,x as H,xb as c,y as J,yb as a,zb as n}from"./chunk-G6MH4OCE.js";var nt=class r{http=_(fe);auth=_(Xe);jobService=_(ye);applicationService=_(ve);trigger$=new O;loaded=!1;loading=!1;dashboard$=this.trigger$.pipe(H(()=>this.auth.isLoggedIn()),V(()=>this.loadDashboardData()),E(()=>{this.loaded=!0,this.loading=!1}),R({bufferSize:1,refCount:!0}));dashboard=q(this.dashboard$,{initialValue:{stats:null,recentApplications:[],savedJobs:[]}});_snapshot={stats:null,recentApplications:[],savedJobs:[]};get snapshot(){return this._snapshot}loadDashboardData(){let e=this.jobService.getJobStatistics().pipe(J(s=>(console.error("Failed to load stats",s),B(null)))),t=this.applicationService.getMyApplications({pageSize:3}).pipe(L(s=>s.results||[]),J(s=>(console.error("Failed to load applications",s),B([])))),i=this.jobService.getBookmarkedJobs({pageSize:5}).pipe(L(s=>s.results&&s.results.length>0?s.results.map(u=>u.job?u.job:u):[]),J(s=>(console.error("Failed to load saved jobs",s),B([]))));return yt({stats:e,recentApplications:t,savedJobs:i}).pipe(L(s=>(this._snapshot=s,s)))}ensureLoaded(){this.auth.isLoggedIn()&&(this.loaded||this.loading||(this.loading=!0,this.trigger$.next()))}refresh(){this.auth.isLoggedIn()&&(this.loading||(this.loaded=!1,this.loading=!0,this.trigger$.next()))}reset(){this.loaded=!1,this.loading=!1,this._snapshot={stats:null,recentApplications:[],savedJobs:[]}}static \u0275fac=function(t){return new(t||r)};static \u0275prov=W({token:r,factory:r.\u0275fac,providedIn:"root"})};var Zt=(r,e,t,i)=>({"status-pending":r,"status-reviewed":e,"status-accepted":t,"status-rejected":i});function ei(r,e){if(r&1&&(a(0,"span"),o(1),n()),r&2){let t=d().$implicit;l(),p(t.job.city)}}function ti(r,e){if(r&1&&(a(0,"div",30),b(1,"img",31),a(2,"div",32)(3,"h4",33),o(4),n(),a(5,"p",34),o(6),n(),a(7,"div",35)(8,"span"),o(9),me(10,"date"),n(),U(11,ei,2,1,"span",27),n()(),a(12,"span",36),o(13),n()()),r&2){let t=e.$implicit;l(),c("src",t.job.company.logo||"images/company-logo-1.jpg",j)("alt",t.job.company.name),l(3),p(t.job.title),l(2),p(t.job.company.name),l(3),x("\u062A\u0642\u062F\u0645\u062A ",Ye(10,8,t.applied_at,"short")),l(2),c("ngIf",t.job.city),l(),c("ngClass",kt(11,Zt,t.status==="pending",t.status==="reviewed",t.status==="accepted",t.status==="rejected")),l(),x(" ",t.status==="pending"?"\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629":t.status==="reviewed"?"\u062A\u0645\u062A \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629":t.status==="accepted"?"\u0645\u0642\u0628\u0648\u0644":"\u0645\u0631\u0641\u0648\u0636"," ")}}function ii(r,e){r&1&&(a(0,"p"),o(1,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A \u062D\u0627\u0644\u064A\u0627\u064B"),n())}function ni(r,e){if(r&1&&(a(0,"span"),o(1),n()),r&2){let t=d().$implicit;l(),He(" ",t.salary_min,"-",t.salary_max," \u0631\u064A\u0627\u0644 ")}}function ai(r,e){r&1&&(a(0,"span"),o(1,"\u0627\u0644\u0631\u0627\u062A\u0628 \u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),n())}function ri(r,e){if(r&1&&(a(0,"span"),o(1),n()),r&2){let t=d().$implicit;l(),x(" \u2022 ",t.city)}}function oi(r,e){if(r&1&&(a(0,"div",37),b(1,"img",38),a(2,"div",39)(3,"h4",40),o(4),n(),a(5,"p",41),o(6),n(),a(7,"p",42),U(8,ni,2,2,"span",27)(9,ai,2,0,"span",27)(10,ri,2,1,"span",27),n()()()),r&2){let t=e.$implicit;l(),c("src",t.company.logo||"images/company-logo-1.jpg",j)("alt",t.company.name),l(3),p(t.title),l(2),p(t.company.name),l(2),c("ngIf",t.salary_min&&t.salary_max),l(),c("ngIf",!t.salary_min&&!t.salary_max),l(),c("ngIf",t.city)}}function li(r,e){r&1&&(a(0,"p"),o(1,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0648\u0638\u0627\u0626\u0641 \u0645\u062D\u0641\u0648\u0638\u0629"),n())}var Fe=class r{userData;stats=null;recentApplications=[];savedJobs=[];userService=_(Jt);dashboardStore=_(nt);breadcrumbService=_(Vt);ngOnInit(){this.userService.user$.subscribe(e=>{this.userData=e}),this.dashboardStore.ensureLoaded(),this.dashboardStore.dashboard$.subscribe(e=>{this.stats=e.stats,this.recentApplications=e.recentApplications,this.savedJobs=e.savedJobs}),this.breadcrumbService.refresh$.subscribe(()=>{this.refreshDashboard(),this.dashboardStore.refresh()})}refreshDashboard(){this.dashboardStore.refresh()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=w({type:r,selectors:[["app-dashboard"]],standalone:!1,decls:96,vars:10,consts:[["id","overview",1,"tab-content","active"],[1,"dashboard-header"],[1,"dashboard-title"],[1,"dashboard-actions"],["routerLink","/jobs",1,"btn","btn-primary"],["routerLink","/jobseeker/cv-builder",1,"btn","btn-secondary"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-header"],[1,"stat-title"],[1,"stat-icon"],[1,"stat-value"],[1,"stat-change"],[1,"quick-actions"],["routerLink","/jobs",1,"quick-action-card"],[1,"quick-action-icon"],[1,"quick-action-title"],[1,"quick-action-desc"],["routerLink","/jobseeker/cv-builder",1,"quick-action-card"],["routerLink","/companies-list",1,"quick-action-card"],["href","salaries.html",1,"quick-action-card"],[1,"content-grid"],[1,"content-card"],[1,"card-header"],[1,"card-title"],["href","#applications","onclick","switchTab('applications')",1,"card-action"],["class","application-item",4,"ngFor","ngForOf"],[4,"ngIf"],["href","#saved-jobs","onclick","switchTab('saved-jobs')",1,"card-action"],["class","saved-job-item",4,"ngFor","ngForOf"],[1,"application-item"],[1,"application-logo",3,"src","alt"],[1,"application-info"],[1,"application-title"],[1,"application-company"],[1,"application-meta"],[1,"application-status",3,"ngClass"],[1,"saved-job-item"],[1,"saved-job-logo",3,"src","alt"],[1,"saved-job-info"],[1,"saved-job-title"],[1,"saved-job-company"],[1,"saved-job-meta"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),o(3),n(),a(4,"div",3)(5,"a",4),o(6,"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0648\u0638\u0627\u0626\u0641"),n(),a(7,"a",5),o(8,"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n()()(),a(9,"div",6)(10,"div",7)(11,"div",8)(12,"span",9),o(13,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0648\u0638\u0627\u0626\u0641"),n(),a(14,"span",10),o(15,"\u{1F4DD}"),n()(),a(16,"div",11),o(17),n(),a(18,"div",12),o(19,"\u0645\u062A\u0627\u062D\u0629 \u0627\u0644\u0622\u0646"),n()(),a(20,"div",7)(21,"div",8)(22,"span",9),o(23,"\u0648\u0638\u0627\u0626\u0641 \u0645\u0645\u064A\u0632\u0629"),n(),a(24,"span",10),o(25,"\u2B50"),n()(),a(26,"div",11),o(27),n(),a(28,"div",12),o(29,"\u0645\u0645\u064A\u0632\u0629"),n()(),a(30,"div",7)(31,"div",8)(32,"span",9),o(33,"\u0648\u0638\u0627\u0626\u0641 \u0639\u0627\u062C\u0644\u0629"),n(),a(34,"span",10),o(35,"\u{1F5D3}\uFE0F"),n()(),a(36,"div",11),o(37),n(),a(38,"div",12),o(39,"\u0639\u0627\u062C\u0644\u0629"),n()(),a(40,"div",7)(41,"div",8)(42,"span",9),o(43,"\u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"),n(),a(44,"span",10),o(45,"\u{1F4BE}"),n()(),a(46,"div",11),o(47),n(),a(48,"div",12),o(49),n()()(),a(50,"div",13)(51,"a",14)(52,"div",15),o(53,"\u{1F50D}"),n(),a(54,"h3",16),o(55,"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0648\u0638\u0627\u0626\u0641"),n(),a(56,"p",17),o(57,"\u0627\u0643\u062A\u0634\u0641 \u0622\u0644\u0627\u0641 \u0627\u0644\u0641\u0631\u0635 \u0627\u0644\u0648\u0638\u064A\u0641\u064A\u0629"),n()(),a(58,"a",18)(59,"div",15),o(60,"\u{1F4C4}"),n(),a(61,"h3",16),o(62,"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n(),a(63,"p",17),o(64,"\u0623\u0646\u0634\u0626 \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629 \u0627\u062D\u062A\u0631\u0627\u0641\u064A\u0629"),n()(),a(65,"a",19)(66,"div",15),o(67,"\u{1F3E2}"),n(),a(68,"h3",16),o(69,"\u062A\u0635\u0641\u062D \u0627\u0644\u0634\u0631\u0643\u0627\u062A"),n(),a(70,"p",17),o(71,"\u0627\u0643\u062A\u0634\u0641 \u0623\u0641\u0636\u0644 \u0623\u0645\u0627\u0643\u0646 \u0627\u0644\u0639\u0645\u0644"),n()(),a(72,"a",20)(73,"div",15),o(74,"\u{1F4B0}"),n(),a(75,"h3",16),o(76,"\u062F\u0644\u064A\u0644 \u0627\u0644\u0631\u0648\u0627\u062A\u0628"),n(),a(77,"p",17),o(78,"\u062A\u0639\u0631\u0641 \u0639\u0644\u0649 \u0645\u062A\u0648\u0633\u0637 \u0627\u0644\u0631\u0648\u0627\u062A\u0628"),n()()(),a(79,"div",21)(80,"div",22)(81,"div",23)(82,"h2",24),o(83,"\u0622\u062E\u0631 \u0627\u0644\u0637\u0644\u0628\u0627\u062A"),n(),a(84,"a",25),o(85,"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644"),n()(),U(86,ti,14,16,"div",26)(87,ii,2,0,"p",27),n(),a(88,"div",22)(89,"div",23)(90,"h2",24),o(91,"\u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"),n(),a(92,"a",28),o(93,"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644"),n()(),U(94,oi,11,7,"div",29)(95,li,2,0,"p",27),n()()()),t&2&&(l(3),x("\u0645\u0631\u062D\u0628\u0627\u064B\u060C ",(i.userData==null||i.userData.user==null?null:i.userData.user.first_name)||"\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645","!"),l(14),p((i.stats==null?null:i.stats.total_jobs)||0),l(10),p((i.stats==null?null:i.stats.featured_jobs)||0),l(10),p((i.stats==null?null:i.stats.urgent_jobs)||0),l(10),p((i.stats==null?null:i.stats.saved_jobs_count)||i.savedJobs.length),l(2),x("+",(i.stats==null?null:i.stats.daily_saved)||0," \u0627\u0644\u064A\u0648\u0645"),l(37),c("ngForOf",i.recentApplications),l(),c("ngIf",i.recentApplications.length===0),l(7),c("ngForOf",i.savedJobs),l(),c("ngIf",i.savedJobs.length===0))},dependencies:[ge,Et,Z,G,qe],encapsulation:2})};function si(r,e){if(r&1){let t=A();a(0,"div",24)(1,"button",25),m("click",function(){g(t);let s=d();return f(s.saveAvatar())}),o(2," \u062D\u0641\u0638 \u0627\u0644\u0635\u0648\u0631\u0629 "),n(),a(3,"button",26),m("click",function(){g(t);let s=d();return f(s.cancelAvatar())}),o(4," \u0625\u0644\u063A\u0627\u0621 "),n()()}if(r&2){let t=d();l(),c("disabled",t.saving),l(2),c("disabled",t.saving)}}var Ae=class r{constructor(e){this.fb=e}basicForm;baseUrl=N.apiBaseUrl;profile=null;logo$=Mt(null);previewUrl=null;isBlobPreview=!1;jobSeekerName="\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645";jobSeekerTitle="";selectedFile=null;saving=!1;destroy$=new O;profileStore=_(_e);http=_(fe);toast=_(be);ngOnInit(){this.basicForm=this.fb.group({company_logo:[""]}),this.profileStore.ensureLoaded(),this.profileStore.profile$.pipe(se(this.destroy$),H(e=>!!e)).subscribe(e=>{this.profile=e,this.jobSeekerName=e.user.first_name+" "+e.user.last_name||this.jobSeekerName,this.jobSeekerTitle=e.job_seeker?.title||e.job_seeker?.profession||e.title||e.profession||e.bio||e.user?.bio||"";let t=e.profile?.company_logo||e.user.profile_picture||null;this.previewUrl=this.toAbsolute(t),this.logo$.set(this.previewUrl),this.isBlobPreview=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.previewUrl&&this.isBlobPreview&&URL.revokeObjectURL(this.previewUrl)}onAvatarChange(e){let t=e.target.files?.[0]||null;if(this.selectedFile=t,this.previewUrl&&this.isBlobPreview&&URL.revokeObjectURL(this.previewUrl),t)this.previewUrl=URL.createObjectURL(t),this.logo$.set(this.previewUrl),this.isBlobPreview=!0;else{let i=this.profile?.profile?.company_logo||this.profile?.user?.profile_picture||null;this.previewUrl=this.toAbsolute(i),this.logo$.set(this.previewUrl),this.isBlobPreview=!1}}cancelAvatar(){this.previewUrl&&this.isBlobPreview&&URL.revokeObjectURL(this.previewUrl),this.selectedFile=null;let e=this.profile?.profile?.company_logo||this.profile?.user?.profile_picture||null;this.previewUrl=this.toAbsolute(e),this.logo$.set(this.previewUrl),this.isBlobPreview=!1}saveAvatar(){if(!this.selectedFile)return;let e=new FormData;e.append("profile_picture",this.selectedFile),this.saving=!0;let t=N.getUrl("profile/update","accounts");this.http.put(t,e).subscribe({next:()=>{this.logo$.set(this.previewUrl),this.selectedFile=null,this.saving=!1,this.toast.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A"),this.profileStore.refresh()},error:()=>{this.saving=!1,this.toast.error("\u0641\u0634\u0644 \u062A\u062D\u062F\u064A\u062B \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A")}})}toAbsolute(e){if(!e)return null;if(/^(https?:|blob:|data:)/i.test(e))return e;let t=N.apiBaseUrl.replace(/\/+$/,""),i=String(e).replace(/^\/+/,"");return`${t}/${i}`}static \u0275fac=function(t){return new(t||r)(At(xe))};static \u0275cmp=w({type:r,selectors:[["app-side-bar"]],decls:60,vars:6,consts:[[1,"dashboard-sidebar"],[1,"sidebar-profile"],[1,"avatar-uploader"],[1,"profile-avatar",3,"src","alt","title"],["type","file","accept","image/*",3,"change"],[1,"edit-badge"],[1,"profile-name"],[1,"profile-title"],["class","avatar-actions",4,"ngIf"],[1,"profile-completion"],[1,"profile-progress"],[1,"profile-progress-text"],["routerLink","/jobseeker/profile",1,"btn","btn-small","btn-primary","employer-nav-link",2,"width","100%"],[1,"sidebar-nav"],[1,"sidebar-nav-item"],["routerLink","/jobseeker/dashboard","routerLinkActive","active","data-tab","overview",1,"sidebar-nav-link","employer-nav-link"],[1,"nav-icon"],["routerLink","/jobseeker/applications","routerLinkActive","active","data-tab","applications",1,"sidebar-nav-link","employer-nav-link"],["routerLink","/jobseeker/saved-jobs","routerLinkActive","active","data-tab","saved-jobs",1,"sidebar-nav-link","employer-nav-link"],["routerLink","/jobseeker/profile","routerLinkActive","active","data-tab","profile",1,"sidebar-nav-link","employer-nav-link"],["routerLink","/jobseeker/messages","routerLinkActive","active","data-tab","messages",1,"sidebar-nav-link","employer-nav-link"],["routerLink","/jobseeker/cv","routerLinkActive","active","routerLinkActive","active","data-tab","cv",1,"sidebar-nav-link","employer-nav-link"],["routerLink","/jobseeker/alerts","routerLinkActive","active","routerLinkActive","active","data-tab","alerts",1,"sidebar-nav-link","employer-nav-link"],["routerLink","/jobseeker/settings","routerLinkActive","active","routerLinkActive","active","data-tab","settings",1,"sidebar-nav-link","employer-nav-link"],[1,"avatar-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-secondary",3,"click","disabled"]],template:function(t,i){t&1&&(a(0,"aside",0)(1,"div",1)(2,"label",2),b(3,"img",3),a(4,"input",4),m("change",function(u){return i.onAvatarChange(u)}),n(),a(5,"span",5),o(6,"\u062A\u063A\u064A\u064A\u0631 \u0627\u0644\u0635\u0648\u0631\u0629"),n()(),a(7,"h3",6),o(8),n(),a(9,"p",7),o(10),n(),U(11,si,5,2,"div",8),a(12,"div",9),b(13,"div",10),a(14,"p",11),o(15,"75% \u0645\u0643\u062A\u0645\u0644"),n()(),a(16,"a",12),o(17," \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A "),n()(),a(18,"nav")(19,"ul",13)(20,"li",14)(21,"a",15)(22,"span",16),o(23,"\u{1F4CA}"),n(),o(24," \u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 "),n()(),a(25,"li",14)(26,"a",17)(27,"span",16),o(28,"\u{1F4DD}"),n(),o(29," \u0637\u0644\u0628\u0627\u062A\u064A "),n()(),a(30,"li",14)(31,"a",18)(32,"span",16),o(33,"\u{1F4BE}"),n(),o(34," \u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629 "),n()(),a(35,"li",14)(36,"a",19)(37,"span",16),o(38,"\u{1F464}"),n(),o(39," \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A "),n()(),a(40,"li",14)(41,"a",20)(42,"span",16),o(43,"\u{1F4AC}"),n(),o(44," \u0627\u0644\u0631\u0633\u0627\u0626\u0644 "),n()(),a(45,"li",14)(46,"a",21)(47,"span",16),o(48,"\u{1F4C4}"),n(),o(49," \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629 "),n()(),a(50,"li",14)(51,"a",22)(52,"span",16),o(53,"\u{1F514}"),n(),o(54," \u062A\u0646\u0628\u064A\u0647\u0627\u062A \u0627\u0644\u0648\u0638\u0627\u0626\u0641 "),n()(),a(55,"li",14)(56,"a",23)(57,"span",16),o(58,"\u2699\uFE0F"),n(),o(59," \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A "),n()()()()()),t&2&&(l(3),c("src",i.previewUrl||i.toAbsolute((i.profile==null||i.profile.user==null?null:i.profile.user.profile_picture)||(i.profile==null||i.profile.user==null?null:i.profile.user.profile_picture))||"images/candidate-3.jpg",j)("alt",i.jobSeekerName||"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A")("title",i.jobSeekerName||"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A"),l(5),x(" ",i.jobSeekerName||"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",`
`),l(2),p(i.jobSeekerTitle||"\u0644\u0627 \u064A\u0648\u062C\u062F \u0639\u0646\u0648\u0627\u0646 \u0648\u0638\u064A\u0641\u064A"),l(),c("ngIf",i.selectedFile))},dependencies:[oe,Z,G,Bt],styles:['.avatar-uploader[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1)}.avatar-uploader[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.avatar-uploader[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.profile-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;border:3px solid var(--primary-color, #1d4ed8);transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 2px 8px #2563eb26;background:linear-gradient(135deg,#f8fafc,#f1f5f9)}.profile-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #2563eb40;border-color:var(--primary-dark, #1d4ed8)}.edit-badge[_ngcontent-%COMP%]{position:absolute;bottom:6px;right:6px;background:#0009;color:#fff;padding:.25rem .5rem;border-radius:8px;font-size:.8rem;transition:all .3s ease;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.edit-badge[_ngcontent-%COMP%]:hover{background:#000c;transform:scale(1.05)}.avatar-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}.btn[_ngcontent-%COMP%]{padding:.45rem .9rem;border-radius:8px;font-weight:600;cursor:pointer;border:1px solid transparent;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color, #1d4ed8);color:#fff;border-color:var(--primary-color, #1d4ed8);box-shadow:0 2px 4px #2563eb33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #2563eb4d;background:var(--primary-dark, #1d4ed8)}.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;border:1px solid #d1d5db;transition:all .3s ease}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e5e7eb;border-color:#9ca3af;transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}[_nghost-%COMP%]   .sidebar-profile[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .sidebar-profile[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:80%;height:1px;background:linear-gradient(90deg,transparent,var(--gray-200, #e5e7eb),transparent)}[_nghost-%COMP%]   .profile-name[_ngcontent-%COMP%]{transition:color .2s ease}[_nghost-%COMP%]   .profile-name[_ngcontent-%COMP%]:hover{color:var(--primary-color, #1d4ed8)}[_nghost-%COMP%]   .profile-title[_ngcontent-%COMP%]{transition:color .2s ease}[_nghost-%COMP%]   .profile-completion[_ngcontent-%COMP%]   .profile-progress[_ngcontent-%COMP%]{transition:width .5s ease}[_nghost-%COMP%]   .profile-completion[_ngcontent-%COMP%]   .profile-progress-text[_ngcontent-%COMP%]{transition:color .2s ease}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]{position:relative;overflow:hidden;transition:all .3s ease}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:0;bottom:0;width:3px;background:var(--primary-color, #1d4ed8);transform:scaleY(0);transition:transform .3s ease}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]   .sidebar-nav-link.active[_ngcontent-%COMP%]:before{transform:scaleY(1)}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,var(--primary-light, #eff6ff) 0%,transparent 100%);padding-right:1.25rem;transform:translate(-2px)}[_nghost-%COMP%]   .sidebar-nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--primary-color, #1d4ed8) 0%,rgba(37,99,235,.1) 100%);font-weight:600;box-shadow:0 2px 4px #2563eb1a;color:var(--primary-color, #1d4ed8)}[_nghost-%COMP%]   .nav-icon[_ngcontent-%COMP%]{transition:transform .3s ease;display:inline-block}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]:hover   .nav-icon[_ngcontent-%COMP%]{transform:scale(1.15) rotate(5deg)}[_nghost-%COMP%]   .badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite;box-shadow:0 2px 4px #ef44444d;transition:all .3s ease}[_nghost-%COMP%]   .badge[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 8px #ef444466}.employer-nav-link[_ngcontent-%COMP%]{position:relative;overflow:hidden}.employer-nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:0;bottom:0;width:3px;background:var(--primary-color);transform:scaleY(0);transition:transform .3s ease}.employer-nav-link[_ngcontent-%COMP%]:hover:before, .employer-nav-link.active[_ngcontent-%COMP%]:before{transform:scaleY(1)}.employer-nav-link[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,var(--primary-light, #eff6ff) 0%,transparent 100%);padding-right:1.25rem}.employer-nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--primary-color) 0%,rgba(37,99,235,.1) 100%);font-weight:600;color:#fff!important;box-shadow:0 2px 4px #2563eb1a}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}@media (max-width: 1024px){.profile-avatar[_ngcontent-%COMP%]{width:100px;height:100px;box-shadow:0 2px 6px #2563eb1f}.btn[_ngcontent-%COMP%]{box-shadow:0 1px 3px #2563eb26}}@media (max-width: 768px){.profile-avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-width:2px;box-shadow:0 2px 8px #2563eb33}.profile-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.edit-badge[_ngcontent-%COMP%]{font-size:.7rem;padding:.2rem .4rem;bottom:4px;right:4px}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]:before{display:none}[_nghost-%COMP%]   .sidebar-nav-link[_ngcontent-%COMP%]:hover{transform:none}}@media (max-width: 480px){.profile-avatar[_ngcontent-%COMP%]{width:70px;height:70px;border-width:2px}.edit-badge[_ngcontent-%COMP%]{font-size:.65rem;padding:.15rem .3rem}.btn[_ngcontent-%COMP%]{font-size:var(--font-size-sm, .875rem);padding:.4rem .8rem}.avatar-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.4rem}}']})};function di(r,e){r&1&&b(0,"app-footer")}var Ie=class r{router=_(It);destroy$=new O;lastSegment=null;ngOnInit(){this.updateLastSegment(this.router.url),this.router.events.pipe(H(e=>e instanceof Ft),se(this.destroy$)).subscribe(e=>{this.updateLastSegment(e.urlAfterRedirects??e.url)})}updateLastSegment(e){let t=e.split("/").filter(Boolean);this.lastSegment=t.length?t[t.length-1]:null,console.log("last segment:",this.lastSegment)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=w({type:r,selectors:[["app-job-seeker"]],standalone:!1,decls:6,vars:1,consts:[[1,"dashboard-container"],[1,"dashboard-main"]],template:function(t,i){t&1&&(a(0,"div",0),b(1,"app-side-bar"),a(2,"main",1),b(3,"app-breadcrumb")(4,"router-outlet"),n()(),v(5,di,1,0,"app-footer")),t&2&&(l(5),h(i.lastSegment&&i.lastSegment!=="dashboard"?5:-1))},dependencies:[Ae,Lt,Rt,Tt],encapsulation:2})};var rt=class r{jobService=_(ye);trigger$=new O;loadingSubject=new $(!1);loading$=this.loadingSubject.asObservable();loaded=!1;defaultPage=1;defaultPageSize=10;_page=this.defaultPage;_pageSize=this.defaultPageSize;get page(){return this._page}get pageSize(){return this._pageSize}savedJobsDataSubject=new $({bookmarks:[],totalCount:0,currentPage:1,pageSize:10,totalPages:0});savedJobs$=this.trigger$.pipe(V(({page:e,pageSize:t})=>(this.loadingSubject.next(!0),this.loadSavedJobsData(e,t))),E(e=>{this.loadingSubject.next(!1),this.loaded=!0,this.savedJobsDataSubject.next(e)}),Q(this.savedJobsDataSubject.value),R({bufferSize:1,refCount:!1}));savedJobs=q(this.savedJobs$,{initialValue:{bookmarks:[],totalCount:0,currentPage:1,pageSize:10,totalPages:0}});get snapshot(){return P({},this.savedJobsDataSubject.value)}loadSavedJobsData(e,t){return this.jobService.getBookmarkedJobs({page:e,pageSize:t}).pipe(L(i=>{let s=i,u=s.results??[],C=s.count??0,z=t>0?Math.max(1,Math.ceil(C/t)):1,ae={bookmarks:u,totalCount:C,currentPage:e,pageSize:t,totalPages:z};return this._page=e,this._pageSize=t,ae}),J(i=>(console.error("Failed to load saved jobs",i),B({bookmarks:[],totalCount:0,currentPage:e,pageSize:t,totalPages:0}))))}loadSavedJobs(e,t){let i=e??this._page,s=t??this._pageSize,u=i!==this.snapshot.currentPage,C=s!==this.snapshot.pageSize;(!this.loaded||u||C||e!==void 0||t!==void 0)&&this.trigger$.next({page:i,pageSize:s})}goToPage(e){if(e<1)return;let t=this.snapshot.totalPages;e>t&&t>0||e!==this._page&&this.loadSavedJobs(e)}nextPage(){let e=this.snapshot.currentPage,t=this.snapshot.totalPages;e<t&&this.goToPage(e+1)}previousPage(){let e=this.snapshot.currentPage;e>1&&this.goToPage(e-1)}removeBookmark(e){return this.jobService.bookmarkJob(e).pipe(E(()=>{let t=this.savedJobsDataSubject.value,i=t.bookmarks.filter(u=>u.job.id!==e),s=k(P({},t),{bookmarks:i,totalCount:Math.max(0,t.totalCount-1),totalPages:this._pageSize>0?Math.max(1,Math.ceil((t.totalCount-1)/this._pageSize)):1});this.savedJobsDataSubject.next(s)}))}refresh(){this.loaded=!1,this.loadSavedJobs()}reset(){this._page=this.defaultPage,this._pageSize=this.defaultPageSize,this.loaded=!1;let e={bookmarks:[],totalCount:0,currentPage:1,pageSize:10,totalPages:0};this.savedJobsDataSubject.next(e),this.loadingSubject.next(!1)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=W({token:r,factory:r.\u0275fac,providedIn:"root"})};var ci=r=>["/jobseeker/job-details",r];function pi(r,e){r&1&&(a(0,"div",6)(1,"p"),o(2,"\u062C\u0627\u0631\u064D \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629..."),n()())}function mi(r,e){if(r&1&&(a(0,"div",7)(1,"p"),o(2),n()()),r&2){let t=d();l(2),p(t.errorMessage)}}function gi(r,e){r&1&&(a(0,"div",8)(1,"p"),o(2,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0648\u0638\u0627\u0626\u0641 \u0645\u062D\u0641\u0648\u0638\u0629 \u062D\u062A\u0649 \u0627\u0644\u0622\u0646."),n(),a(3,"a",4),o(4,"\u0627\u0628\u062F\u0627\u0621 \u0628\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0648\u0638\u064A\u0641\u0629"),n()())}function fi(r,e){if(r&1){let t=A();a(0,"div",10),b(1,"img",12),a(2,"div",13)(3,"h4",14),o(4),n(),a(5,"p",15),o(6),n(),a(7,"p",16),o(8),me(9,"date"),n()(),a(10,"div",17)(11,"a",18),o(12," \u0639\u0631\u0636 "),n(),a(13,"button",19),m("click",function(){let s=g(t).$implicit,u=d(2);return f(u.removeFromSaved(s.job))}),o(14," \u0625\u0632\u0627\u0644\u0629 "),n()()()}if(r&2){let t=e.$implicit,i=d(2);l(),c("src",t.job.company.logo?t.job.company.logo:"images/company-logo-3.jpg",j),l(3),p(t.job.title),l(2),p(t.job.company.name),l(2),wt(" ",i.salaryText(t.job)," \u2022 ",t.job.city||t.job.company.city," \u2022 \u0645\u062D\u0641\u0648\u0638\u0629 \u0645\u0646\u0630 ",Ye(9,7,t.created_at,"mediumDate")," "),l(3),c("routerLink",re(10,ci,t.job.slug))}}function bi(r,e){if(r&1){let t=A();a(0,"button",22),m("click",function(){let s=g(t).$implicit,u=d(3);return f(u.goToPage(s))}),o(1),n()}if(r&2){let t=e.$implicit,i=d(3);I("active",t===i.page),l(),x(" ",t," ")}}function _i(r,e){if(r&1){let t=A();a(0,"nav",11)(1,"button",20),m("click",function(){g(t);let s=d(2);return f(s.goToPage(s.page-1))}),o(2," \u0627\u0644\u0633\u0627\u0628\u0642 "),n(),F(3,bi,2,3,"button",21,dt),a(5,"button",20),m("click",function(){g(t);let s=d(2);return f(s.goToPage(s.page+1))}),o(6," \u0627\u0644\u062A\u0627\u0644\u064A "),n()()}if(r&2){let t=d(2);l(),c("disabled",t.page===1),l(2),T(t.pages),l(2),c("disabled",t.page===t.totalPages)}}function vi(r,e){if(r&1&&(Ue(0),F(1,fi,15,12,"div",10,dt),v(3,_i,7,2,"nav",11),Ge()),r&2){let t=d();l(),T(t.bookmarks),l(2),h(t.totalPages>1?3:-1)}}var we=class r extends Ce{savedJobsStore=_(rt);bookmarks=[];page=1;pageSize=10;totalCount=0;loading=!1;errorMessage=null;baseUrl=N.apiBaseUrl;constructor(){super()}ngOnInit(){this.savedJobsStore.loading$.subscribe(e=>{this.loading=e}),this.savedJobsStore.savedJobs$.subscribe({next:e=>{this.bookmarks=e.bookmarks,this.totalCount=e.totalCount,this.page=e.currentPage,this.pageSize=e.pageSize,this.errorMessage=null},error:e=>{this.loading=!1,this.errorMessage="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629",console.error(e)}}),this.savedJobsStore.loadSavedJobs()}removeFromSaved(e){let t=!e.is_bookmarked;this.savedJobsStore.removeBookmark(e.id).subscribe({next:()=>{e.is_bookmarked=t,this.toastr.success(t?`\u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 ${e.id} \u0628\u0646\u062C\u0627\u062D`:`\u062A\u0645 \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 ${e.id} \u0645\u0646 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0627\u062A`)},error:()=>{this.toastr.error("\u062A\u0639\u0630\u0631 \u062D\u0641\u0638 \u0627\u0644\u0648\u0638\u064A\u0641\u0629"),this.savedJobsStore.refresh()}})}salaryText(e){let t=e.salary_min,i=e.salary_max;return t==null&&i==null?"\u0627\u0644\u0631\u0627\u062A\u0628 \u0642\u0627\u0628\u0644 \u0644\u0644\u062A\u0641\u0627\u0648\u0636":t!=null&&i!=null?`${t} - ${i}`:t!=null?`\u0645\u0646 ${t}`:`\u062D\u062A\u0649 ${i}`}get totalPages(){return this.savedJobsStore.snapshot.totalPages}get pages(){return Array.from({length:this.totalPages},(e,t)=>t+1)}goToPage(e){this.savedJobsStore.goToPage(e)}refreshSavedJobs(){this.savedJobsStore.refresh()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=w({type:r,selectors:[["app-saved-jobs"]],features:[de],decls:12,vars:4,consts:[["id","saved-jobs"],[1,"dashboard-header"],[1,"dashboard-title"],[1,"dashboard-actions"],["routerLink","/jobseeker/jobs",1,"btn","btn-primary"],[1,"content-card"],[1,"saved-jobs-state"],[1,"saved-jobs-state","error"],[1,"saved-jobs-state","empty"],[4,"ngIf"],[1,"saved-job-item"],[1,"pagination-wrapper"],["alt","\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",1,"saved-job-logo",3,"src"],[1,"saved-job-info"],[1,"saved-job-title"],[1,"saved-job-company"],[1,"saved-job-meta"],[1,"saved-job-actions",2,"display","flex","gap","0.5rem"],[1,"btn","btn-small","btn-primary",3,"routerLink"],["type","button",1,"btn","btn-small","btn-secondary",3,"click"],[1,"page-btn",3,"click","disabled"],[1,"page-btn",3,"active"],[1,"page-btn",3,"click"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),o(3,"\u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"),n(),a(4,"div",3)(5,"a",4),o(6,"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u0645\u0632\u064A\u062F"),n()()(),a(7,"div",5),v(8,pi,3,0,"div",6),v(9,mi,3,1,"div",7),v(10,gi,5,0,"div",8),U(11,vi,4,1,"ng-container",9),n()()),t&2&&(l(8),h(i.loading?8:-1),l(),h(!i.loading&&i.errorMessage?9:-1),l(),h(!i.loading&&!i.errorMessage&&i.bookmarks.length===0?10:-1),l(),c("ngIf",!i.loading&&!i.errorMessage&&i.bookmarks.length>0))},dependencies:[oe,Z,G,qe],encapsulation:2})};var Pe=class r extends _e{updateBasic(e){return this.http.put(De.getUrl("profile/update","accounts"),e)}updateBasicFormData(e){return this.http.put(De.getUrl("profile/update","accounts"),e)}updateJobSeeker(e){return this.http.put(De.getUrl("profile/job-seeker","accounts"),e)}updateJobSeekerFormData(e){return this.http.put(De.getUrl("profile/job-seeker","accounts"),e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ue(r)))(i||r)}})();static \u0275prov=W({token:r,factory:r.\u0275fac,providedIn:"root"})};var Mi=()=>({standalone:!0}),Si=()=>({margin:0}),Ai=()=>({marginLeft:"0.5rem"});function wi(r,e){if(r&1){let t=A();a(0,"div",5)(1,"div",47)(2,"span",48),o(3,"\u{1F4C4}"),n(),a(4,"div")(5,"div",49),o(6),n(),a(7,"div",50),o(8),n()()(),a(9,"div",51)(10,"p-button",52),m("onClick",function(){g(t);let s=ct(12);return f(s.click())}),n(),a(11,"input",53,0),m("change",function(s){g(t);let u=d();return f(u.onResumeChange(s))}),n(),a(13,"p-button",54),m("onClick",function(){g(t);let s=d();return f(s.togglePreview())}),n(),a(14,"a",55),o(15," \u062A\u0646\u0632\u064A\u0644 "),n()()()}if(r&2){let t=d();l(6),p(t.resumeDisplayName),l(2),p(t.isPdf?"PDF":"Document"),l(2),Oe(pe(6,Si)),l(3),c("label",t.showPreview?"\u0625\u062E\u0641\u0627\u0621 \u0627\u0644\u0645\u0639\u0627\u064A\u0646\u0629":"\u0645\u0639\u0627\u064A\u0646\u0629"),l(),c("href",t.resumeUrl,j)}}function Pi(r,e){if(r&1){let t=A();Ue(0),a(1,"div",56),o(2," \u0644\u0627 \u062A\u0648\u062C\u062F \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629 \u0645\u0631\u0641\u0648\u0639\u0629 "),a(3,"p-button",57),m("onClick",function(){g(t);let s=ct(5);return f(s.click())}),n(),a(4,"input",58,1),m("change",function(s){g(t);let u=d();return f(u.onResumeChange(s))}),n()(),Ge()}r&2&&(l(3),Oe(pe(2,Ai)))}function ki(r,e){if(r&1&&(a(0,"div",6),b(1,"iframe",59),n()),r&2){let t=d();l(),c("src",t.resumeSafeUrl,St)}}function Oi(r,e){if(r&1){let t=A();a(0,"div",7)(1,"div",60)(2,"p"),o(3,"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641 \u062F\u0627\u062E\u0644 \u0627\u0644\u0635\u0641\u062D\u0629 \u0628\u0633\u0628\u0628 \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0623\u0645\u0627\u0646. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u0632\u0631 \u0623\u062F\u0646\u0627\u0647 \u0644\u0641\u062A\u062D \u0627\u0644\u0645\u0644\u0641 \u0641\u064A \u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629."),n(),a(4,"p-button",61),m("onClick",function(){g(t);let s=d();return f(s.openResumeInNewWindow())}),n()()()}}function Ei(r,e){r&1&&(a(0,"div",8),o(1," \u0644\u0627 \u064A\u0645\u0643\u0646 \u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641 \u062F\u0627\u062E\u0644 \u0627\u0644\u0635\u0641\u062D\u0629 \u0628\u0633\u0628\u0628 \u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u062E\u0627\u062F\u0645. \u0627\u0633\u062A\u062E\u062F\u0645 \u0632\u0631 \xAB\u062A\u0646\u0632\u064A\u0644\xBB. "),n())}var Be=class r{basicForm;jobForm;selectedFile=null;selectedResume=null;resumeUrl=null;resumeSafeUrl=null;isPdf=!1;isResumeFromApi=!1;toRevoke=null;showPreview=!1;dateOfBirthDate=null;experienceLevelOptions=[{label:"\u0645\u0628\u062A\u062F\u0626",value:"entry"},{label:"\u0645\u062A\u0648\u0633\u0637",value:"mid"},{label:"\u0645\u062A\u0642\u062F\u0645",value:"senior"},{label:"\u062E\u0628\u064A\u0631",value:"lead"}];educationLevelOptions=[{label:"\u062B\u0627\u0646\u0648\u064A\u0629 \u0639\u0627\u0645\u0629",value:"high_school"},{label:"\u062F\u0628\u0644\u0648\u0645",value:"diploma"},{label:"\u0628\u0643\u0627\u0644\u0648\u0631\u064A\u0648\u0633",value:"bachelor"},{label:"\u0645\u0627\u062C\u0633\u062A\u064A\u0631",value:"master"},{label:"\u062F\u0643\u062A\u0648\u0631\u0627\u0647",value:"phd"}];jobTypeOptions=[{label:"\u062F\u0648\u0627\u0645 \u0643\u0627\u0645\u0644",value:"full_time"},{label:"\u062F\u0648\u0627\u0645 \u062C\u0632\u0626\u064A",value:"part_time"},{label:"\u0639\u0642\u062F \u0645\u0624\u0642\u062A",value:"contract"},{label:"\u0639\u0645\u0644 \u062D\u0631",value:"freelance"},{label:"\u0639\u0646 \u0628\u064F\u0639\u062F",value:"remote"}];availabilityOptions=[{label:"\u0646\u0639\u0645",value:!0},{label:"\u0644\u0627",value:!1}];destroy$=new O;fb=_(xe);profileApi=_(Pe);toastr=_(be);sanitizer=_(jt);store=_(_e);ngOnInit(){this.basicForm=this.fb.group({first_name:["",K.required],last_name:["",K.required],email:["",[K.required,K.email]],phone:[""],date_of_birth:[""],profile_picture:[""],bio:[""],location:[""]}),this.jobForm=this.fb.group({resume:[""],experience_level:["entry",K.required],education_level:["high_school",K.required],skills:[""],expected_salary_min:[null],expected_salary_max:[null],availability:[!0],preferred_job_type:["full_time"],languages:[""]}),this.store.profile$.pipe(se(this.destroy$),H(e=>!!e)).subscribe(e=>{let t=e.user??{},i=this.normalizeDateForInput(t.date_of_birth);this.dateOfBirthDate=i?new Date(i):null,this.basicForm.patchValue({first_name:t.first_name||"",last_name:t.last_name||"",email:t.email||"",phone:t.phone||"",date_of_birth:i,profile_picture:t.profile_picture||"",bio:t.bio||"",location:t.location||""}),this.jobForm.patchValue({resume:e.resume||"",experience_level:e.experience_level||"entry",education_level:e.education_level||"high_school",skills:e.skills||"",expected_salary_min:e.expected_salary_min??null,expected_salary_max:e.expected_salary_max??null,availability:typeof e.availability=="boolean"?e.availability:!0,preferred_job_type:e.preferred_job_type||"full_time",languages:e.languages||""});let s=this.toAbsolute(e.resume);s&&this.setResumePreview(s)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.toRevoke&&URL.revokeObjectURL(this.toRevoke)}get resumeDisplayName(){if(this.selectedResume?.name)return this.selectedResume.name;if(this.resumeUrl)try{return decodeURIComponent(this.resumeUrl.split("/").pop()||"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629")}catch{return"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"}return"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"}onFileChange(e){let t=e.target;this.selectedFile=t.files?.[0]??null}onResumeChange(e){let t=e.target.files?.[0]??null;if(this.selectedResume=t,this.toRevoke&&(URL.revokeObjectURL(this.toRevoke),this.toRevoke=null),t){let i=URL.createObjectURL(t);this.setResumePreview(i,t.name),this.toRevoke=i}else this.clearResumePreview()}saveChanges(){if(this.basicForm.invalid||this.jobForm.invalid){this.toastr.error("\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629");return}let e=this.basicForm.value,t=this.dateOfBirthDate||e.date_of_birth,i=this.normalizeDateForApi(t);if(e.date_of_birth&&!i){this.toastr.error("\u0635\u064A\u063A\u0629 \u0627\u0644\u062A\u0627\u0631\u064A\u062E \u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 YYYY-MM-DD");return}let s={first_name:e.first_name,last_name:e.last_name,email:e.email};e.phone&&(s.phone=e.phone),i&&(s.date_of_birth=i),e.bio&&(s.bio=e.bio),e.location&&(s.location=e.location),(()=>{if(this.selectedFile){let C=new FormData;return Object.entries(s).forEach(([z,ae])=>C.append(z,String(ae))),C.append("profile_picture",this.selectedFile),this.profileApi.updateBasicFormData(C)}else return this.profileApi.updateBasic(s)})().subscribe({next:()=>{let C=this.jobForm.value,z=new FormData,ae={experience_level:C.experience_level,education_level:C.education_level,skills:C.skills,expected_salary_min:C.expected_salary_min,expected_salary_max:C.expected_salary_max,availability:C.availability,preferred_job_type:C.preferred_job_type,languages:C.languages};Object.entries(ae).forEach(([ke,le])=>{le==null||le===""||z.append(ke,typeof le=="boolean"?le?"true":"false":String(le))}),this.selectedResume&&z.append("resume",this.selectedResume),this.profileApi.updateJobSeekerFormData(z).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0628\u0646\u062C\u0627\u062D"),this.store.refresh()},error:ke=>this.handleErr(ke,"\u0641\u0634\u0644 \u062D\u0641\u0638 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0648\u0638\u064A\u0641\u0629")})},error:C=>this.handleErr(C,"\u0641\u0634\u0644 \u062D\u0641\u0638 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629")})}canEmbed(e){return e.startsWith(location.origin)||e.startsWith("blob:")||e.startsWith("https:")||e.startsWith("http:")}setResumePreview(e,t){this.resumeUrl=e;let i=/\.pdf($|\?)/i.test(e)||!!t?.toLowerCase().endsWith(".pdf");this.isPdf=i,this.isResumeFromApi=e.startsWith("https://")&&!e.startsWith(location.origin)&&!e.startsWith("blob:"),this.resumeSafeUrl=this.isPdf?this.sanitizer.bypassSecurityTrustResourceUrl(e):null}clearResumePreview(){this.resumeUrl=null,this.resumeSafeUrl=null,this.isPdf=!1,this.isResumeFromApi=!1}openResumeInNewWindow(){this.resumeUrl&&window.open(this.resumeUrl,"_blank","noopener,noreferrer")}togglePreview(){this.showPreview=!this.showPreview}toAbsolute(e){return e?/^(https?:|blob:|data:)/i.test(e)?e:`${N.apiBaseUrl.replace(/\/+$/,"")}/${String(e).replace(/^\/+/,"")}`:null}normalizeDateForInput(e){if(!e)return"";let t=String(e).match(/^(\d{4}-\d{2}-\d{2})/);if(t)return t[1];let i=String(e).match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(i){let[,z,ae,ke]=i;return`${ke}-${ae.padStart(2,"0")}-${z.padStart(2,"0")}`}let s=new Date(e);if(Number.isNaN(s.getTime()))return"";let u=String(s.getMonth()+1).padStart(2,"0"),C=String(s.getDate()).padStart(2,"0");return`${s.getFullYear()}-${u}-${C}`}normalizeDateForApi(e){if(!e)return"";if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(e instanceof Date){let t=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${t}-${i}`}return this.normalizeDateForInput(e)}handleErr(e,t){let i=e?.error?Object.values(e.error).flat().join(" | "):t;this.toastr.error(i),console.error(e)}onDateOfBirthSelect(e){if(e){let t=this.normalizeDateForApi(e);this.basicForm.patchValue({date_of_birth:t},{emitEvent:!1})}else this.basicForm.patchValue({date_of_birth:""},{emitEvent:!1})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=w({type:r,selectors:[["app-profile"]],standalone:!1,decls:81,vars:23,consts:[["resumeFileInput",""],["resumeFileInputEmpty",""],[1,"form-section",3,"formGroup"],[1,"section-title"],[1,"resume-wrap"],[1,"resume-bar"],[1,"resume-preview"],[1,"resume-preview-api"],[1,"resume-note"],["dir","rtl",1,"form-card"],[1,"form-card__title"],[1,"form-grid","form-grid-3"],[1,"field"],["for","first_name",1,"field__label"],["pInputText","","id","first_name","formControlName","first_name",1,"field__control"],["for","last_name",1,"field__label"],["pInputText","","id","last_name","formControlName","last_name",1,"field__control"],["for","email",1,"field__label"],["pInputText","","type","email","id","email","formControlName","email",1,"field__control"],["for","phone",1,"field__label"],["pInputText","","id","phone","formControlName","phone",1,"field__control"],["for","date_of_birth",1,"field__label"],["id","date_of_birth","dateFormat","yy-mm-dd","placeholder","\u0627\u062E\u062A\u0631 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F","appendTo","body","styleClass","w-full","inputStyleClass","field__control",3,"ngModelChange","onSelect","ngModel","ngModelOptions"],["for","location",1,"field__label"],["pInputText","","id","location","formControlName","location",1,"field__control"],[1,"field","field--full"],["for","bio",1,"field__label"],["pTextarea","","id","bio","rows","4","formControlName","bio",1,"field__control"],["dir","rtl",1,"form-card",3,"formGroup"],["for","experience_level",1,"field__label"],["id","experience_level","formControlName","experience_level","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u0628\u0631\u0629","appendTo","body","styleClass","w-full",1,"field__control",3,"showClear","options"],["for","education_level",1,"field__label"],["id","education_level","formControlName","education_level","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062A\u0639\u0644\u064A\u0645\u064A","appendTo","body","styleClass","w-full",1,"field__control",3,"showClear","options"],["for","preferred_job_type",1,"field__label"],["id","preferred_job_type","formControlName","preferred_job_type","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u0639\u0645\u0644","appendTo","body","styleClass","w-full",1,"field__control",3,"showClear","options"],["for","expected_salary_min",1,"field__label"],["id","expected_salary_min","formControlName","expected_salary_min","placeholder","0","styleClass","w-full",1,"field__control",3,"showButtons","min","useGrouping"],["for","expected_salary_max",1,"field__label"],["id","expected_salary_max","formControlName","expected_salary_max","placeholder","0","styleClass","w-full",1,"field__control",3,"showButtons","min","useGrouping"],["for","availability",1,"field__label"],["id","availability","formControlName","availability","optionLabel","label","optionValue","value","appendTo","body","styleClass","w-full",1,"field__control",3,"showClear","options"],["for","skills",1,"field__label"],["pInputText","","id","skills","formControlName","skills","placeholder","JS, React, Node",1,"field__control"],["for","languages",1,"field__label"],["pInputText","","id","languages","formControlName","languages","placeholder","Arabic, English",1,"field__control"],[1,"form-actions"],["type","button","label","\u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A","styleClass","p-button-primary",3,"onClick"],[1,"resume-meta"],[1,"resume-icon"],[1,"resume-name"],[1,"resume-type"],[1,"resume-actions"],["label","\u062A\u063A\u064A\u064A\u0631 \u0627\u0644\u0645\u0644\u0641","styleClass","p-button-secondary",3,"onClick"],["type","file","accept",".pdf,.doc,.docx","title","\u062A\u063A\u064A\u064A\u0631 \u0645\u0644\u0641 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629","aria-label","\u062A\u063A\u064A\u064A\u0631 \u0645\u0644\u0641 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629",1,"d-none",3,"change"],["type","button","styleClass","p-button-secondary",3,"onClick","label"],["target","_blank","rel","noopener","download","",1,"btn","btn-primary",3,"href"],[1,"resume-empty"],["label","\u0631\u0641\u0639 \u0645\u0644\u0641","styleClass","p-button-primary",3,"onClick"],["type","file","accept",".pdf,.doc,.docx","title","\u0631\u0641\u0639 \u0645\u0644\u0641 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629","aria-label","\u0631\u0641\u0639 \u0645\u0644\u0641 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629",1,"d-none",3,"change"],["title","\u0645\u0639\u0627\u064A\u0646\u0629 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629",3,"src"],[1,"resume-preview-message"],["label","\u0641\u062A\u062D \u0627\u0644\u0645\u0644\u0641 \u0641\u064A \u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629","styleClass","p-button-primary",3,"onClick"]],template:function(t,i){t&1&&(a(0,"form",2)(1,"h3",3)(2,"span"),o(3,"\u{1F464}"),n(),o(4,"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629"),n(),a(5,"div",4),v(6,wi,16,7,"div",5)(7,Pi,6,3,"ng-container"),v(8,ki,2,1,"div",6),v(9,Oi,5,0,"div",7),v(10,Ei,2,0,"div",8),n(),a(11,"section",9)(12,"h3",10),o(13,"\u{1F464} \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629"),n(),a(14,"div",11)(15,"div",12)(16,"label",13),o(17,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644"),n(),b(18,"input",14),n(),a(19,"div",12)(20,"label",15),o(21,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062E\u064A\u0631"),n(),b(22,"input",16),n(),a(23,"div",12)(24,"label",17),o(25,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),n(),b(26,"input",18),n(),a(27,"div",12)(28,"label",19),o(29,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),n(),b(30,"input",20),n(),a(31,"div",12)(32,"label",21),o(33,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u064A\u0644\u0627\u062F"),n(),a(34,"p-datepicker",22),S("ngModelChange",function(u){return M(i.dateOfBirthDate,u)||(i.dateOfBirthDate=u),u}),m("onSelect",function(u){return i.onDateOfBirthSelect(u)}),n()(),a(35,"div",12)(36,"label",23),o(37,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"),n(),b(38,"input",24),n(),a(39,"div",25)(40,"label",26),o(41,"\u0646\u0628\u0630\u0629 \u0645\u062E\u062A\u0635\u0631\u0629"),n(),b(42,"textarea",27),n()()(),a(43,"section",28)(44,"h3",10),o(45,"\u{1F4BC} \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0647\u0646\u064A\u0629"),n(),a(46,"div",11)(47,"div",12)(48,"label",29),o(49,"\u0633\u0646\u0648\u0627\u062A \u0627\u0644\u062E\u0628\u0631\u0629"),n(),b(50,"p-select",30),n(),a(51,"div",12)(52,"label",31),o(53,"\u0627\u0644\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062A\u0639\u0644\u064A\u0645\u064A"),n(),b(54,"p-select",32),n(),a(55,"div",12)(56,"label",33),o(57,"\u0646\u0648\u0639 \u0627\u0644\u0639\u0645\u0644 \u0627\u0644\u0645\u0641\u0636\u0644"),n(),b(58,"p-select",34),n(),a(59,"div",12)(60,"label",35),o(61,"\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0623\u062F\u0646\u0649"),n(),b(62,"p-inputNumber",36),n(),a(63,"div",12)(64,"label",37),o(65,"\u0627\u0644\u0631\u0627\u062A\u0628 \u0627\u0644\u0623\u0639\u0644\u0649"),n(),b(66,"p-inputNumber",38),n(),a(67,"div",12)(68,"label",39),o(69,"\u0645\u062A\u0627\u062D \u0644\u0644\u0639\u0645\u0644"),n(),b(70,"p-select",40),n(),a(71,"div",12)(72,"label",41),o(73,"\u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062A (\u0627\u0641\u0635\u0644 \u0628\u0641\u0648\u0627\u0635\u0644)"),n(),b(74,"input",42),n(),a(75,"div",12)(76,"label",43),o(77,"\u0627\u0644\u0644\u063A\u0627\u062A (\u0627\u0641\u0635\u0644 \u0628\u0641\u0648\u0627\u0635\u0644)"),n(),b(78,"input",44),n()()(),a(79,"div",45)(80,"p-button",46),m("onClick",function(){return i.saveChanges()}),n()()()),t&2&&(c("formGroup",i.basicForm),l(6),h(i.resumeUrl?6:7),l(2),h(i.showPreview&&i.isPdf&&i.resumeSafeUrl&&!i.isResumeFromApi?8:-1),l(),h(i.showPreview&&i.isPdf&&i.isResumeFromApi?9:-1),l(),h(i.showPreview&&!i.isPdf&&i.resumeUrl?10:-1),l(24),y("ngModel",i.dateOfBirthDate),c("ngModelOptions",pe(22,Mi)),l(9),c("formGroup",i.jobForm),l(7),c("showClear",!0)("options",i.experienceLevelOptions),l(4),c("showClear",!0)("options",i.educationLevelOptions),l(4),c("showClear",!0)("options",i.jobTypeOptions),l(4),c("showButtons",!1)("min",0)("useGrouping",!0),l(4),c("showButtons",!1)("min",0)("useGrouping",!0),l(4),c("showClear",!0)("options",i.availabilityOptions))},dependencies:[ne,ee,te,ie,he,Ke,Ze,et,tt,it,Yt,Me,Xt],styles:[`.profile-edit-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.profile-card[_ngcontent-%COMP%]{background:var(--white);padding:2rem;border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--gray-200);margin-bottom:2rem}.profile-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid var(--gray-200)}.profile-avatar-section[_ngcontent-%COMP%]{text-align:center}.profile-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;border:4px solid var(--primary-color);margin-bottom:1rem}.avatar-upload[_ngcontent-%COMP%]{position:relative;display:inline-block}.avatar-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;opacity:0;width:100%;height:100%;cursor:pointer}.upload-btn[_ngcontent-%COMP%]{background:var(--primary-color);color:var(--white);padding:.5rem 1rem;border-radius:var(--radius-md);font-size:var(--font-size-sm);cursor:pointer;border:none}.profile-info[_ngcontent-%COMP%]{flex-grow:1}.profile-name[_ngcontent-%COMP%]{font-size:var(--font-size-2xl);font-weight:700;margin-bottom:.5rem;color:var(--gray-900)}.profile-title[_ngcontent-%COMP%]{font-size:var(--font-size-lg);color:var(--gray-600);margin-bottom:1rem}.profile-stats[_ngcontent-%COMP%]{display:flex;gap:2rem}.stat[_ngcontent-%COMP%]{text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:var(--font-size-xl);font-weight:700;color:var(--primary-color)}.stat-label[_ngcontent-%COMP%]{font-size:var(--font-size-sm);color:var(--gray-600)}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-title[_ngcontent-%COMP%]{font-size:var(--font-size-xl);font-weight:600;margin-bottom:1.5rem;color:var(--primary-color);display:flex;align-items:center;gap:.5rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--gray-700)}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--gray-300);border-radius:var(--radius-md);font-size:var(--font-size-base);transition:border-color var(--transition-fast)}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #3b82f61a}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-select[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:left .5rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-left:2.5rem}.skill-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.skill-tag[_ngcontent-%COMP%]{background:var(--primary-color);color:var(--white);padding:.25rem .75rem;border-radius:var(--radius-lg);font-size:var(--font-size-sm);display:flex;align-items:center;gap:.5rem}.skill-tag[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{cursor:pointer;font-weight:700}.add-skill[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}.privacy-settings[_ngcontent-%COMP%]{background:var(--gray-50);padding:1.5rem;border-radius:var(--radius-md);border:1px solid var(--gray-200)}.privacy-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 0;border-bottom:1px solid var(--gray-200)}.privacy-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.privacy-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-weight:600}.privacy-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-sm);color:var(--gray-600)}.toggle-switch[_ngcontent-%COMP%]{position:relative;width:50px;height:24px;background:var(--gray-300);border-radius:12px;cursor:pointer;transition:background var(--transition-fast)}.toggle-switch.active[_ngcontent-%COMP%]{background:var(--primary-color)}.toggle-switch[_ngcontent-%COMP%]:after{content:"";position:absolute;top:2px;right:2px;width:20px;height:20px;background:var(--white);border-radius:50%;transition:transform var(--transition-fast)}.toggle-switch.active[_ngcontent-%COMP%]:after{transform:translate(-26px)}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;margin-top:2rem;padding-top:2rem;border-top:1px solid var(--gray-200)}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.privacy-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}}.form-section[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;width:96%;margin-right:2%;margin-bottom:2rem;border-radius:12px;box-shadow:0 4px 12px #0000000d;border:1px solid #eee}.section-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#1d4ed8;display:flex;align-items:center;margin-bottom:1.5rem}.section-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;margin-left:.5rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.form-group[_ngcontent-%COMP%]{flex:1;min-width:240px;display:flex;flex-direction:column}.form-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.4rem;color:#374151}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:1px solid #d1d5db;border-radius:8px;padding:.6rem .8rem;font-size:.95rem;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#1d4ed8;box-shadow:0 0 0 3px #1d4ed81a;outline:none}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.75rem;margin-top:1.5rem}.btn[_ngcontent-%COMP%]{padding:.6rem 1.2rem;border-radius:8px;font-weight:500;font-size:.95rem;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#fff;border:none}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#1e40af}.btn-secondary[_ngcontent-%COMP%]{background-color:#f3f4f6;border:1px solid #d1d5db;color:#374151}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.resume-wrap[_ngcontent-%COMP%]{margin-bottom:1rem}.resume-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:.75rem 1rem;border:1px solid #e5e7eb;border-radius:10px;background:#f9fafb}.resume-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.resume-icon[_ngcontent-%COMP%]{font-size:1.5rem}.resume-name[_ngcontent-%COMP%]{font-weight:600;color:#111827}.resume-type[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280}.resume-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.d-none[_ngcontent-%COMP%]{display:none}.m-0[_ngcontent-%COMP%]{margin:0}.ml-2[_ngcontent-%COMP%]{margin-left:.5rem}.resume-empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;padding:.75rem 1rem;border:1px dashed #cbd5e1;border-radius:10px;color:#64748b}.resume-preview[_ngcontent-%COMP%]{margin-top:.75rem;border:1px solid #e5e7eb;border-radius:10px;overflow:hidden}.resume-preview[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:520px;border:0}.resume-preview-api[_ngcontent-%COMP%]{margin-top:.75rem;border:1px solid #e5e7eb;border-radius:10px;padding:2rem;background:#f9fafb;text-align:center}.resume-preview-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.resume-preview-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.95rem;margin:0}.resume-note[_ngcontent-%COMP%]{margin-top:.5rem;color:#6b7280;font-size:.9rem}.btn-light[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.btn-light[_ngcontent-%COMP%]:hover{background:#e5e7eb}.form-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:1.25rem 1.25rem 1rem;margin-bottom:1rem;box-shadow:0 2px 10px #0000000a}.form-card__title[_ngcontent-%COMP%]{margin:0 0 1rem;color:#0f172a;font-weight:700;font-size:1.05rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}.form-grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.field[_ngcontent-%COMP%]{grid-column:span 6;display:flex;flex-direction:column;min-width:0}.form-grid-3[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{grid-column:span 1}.field--full[_ngcontent-%COMP%], .form-grid-3[_ngcontent-%COMP%]   .field--full[_ngcontent-%COMP%]{grid-column:1/-1}.field__label[_ngcontent-%COMP%]{font-size:.85rem;color:#475569;margin:0 0 .35rem}.field__control[_ngcontent-%COMP%]{width:100%;font-size:.95rem;background:#fff;transition:border-color .15s,box-shadow .15s}.field__control[_ngcontent-%COMP%]:focus{outline:0;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1f}.field__control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441f}textarea.field__control[_ngcontent-%COMP%]{min-height:110px;resize:vertical}.p-select[_ngcontent-%COMP%]{padding:.2rem!important}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.75rem;margin-top:1rem}.btn[_ngcontent-%COMP%]{padding:.55rem 1.1rem;border-radius:10px;font-weight:600;cursor:pointer;transition:.15s;border:1px solid transparent}.btn-primary[_ngcontent-%COMP%]{background:#1d4ed8;color:#fff;border-color:#1d4ed8}.btn-primary[_ngcontent-%COMP%]:hover{background:#1e40af;border-color:#1e40af}.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#111827;border-color:#d1d5db}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e5e7eb}@media (max-width: 768px){.field[_ngcontent-%COMP%]{grid-column:1/-1}.form-grid-3[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-grid-3[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{grid-column:span 1}}  .p-button-primary{background:linear-gradient(135deg,#2563eb,#1d4ed8);border-color:#2563eb;box-shadow:0 10px 25px #2563eb59}  .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1d4ed8,#1e40af);border-color:#1d4ed8;box-shadow:0 14px 30px #2563eb73;transform:translateY(-1px)}  .p-button-primary:disabled{opacity:.7;cursor:default;box-shadow:none}  .p-button-secondary{border-color:#2563eb;color:#2563eb}  .p-button-secondary:hover:not(:disabled){background:#2563eb;color:#fff;border-color:#2563eb}  .p-select{width:100%}  .p-inputnumber{width:100%}  .p-inputnumber-input{width:100%}  .p-calendar{width:100%}  .p-calendar .p-inputtext{width:100%}`]})};var Le=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=w({type:r,selectors:[["app-cv"]],standalone:!1,decls:10,vars:0,consts:[["id","cv"],[1,"dashboard-header"],[1,"dashboard-title"],[1,"dashboard-actions"],["routerLink","/jobseeker/cv-builder",1,"btn","btn-primary"],[1,"content-card"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),o(3,"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n(),a(4,"div",3)(5,"a",4),o(6,"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n()()(),a(7,"div",5)(8,"p"),o(9,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629 \u0633\u062A\u062A\u0645 \u0647\u0646\u0627..."),n()()())},dependencies:[G],encapsulation:2})};var ot=class r{jobService=_(ye);alertsTrigger$=new O;categoriesTrigger$=new O;loadingAlertsSubject=new $(!1);loadingAlerts$=this.loadingAlertsSubject.asObservable();loadingCategoriesSubject=new $(!1);loadingCategories$=this.loadingCategoriesSubject.asObservable();alertsLoaded=!1;categoriesLoaded=!1;alertsDataSubject=new $({alerts:[],categories:[]});alerts$=this.alertsDataSubject.asObservable();categories$=this.categoriesTrigger$.pipe(V(()=>(this.loadingCategoriesSubject.next(!0),this.loadCategoriesData())),E(e=>{this.loadingCategoriesSubject.next(!1),this.categoriesLoaded=!0;let t=this.alertsDataSubject.value;this.alertsDataSubject.next(k(P({},t),{categories:e}))}),Q(this.alertsDataSubject.value.categories),R({bufferSize:1,refCount:!1}));alerts=q(this.alerts$,{initialValue:{alerts:[],categories:[]}});get snapshot(){return P({},this.alertsDataSubject.value)}loadAlertsData(){return this.jobService.getAlerts().pipe(L(e=>Array.isArray(e)?e:e&&Array.isArray(e.results)?e.results:e&&Array.isArray(e.alerts)?e.alerts:[]),J(e=>(console.error("Failed to load alerts",e),B([]))))}alertsList$=this.alertsTrigger$.pipe(V(()=>(this.loadingAlertsSubject.next(!0),this.loadAlertsData())),E(e=>{this.loadingAlertsSubject.next(!1),this.alertsLoaded=!0;let t=this.alertsDataSubject.value;this.alertsDataSubject.next(k(P({},t),{alerts:e}))}),Q(this.alertsDataSubject.value.alerts),R({bufferSize:1,refCount:!1}));loadCategoriesData(){return this.jobService.getCategories().pipe(L(e=>e.results||[]),J(e=>(console.error("Failed to load categories",e),B([]))))}loadAlerts(){this.alertsLoaded||this.alertsTrigger$.next()}loadCategories(){this.categoriesLoaded||this.categoriesTrigger$.next()}createAlert(e){return this.jobService.createAlert(e).pipe(E(t=>{let i=this.alertsDataSubject.value,s=[...i.alerts,t];this.alertsDataSubject.next(k(P({},i),{alerts:s}))}))}updateAlert(e,t){return this.jobService.updateAlert(e,t).pipe(E(i=>{let s=this.alertsDataSubject.value,u=s.alerts.map(C=>C.id===e?i:C);this.alertsDataSubject.next(k(P({},s),{alerts:u}))}))}patchAlert(e,t){return this.jobService.patchAlert(e,t).pipe(E(i=>{let s=this.alertsDataSubject.value,u=s.alerts.map(C=>C.id===e?i:C);this.alertsDataSubject.next(k(P({},s),{alerts:u}))}))}deleteAlert(e){return this.jobService.deleteAlert(e).pipe(E(()=>{let t=this.alertsDataSubject.value,i=t.alerts.filter(s=>s.id!==e);this.alertsDataSubject.next(k(P({},t),{alerts:i}))}))}refreshAlerts(){this.alertsLoaded=!1,this.loadAlerts()}refreshCategories(){this.categoriesLoaded=!1,this.loadCategories()}reset(){this.alertsLoaded=!1,this.categoriesLoaded=!1,this.loadingAlertsSubject.next(!1),this.loadingCategoriesSubject.next(!1),this.alertsDataSubject.next({alerts:[],categories:[]})}static \u0275fac=function(t){return new(t||r)};static \u0275prov=W({token:r,factory:r.\u0275fac,providedIn:"root"})};var Di=()=>({width:"90%",maxWidth:"600px"}),ji=(r,e)=>e.id;function Fi(r,e){r&1&&(a(0,"div",6)(1,"p"),o(2,"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u062A\u0646\u0628\u064A\u0647\u0627\u062A..."),n()())}function Ti(r,e){if(r&1){let t=A();a(0,"div",7)(1,"div",36),o(2,"\u{1F514}"),n(),a(3,"h3"),o(4,"\u0644\u0627 \u062A\u0648\u062C\u062F \u062A\u0646\u0628\u064A\u0647\u0627\u062A \u0648\u0638\u0627\u0626\u0641"),n(),a(5,"p"),o(6,"\u0623\u0646\u0634\u0626 \u062A\u0646\u0628\u064A\u0647\u0627\u062A \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0639\u0646\u062F \u0646\u0634\u0631 \u0648\u0638\u0627\u0626\u0641 \u062A\u0646\u0627\u0633\u0628 \u0627\u0647\u062A\u0645\u0627\u0645\u0627\u062A\u0643"),n(),a(7,"button",4),m("click",function(){g(t);let s=d();return f(s.openCreateDialog())}),o(8," \u0625\u0646\u0634\u0627\u0621 \u062A\u0646\u0628\u064A\u0647 \u0627\u0644\u0622\u0646 "),n()()}}function Ii(r,e){if(r&1&&(a(0,"div",48)(1,"span",49),o(2,"\u0627\u0644\u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0641\u062A\u0627\u062D\u064A\u0629:"),n(),a(3,"span",50),o(4),n()()),r&2){let t=d().$implicit;l(4),p(t.keywords)}}function Bi(r,e){if(r&1&&(a(0,"div",48)(1,"span",49),o(2,"\u0627\u0644\u0645\u062F\u064A\u0646\u0629:"),n(),a(3,"span",50),o(4),n()()),r&2){let t=d().$implicit,i=d(2);l(4),p(i.getCityLabel(t.city))}}function Li(r,e){if(r&1&&(a(0,"div",48)(1,"span",49),o(2,"\u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064A\u0641\u0629:"),n(),a(3,"span",50),o(4),n()()),r&2){let t=d().$implicit,i=d(2);l(4),p(i.getJobTypeLabel(t.job_type))}}function Ji(r,e){if(r&1&&(a(0,"div",48)(1,"span",49),o(2,"\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u0628\u0631\u0629:"),n(),a(3,"span",50),o(4),n()()),r&2){let t=d().$implicit,i=d(2);l(4),p(i.getExperienceLevelLabel(t.experience_level))}}function zi(r,e){if(r&1&&(a(0,"div",48)(1,"span",49),o(2,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0631\u0627\u062A\u0628:"),n(),a(3,"span",50),o(4),me(5,"number"),n()()),r&2){let t=d().$implicit;l(4),x("",Ot(5,1,t.salary_min)," \u0631\u064A\u0627\u0644")}}function $i(r,e){if(r&1&&(a(0,"div",48)(1,"span",49),o(2,"\u0627\u0644\u0641\u0626\u0629:"),n(),a(3,"span",50),o(4),n()()),r&2){let t=d().$implicit,i=d(2);l(4),p(i.getCategoryName(t.category))}}function Ni(r,e){if(r&1){let t=A();a(0,"div",38)(1,"div",39)(2,"div",40)(3,"h3",41),o(4),n(),a(5,"span",42),o(6),n()(),a(7,"div",43)(8,"button",44),m("click",function(){let s=g(t).$implicit,u=d(2);return f(u.toggleAlertStatus(s))}),o(9),n(),a(10,"button",45),m("click",function(){let s=g(t).$implicit,u=d(2);return f(u.openEditDialog(s))}),o(11," \u270F\uFE0F "),n(),a(12,"button",46),m("click",function(){let s=g(t).$implicit,u=d(2);return f(u.deleteAlert(s))}),o(13," \u{1F5D1}\uFE0F "),n()()(),a(14,"div",47),v(15,Ii,5,1,"div",48),v(16,Bi,5,1,"div",48),v(17,Li,5,1,"div",48),v(18,Ji,5,1,"div",48),v(19,zi,6,3,"div",48),v(20,$i,5,1,"div",48),a(21,"div",48)(22,"span",49),o(23,"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064A\u062F:"),n(),a(24,"span",50),o(25),n()()()()}if(r&2){let t=e.$implicit;I("inactive",!t.is_active),l(4),p(t.title),l(),I("active",t.is_active)("inactive",!t.is_active),l(),x(" ",t.is_active?"\u0646\u0634\u0637":"\u0645\u0639\u0637\u0644"," "),l(2),c("title",t.is_active?"\u062A\u0639\u0637\u064A\u0644":"\u062A\u0641\u0639\u064A\u0644"),l(),x(" ",t.is_active?"\u23F8\uFE0F":"\u25B6\uFE0F"," "),l(6),h(t.keywords?15:-1),l(),h(t.city?16:-1),l(),h(t.job_type?17:-1),l(),h(t.experience_level?18:-1),l(),h(t.salary_min?19:-1),l(),h(t.category?20:-1),l(5),p(t.email_notifications?"\u0645\u0641\u0639\u0644":"\u0645\u0639\u0637\u0644")}}function Vi(r,e){if(r&1&&(a(0,"div",8),F(1,Ni,26,17,"div",37,ji),n()),r&2){let t=d();l(),T(t.alerts)}}function Ri(r,e){r&1&&(a(0,"small",14),o(1,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u062A\u0646\u0628\u064A\u0647 \u0645\u0637\u0644\u0648\u0628"),n())}var Je=class r extends Ce{alertsStore=_(ot);fb=_(xe);alerts=[];loading=!1;showDialog=!1;editingAlert=null;alertForm;jobCities=Ut;jobTypes=Gt;experienceLevels=Ht;categories=[];ngOnInit(){this.initForm(),this.alertsStore.loadingAlerts$.subscribe(e=>{this.loading=e}),this.alertsStore.alerts$.subscribe({next:e=>{this.alerts=e.alerts,this.categories=e.categories},error:e=>{this.errors.error(e,{join:!0}),this.loading=!1}}),this.alertsStore.categories$.subscribe({next:e=>{this.categories=e},error:e=>{console.error("Failed to load categories",e)}}),this.alertsStore.loadAlerts(),this.alertsStore.loadCategories()}initForm(){this.alertForm=this.fb.group({title:["",[K.required]],keywords:[""],city:[""],job_type:[""],experience_level:[""],salary_min:[null],category:[null],is_active:[!0],email_notifications:[!0]})}openCreateDialog(){this.editingAlert=null,this.alertForm.reset({is_active:!0,email_notifications:!0}),this.showDialog=!0}openEditDialog(e){this.editingAlert=e,this.alertForm.patchValue({title:e.title||"",keywords:e.keywords||"",city:e.city||"",job_type:e.job_type||"",experience_level:e.experience_level||"",salary_min:e.salary_min||null,category:e.category||null,is_active:e.is_active!==void 0?e.is_active:!0,email_notifications:e.email_notifications!==void 0?e.email_notifications:!0}),this.showDialog=!0}closeDialog(){this.showDialog=!1,this.editingAlert=null,this.alertForm.reset({is_active:!0,email_notifications:!0})}saveAlert(){if(this.alertForm.invalid){this.alertForm.markAllAsTouched(),this.toastr.error("\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629");return}let e=this.alertForm.value,t={title:e.title,keywords:e.keywords||void 0,city:e.city||void 0,job_type:e.job_type||void 0,experience_level:e.experience_level||void 0,salary_min:e.salary_min?Number(e.salary_min):void 0,category:e.category?Number(e.category):void 0,is_active:e.is_active!==void 0?e.is_active:!0,email_notifications:e.email_notifications!==void 0?e.email_notifications:!0};this.editingAlert?this.alertsStore.updateAlert(this.editingAlert.id,t).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062A\u0646\u0628\u064A\u0647 \u0628\u0646\u062C\u0627\u062D"),this.closeDialog()},error:i=>{this.errors.error(i,{join:!0})}}):this.alertsStore.createAlert(t).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062A\u0646\u0628\u064A\u0647 \u0628\u0646\u062C\u0627\u062D"),this.closeDialog()},error:i=>{this.errors.error(i,{join:!0})}})}deleteAlert(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u062A\u0646\u0628\u064A\u0647\u061F")&&this.alertsStore.deleteAlert(e.id).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u062A\u0646\u0628\u064A\u0647 \u0628\u0646\u062C\u0627\u062D")},error:t=>{this.errors.error(t,{join:!0})}})}toggleAlertStatus(e){let t={is_active:!e.is_active};this.alertsStore.patchAlert(e.id,t).subscribe({next:i=>{this.toastr.success(i.is_active?"\u062A\u0645 \u062A\u0641\u0639\u064A\u0644 \u0627\u0644\u062A\u0646\u0628\u064A\u0647":"\u062A\u0645 \u062A\u0639\u0637\u064A\u0644 \u0627\u0644\u062A\u0646\u0628\u064A\u0647")},error:i=>{this.errors.error(i,{join:!0})}})}getCityLabel(e){if(!e)return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";let t=this.jobCities.find(i=>i.value===e);return t?t.label:e}getJobTypeLabel(e){if(!e)return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";let t=this.jobTypes.find(i=>i.value===e);return t?t.label:e}getExperienceLevelLabel(e){if(!e)return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";let t=this.experienceLevels.find(i=>i.value===e);return t?t.label:e}getCategoryName(e){if(!e)return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";let t=this.categories.find(i=>i.id===e);return t?t.name:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ue(r)))(i||r)}})();static \u0275cmp=w({type:r,selectors:[["app-alerts"]],standalone:!1,features:[de],decls:55,vars:28,consts:[["id","alerts"],[1,"dashboard-header"],[1,"dashboard-title"],[1,"dashboard-actions"],[1,"btn","btn-primary",3,"click"],[1,"content-card"],[1,"loading-indicator"],[1,"empty-state"],[1,"alerts-list"],[3,"visibleChange","onHide","visible","modal","header","draggable","resizable"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","title",1,"form-label"],["pInputText","","id","title","formControlName","title","placeholder","\u0645\u062B\u0627\u0644: \u0645\u0637\u0648\u0631 \u062A\u0637\u0628\u064A\u0642\u0627\u062A \u0627\u0644\u0648\u064A\u0628"],[1,"p-error"],["for","keywords",1,"form-label"],["pInputText","","id","keywords","formControlName","keywords","placeholder","\u0645\u062B\u0627\u0644: Angular, React, Node.js"],[1,"form-row"],["for","city",1,"form-label"],["id","city","formControlName","city","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u062F\u064A\u0646\u0629",3,"options","showClear"],["for","job_type",1,"form-label"],["id","job_type","formControlName","job_type","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064A\u0641\u0629",3,"options","showClear"],["for","experience_level",1,"form-label"],["id","experience_level","formControlName","experience_level","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u0628\u0631\u0629",3,"options","showClear"],["for","category",1,"form-label"],["id","category","formControlName","category","optionLabel","name","optionValue","id","placeholder","\u0627\u062E\u062A\u0631 \u0627\u0644\u0641\u0626\u0629",3,"options","showClear"],["for","salary_min",1,"form-label"],["id","salary_min","formControlName","salary_min","placeholder","\u0645\u062B\u0627\u0644: 5000","styleClass","w-full",3,"min","useGrouping"],[1,"form-group","checkbox-group"],["formControlName","is_active","inputId","is_active",3,"binary"],["for","is_active",1,"checkbox-label"],["formControlName","email_notifications","inputId","email_notifications",3,"binary"],["for","email_notifications",1,"checkbox-label"],[1,"dialog-actions"],["type","button","label","\u0625\u0644\u063A\u0627\u0621","styleClass","p-button-secondary",3,"onClick"],["type","submit","styleClass","p-button-primary",3,"label","disabled"],[1,"empty-state-icon"],[1,"alert-item",3,"inactive"],[1,"alert-item"],[1,"alert-header"],[1,"alert-title-section"],[1,"alert-title"],[1,"alert-status"],[1,"alert-actions"],[1,"btn-icon",3,"click","title"],["title","\u062A\u0639\u062F\u064A\u0644",1,"btn-icon",3,"click"],["title","\u062D\u0630\u0641",1,"btn-icon","btn-danger",3,"click"],[1,"alert-details"],[1,"alert-detail"],[1,"detail-label"],[1,"detail-value"]],template:function(t,i){if(t&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),o(3,"\u062A\u0646\u0628\u064A\u0647\u0627\u062A \u0627\u0644\u0648\u0638\u0627\u0626\u0641"),n(),a(4,"div",3)(5,"button",4),m("click",function(){return i.openCreateDialog()}),o(6," \u0625\u0646\u0634\u0627\u0621 \u062A\u0646\u0628\u064A\u0647 \u062C\u062F\u064A\u062F "),n()()(),a(7,"div",5),v(8,Fi,3,0,"div",6)(9,Ti,9,0,"div",7)(10,Vi,3,0,"div",8),n()(),a(11,"p-dialog",9),S("visibleChange",function(u){return M(i.showDialog,u)||(i.showDialog=u),u}),m("onHide",function(){return i.closeDialog()}),a(12,"form",10),m("ngSubmit",function(){return i.saveAlert()}),a(13,"div",11)(14,"label",12),o(15,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u062A\u0646\u0628\u064A\u0647 *"),n(),b(16,"input",13),v(17,Ri,2,0,"small",14),n(),a(18,"div",11)(19,"label",15),o(20,"\u0627\u0644\u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0641\u062A\u0627\u062D\u064A\u0629"),n(),b(21,"input",16),n(),a(22,"div",17)(23,"div",11)(24,"label",18),o(25,"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"),n(),b(26,"p-select",19),n(),a(27,"div",11)(28,"label",20),o(29,"\u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064A\u0641\u0629"),n(),b(30,"p-select",21),n()(),a(31,"div",17)(32,"div",11)(33,"label",22),o(34,"\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u0628\u0631\u0629"),n(),b(35,"p-select",23),n(),a(36,"div",11)(37,"label",24),o(38,"\u0627\u0644\u0641\u0626\u0629"),n(),b(39,"p-select",25),n()(),a(40,"div",11)(41,"label",26),o(42,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0631\u0627\u062A\u0628 (\u0631\u064A\u0627\u0644)"),n(),b(43,"p-inputNumber",27),n(),a(44,"div",28),b(45,"p-checkbox",29),a(46,"label",30),o(47,"\u0627\u0644\u062A\u0646\u0628\u064A\u0647 \u0646\u0634\u0637"),n()(),a(48,"div",28),b(49,"p-checkbox",31),a(50,"label",32),o(51,"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),n()(),a(52,"div",33)(53,"p-button",34),m("onClick",function(){return i.closeDialog()}),n(),b(54,"p-button",35),n()()()),t&2){let s,u;l(8),h(i.loading?8:i.alerts.length===0?9:10),l(3),Oe(pe(27,Di)),y("visible",i.showDialog),c("modal",!0)("header",i.editingAlert?"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062A\u0646\u0628\u064A\u0647":"\u0625\u0646\u0634\u0627\u0621 \u062A\u0646\u0628\u064A\u0647 \u062C\u062F\u064A\u062F")("draggable",!1)("resizable",!1),l(),c("formGroup",i.alertForm),l(4),I("p-invalid",((s=i.alertForm.get("title"))==null?null:s.invalid)&&((s=i.alertForm.get("title"))==null?null:s.touched)),l(),h((u=i.alertForm.get("title"))!=null&&u.invalid&&((u=i.alertForm.get("title"))!=null&&u.touched)?17:-1),l(9),c("options",i.jobCities)("showClear",!0),l(4),c("options",i.jobTypes)("showClear",!0),l(5),c("options",i.experienceLevels)("showClear",!0),l(4),c("options",i.categories)("showClear",!0),l(4),c("min",0)("useGrouping",!0),l(2),c("binary",!0),l(4),c("binary",!0),l(5),c("label",Pt(i.editingAlert?"\u062A\u062D\u062F\u064A\u062B":"\u0625\u0646\u0634\u0627\u0621"))("disabled",i.alertForm.invalid)}},dependencies:[ne,ee,te,ie,zt,Ke,Ze,et,tt,it,Me,qt,Dt],styles:["#alerts[_ngcontent-%COMP%]{padding:2rem 0}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.dashboard-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--gray-900, #1a1a1a);margin:0}.dashboard-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.content-card[_ngcontent-%COMP%]{background:var(--white, #ffffff);border-radius:var(--radius-lg, 8px);box-shadow:var(--shadow-sm, 0 2px 4px rgba(0, 0, 0, .1));border:1px solid var(--gray-200, #e0e0e0);overflow:hidden;padding:1.5rem}.loading-indicator[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem}.empty-state-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--gray-900, #1a1a1a);margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray-600, #666);margin:0 0 1.5rem}.alerts-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.alert-item[_ngcontent-%COMP%]{background:var(--white, #ffffff);border:1px solid var(--gray-200, #e0e0e0);border-radius:var(--radius-md, 6px);padding:1.5rem;transition:all .2s}.alert-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a;border-color:var(--primary-color, #007bff)}.alert-item.inactive[_ngcontent-%COMP%]{opacity:.7;background:var(--gray-50, #f5f5f5)}.alert-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem;gap:1rem}.alert-title-section[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.alert-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--gray-900, #1a1a1a);margin:0}.alert-status[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:var(--radius-lg, 8px);font-size:.75rem;font-weight:600;white-space:nowrap}.alert-status.active[_ngcontent-%COMP%]{background:var(--green-100, #d4edda);color:var(--green-700, #155724)}.alert-status.inactive[_ngcontent-%COMP%]{background:var(--gray-200, #e0e0e0);color:var(--gray-600, #666)}.alert-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-icon[_ngcontent-%COMP%]{background:none;border:1px solid var(--gray-300, #d0d0d0);border-radius:var(--radius-md, 6px);padding:.5rem;cursor:pointer;font-size:1.2rem;transition:all .2s;min-width:36px;height:36px;display:flex;align-items:center;justify-content:center}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--gray-100, #f0f0f0);border-color:var(--gray-400, #b0b0b0)}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover{background:var(--red-100, #f8d7da);border-color:var(--red-300, #f5c6cb);color:var(--red-700, #721c24)}.alert-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.75rem}.alert-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.detail-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--gray-500, #999);font-weight:500}.detail-value[_ngcontent-%COMP%]{font-size:.9rem;color:var(--gray-800, #333);font-weight:500}  .p-dialog .form-group{margin-bottom:1.25rem}  .p-dialog .form-label{display:block;margin-bottom:.5rem;font-weight:600;color:var(--gray-700, #555);font-size:.9rem}  .p-dialog .form-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem}  .p-dialog .checkbox-group{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}  .p-dialog .checkbox-label{margin:0;font-weight:500;cursor:pointer}  .p-dialog .dialog-actions{display:flex;justify-content:flex-end;gap:1rem;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--gray-200, #e0e0e0)}  .p-dialog .p-inputtext,   .p-dialog .p-select,   .p-dialog .p-inputnumber{width:100%}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:var(--radius-md, 6px);font-weight:600;cursor:pointer;border:none;transition:all .2s;font-size:.95rem}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#0056b3,#004085);transform:translateY(-1px);box-shadow:0 4px 8px #007bff4d}.btn.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.alert-header[_ngcontent-%COMP%]{flex-direction:column}.alert-title-section[_ngcontent-%COMP%]{width:100%}.alert-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.alert-details[_ngcontent-%COMP%]{grid-template-columns:1fr}  .p-dialog .form-row{grid-template-columns:1fr}}"]})};var ze=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=w({type:r,selectors:[["app-settings"]],standalone:!1,decls:7,vars:0,consts:[["id","settings"],[1,"dashboard-header"],[1,"dashboard-title"],[1,"content-card"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),o(3,"\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A"),n()(),a(4,"div",3)(5,"p"),o(6,"\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u062D\u0633\u0627\u0628 \u0633\u062A\u062A\u0645 \u0647\u0646\u0627..."),n()()())},encapsulation:2})};function Wi(r,e){if(r&1){let t=A();a(0,"div",20)(1,"button",34),m("click",function(){let s=g(t).$index,u=d();return f(u.removeExperience(s))}),o(2,"\xD7"),n(),a(3,"div",8)(4,"div",9)(5,"label",10),o(6,"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A"),n(),a(7,"input",35),S("ngModelChange",function(s){let u=g(t).$implicit;return M(u.title,s)||(u.title=s),f(s)}),n()(),a(8,"div",9)(9,"label",10),o(10,"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629"),n(),a(11,"input",36),S("ngModelChange",function(s){let u=g(t).$implicit;return M(u.company,s)||(u.company=s),f(s)}),n()()(),a(12,"div",8)(13,"div",9)(14,"label",10),o(15,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0628\u062F\u0627\u064A\u0629"),n(),a(16,"input",37),S("ngModelChange",function(s){let u=g(t).$implicit;return M(u.start,s)||(u.start=s),f(s)}),n()(),a(17,"div",9)(18,"label",10),o(19,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0646\u0647\u0627\u064A\u0629"),n(),a(20,"input",38),S("ngModelChange",function(s){let u=g(t).$implicit;return M(u.end,s)||(u.end=s),f(s)}),n()()(),a(21,"div",9)(22,"label",10),o(23,"\u0648\u0635\u0641 \u0627\u0644\u0645\u0647\u0627\u0645"),n(),a(24,"textarea",39),S("ngModelChange",function(s){let u=g(t).$implicit;return M(u.description,s)||(u.description=s),f(s)}),n()()()}if(r&2){let t=e.$implicit,i=e.$index;l(7),c("name",Y("expTitle",i)),y("ngModel",t.title),l(4),c("name",Y("expCompany",i)),y("ngModel",t.company),l(5),c("name",Y("expStart",i)),y("ngModel",t.start),l(4),c("name",Y("expEnd",i)),y("ngModel",t.end),l(4),c("name",Y("expDesc",i)),y("ngModel",t.description)}}function Ui(r,e){if(r&1){let t=A();a(0,"div",20)(1,"button",34),m("click",function(){let s=g(t).$index,u=d();return f(u.removeEducation(s))}),o(2,"\xD7"),n(),a(3,"div",8)(4,"div",9)(5,"label",10),o(6,"\u0627\u0644\u062F\u0631\u062C\u0629 \u0627\u0644\u0639\u0644\u0645\u064A\u0629"),n(),a(7,"input",40),S("ngModelChange",function(s){let u=g(t).$implicit;return M(u.degree,s)||(u.degree=s),f(s)}),n()(),a(8,"div",9)(9,"label",10),o(10,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0624\u0633\u0633\u0629"),n(),a(11,"input",41),S("ngModelChange",function(s){let u=g(t).$implicit;return M(u.institution,s)||(u.institution=s),f(s)}),n()()(),a(12,"div",8)(13,"div",9)(14,"label",10),o(15,"\u0633\u0646\u0629 \u0627\u0644\u062A\u062E\u0631\u062C"),n(),a(16,"input",42),S("ngModelChange",function(s){let u=g(t).$implicit;return M(u.year,s)||(u.year=s),f(s)}),n()(),a(17,"div",9)(18,"label",10),o(19,"\u0627\u0644\u062A\u0642\u062F\u064A\u0631"),n(),a(20,"input",43),S("ngModelChange",function(s){let u=g(t).$implicit;return M(u.grade,s)||(u.grade=s),f(s)}),n()()()()}if(r&2){let t=e.$implicit,i=e.$index;l(7),c("name",Y("eduDegree",i)),y("ngModel",t.degree),l(4),c("name",Y("eduInst",i)),y("ngModel",t.institution),l(5),c("name",Y("eduYear",i)),y("ngModel",t.year),l(4),c("name",Y("eduGrade",i)),y("ngModel",t.grade)}}function Gi(r,e){if(r&1&&(a(0,"div",31)(1,"div",44),o(2,"\u0646\u0628\u0630\u0629 \u0645\u062E\u062A\u0635\u0631\u0629"),n(),a(3,"div"),o(4),n()()),r&2){let t=d();l(4),p(t.model.summary)}}function Hi(r,e){if(r&1&&(a(0,"div",51),o(1),n()),r&2){let t=d().$implicit;l(),p(t.description)}}function Yi(r,e){if(r&1&&(a(0,"div",46)(1,"div",47)(2,"div")(3,"div",48),o(4),n(),a(5,"div",49),o(6),n()(),a(7,"div",50),o(8),n()(),v(9,Hi,2,1,"div",51),n()),r&2){let t=e.$implicit;l(4),p(t.title),l(2),p(t.company),l(2),He("",t.start," - ",t.end),l(),h(t.description?9:-1)}}function qi(r,e){if(r&1&&(a(0,"div",31)(1,"div",44),o(2,"\u0627\u0644\u062E\u0628\u0631\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0629"),n(),a(3,"div",45),F(4,Yi,10,5,"div",46,ce),n()()),r&2){let t=d();l(4),T(t.experiences)}}function Xi(r,e){if(r&1&&(a(0,"div",51),o(1),n()),r&2){let t=d().$implicit;l(),x("\u0627\u0644\u062A\u0642\u062F\u064A\u0631: ",t.grade)}}function Ki(r,e){if(r&1&&(a(0,"div",46)(1,"div",47)(2,"div")(3,"div",48),o(4),n(),a(5,"div",49),o(6),n()(),a(7,"div",50),o(8),n()(),U(9,Xi,2,1,"div",53),n()),r&2){let t=e.$implicit;l(4),p(t.degree),l(2),p(t.institution),l(2),p(t.year),l(),c("ngIf",t.grade)}}function Qi(r,e){if(r&1&&(a(0,"div",31)(1,"div",44),o(2,"\u0627\u0644\u062A\u0639\u0644\u064A\u0645"),n(),a(3,"div",52),F(4,Ki,10,4,"div",46,ce),n()()),r&2){let t=d();l(4),T(t.educations)}}function Zi(r,e){if(r&1&&(a(0,"span",55),o(1),n()),r&2){let t=e.$implicit;l(),p(t)}}function en(r,e){if(r&1&&(a(0,"div",31)(1,"div",44),o(2,"\u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062A"),n(),a(3,"div",54),F(4,Zi,2,1,"span",55,ce),n()()),r&2){let t=d();l(4),T(t.skillsList)}}var $e=class r{model={firstName:"",lastName:"",jobTitle:"",email:"",phone:"",city:"",website:"",summary:"",skills:""};experiences=[];educations=[];addExperience(){this.experiences.push({title:"",company:"",start:"",end:"",description:""})}removeExperience(e){this.experiences.splice(e,1)}addEducation(){this.educations.push({degree:"",institution:"",year:"",grade:""})}removeEducation(e){this.educations.splice(e,1)}get skillsList(){return(this.model.skills||"").split(",").map(e=>e.trim()).filter(Boolean)}printCV(){let e=document.getElementById("cvPreview");if(!e)return;let t=window.open("","_blank");t&&(t.document.write(`
      <html dir="rtl"><head><title>\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629</title>
      <meta charset="utf-8">
      <style>
        body{font-family: Cairo,Arial,sans-serif; direction: rtl; padding:20px;}
        .cv-header{ text-align:center; margin-bottom:20px; padding-bottom:10px; border-bottom:2px solid #3b82f6;}
        .cv-name{ font-size:2rem; font-weight:700; color:#3b82f6; margin-bottom:6px;}
        .cv-title{ color:#6b7280; margin-bottom:12px;}
        .cv-section-title{ color:#3b82f6; font-weight:600; margin:18px 0 10px; padding-bottom:6px; border-bottom:1px solid #d1d5db;}
        .cv-item{ margin-bottom:12px;}
        .skill-tag{ background:#3b82f6; color:#fff; padding:3px 10px; border-radius:16px; margin:0 6px 6px 0; display:inline-block; }
      </style>
      </head><body>${e.innerHTML}</body></html>
    `),t.document.close(),t.print())}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=w({type:r,selectors:[["app-cv-builder"]],standalone:!1,decls:94,vars:18,consts:[[1,"main-content"],[1,"hero-small"],[1,"container"],[1,"section-padding"],[1,"cv-builder-container"],[1,"cv-form-section"],[1,"form-section"],[1,"section-title"],[1,"form-row"],[1,"form-group"],[1,"form-label"],["name","firstName","placeholder","\u0623\u062D\u0645\u062F",1,"form-control",3,"ngModelChange","ngModel"],["name","lastName","placeholder","\u0645\u062D\u0645\u062F",1,"form-control",3,"ngModelChange","ngModel"],["name","jobTitle","placeholder","\u0645\u0637\u0648\u0631 \u0628\u0631\u0645\u062C\u064A\u0627\u062A",1,"form-control",3,"ngModelChange","ngModel"],["name","email","type","email","placeholder","ahmed@example.com",1,"form-control",3,"ngModelChange","ngModel"],["name","phone","placeholder","+967 123 456 789",1,"form-control",3,"ngModelChange","ngModel"],["name","city","placeholder","\u0635\u0646\u0639\u0627\u0621",1,"form-control",3,"ngModelChange","ngModel"],["name","website","placeholder","https://portfolio.com",1,"form-control",3,"ngModelChange","ngModel"],["name","summary","placeholder","\u0645\u0637\u0648\u0631 \u0628\u0631\u0645\u062C\u064A\u0627\u062A \u0645\u062A\u062E\u0635\u0635 ...",1,"form-control",3,"ngModelChange","ngModel"],["id","experienceContainer"],[1,"dynamic-item"],["type","button",1,"add-item-btn",3,"click"],["id","educationContainer"],["name","skills","placeholder","JavaScript, Angular, Node.js",1,"form-control",3,"ngModelChange","ngModel"],[1,"cv-preview-section"],["id","cvPreview",1,"cv-preview"],[1,"cv-header"],[1,"cv-name"],[1,"cv-title"],[1,"cv-contact"],["class","cv-section",4,"ngIf"],[1,"cv-section"],[1,"cv-actions"],[1,"btn","btn-primary",3,"click"],["type","button",1,"remove-item",3,"click"],["placeholder","\u0645\u0637\u0648\u0631 \u0648\u064A\u0628",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u0634\u0631\u0643\u0629 \u0627\u0644\u062A\u0642\u0646\u064A\u0627\u062A",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u064A\u0646\u0627\u064A\u0631 2020",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u0627\u0644\u062D\u0627\u0644\u064A",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u0648\u0635\u0641 \u0627\u0644\u0645\u0647\u0627\u0645 \u0648\u0627\u0644\u0625\u0646\u062C\u0627\u0632\u0627\u062A...",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u0628\u0643\u0627\u0644\u0648\u0631\u064A\u0648\u0633 \u0639\u0644\u0648\u0645 \u0627\u0644\u062D\u0627\u0633\u0648\u0628",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u062C\u0627\u0645\u0639\u0629 \u0635\u0646\u0639\u0627\u0621",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","2019",1,"form-control",3,"ngModelChange","ngModel","name"],["placeholder","\u0627\u0645\u062A\u064A\u0627\u0632",1,"form-control",3,"ngModelChange","ngModel","name"],[1,"cv-section-title"],["id","previewExperience"],[1,"cv-item"],[1,"cv-item-header"],[1,"cv-item-title"],[1,"cv-item-company"],[1,"cv-item-date"],[1,"cv-item-description"],["id","previewEducation"],["class","cv-item-description",4,"ngIf"],[1,"skills-list"],[1,"skill-tag"]],template:function(t,i){t&1&&(a(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1"),o(4,"\u0645\u0646\u0634\u0626 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"),n(),a(5,"p"),o(6,"\u0623\u0646\u0634\u0626 \u0633\u064A\u0631\u0629 \u0630\u0627\u062A\u064A\u0629 \u0627\u062D\u062A\u0631\u0627\u0641\u064A\u0629 \u0645\u062C\u0627\u0646\u0627\u064B \u0641\u064A \u062F\u0642\u0627\u0626\u0642 \u0645\u0639\u062F\u0648\u062F\u0629"),n()()(),a(7,"section",3)(8,"div",2)(9,"div",4)(10,"div",5)(11,"form")(12,"div",6)(13,"h2",7),o(14,"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u062E\u0635\u064A\u0629"),n(),a(15,"div",8)(16,"div",9)(17,"label",10),o(18,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644"),n(),a(19,"input",11),S("ngModelChange",function(u){return M(i.model.firstName,u)||(i.model.firstName=u),u}),n()(),a(20,"div",9)(21,"label",10),o(22,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062E\u064A\u0631"),n(),a(23,"input",12),S("ngModelChange",function(u){return M(i.model.lastName,u)||(i.model.lastName=u),u}),n()()(),a(24,"div",9)(25,"label",10),o(26,"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A"),n(),a(27,"input",13),S("ngModelChange",function(u){return M(i.model.jobTitle,u)||(i.model.jobTitle=u),u}),n()(),a(28,"div",8)(29,"div",9)(30,"label",10),o(31,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),n(),a(32,"input",14),S("ngModelChange",function(u){return M(i.model.email,u)||(i.model.email=u),u}),n()(),a(33,"div",9)(34,"label",10),o(35,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),n(),a(36,"input",15),S("ngModelChange",function(u){return M(i.model.phone,u)||(i.model.phone=u),u}),n()()(),a(37,"div",8)(38,"div",9)(39,"label",10),o(40,"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"),n(),a(41,"input",16),S("ngModelChange",function(u){return M(i.model.city,u)||(i.model.city=u),u}),n()(),a(42,"div",9)(43,"label",10),o(44,"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),n(),a(45,"input",17),S("ngModelChange",function(u){return M(i.model.website,u)||(i.model.website=u),u}),n()()(),a(46,"div",9)(47,"label",10),o(48,"\u0646\u0628\u0630\u0629 \u0645\u062E\u062A\u0635\u0631\u0629"),n(),a(49,"textarea",18),S("ngModelChange",function(u){return M(i.model.summary,u)||(i.model.summary=u),u}),n()()(),a(50,"div",6)(51,"h2",7),o(52,"\u0627\u0644\u062E\u0628\u0631\u0629 \u0627\u0644\u0639\u0645\u0644\u064A\u0629"),n(),a(53,"div",19),F(54,Wi,25,15,"div",20,ce),n(),a(56,"button",21),m("click",function(){return i.addExperience()}),o(57,"+ \u0625\u0636\u0627\u0641\u0629 \u062E\u0628\u0631\u0629 \u0639\u0645\u0644\u064A\u0629"),n()(),a(58,"div",6)(59,"h2",7),o(60,"\u0627\u0644\u062A\u0639\u0644\u064A\u0645"),n(),a(61,"div",22),F(62,Ui,21,12,"div",20,ce),n(),a(64,"button",21),m("click",function(){return i.addEducation()}),o(65,"+ \u0625\u0636\u0627\u0641\u0629 \u0645\u0624\u0647\u0644 \u062A\u0639\u0644\u064A\u0645\u064A"),n()(),a(66,"div",6)(67,"h2",7),o(68,"\u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062A"),n(),a(69,"div",9)(70,"label",10),o(71,"\u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062A (\u0627\u0641\u0635\u0644 \u0628\u064A\u0646\u0647\u0627 \u0628\u0641\u0627\u0635\u0644\u0629)"),n(),a(72,"textarea",23),S("ngModelChange",function(u){return M(i.model.skills,u)||(i.model.skills=u),u}),n()()()()(),a(73,"div",24)(74,"div",25)(75,"div",26)(76,"div",27),o(77),n(),a(78,"div",28),o(79),n(),a(80,"div",29)(81,"span"),o(82),n(),a(83,"span"),o(84),n(),a(85,"span"),o(86),n()()(),U(87,Gi,5,1,"div",30),v(88,qi,6,0,"div",31),v(89,Qi,6,0,"div",31),v(90,en,6,0,"div",31),n(),a(91,"div",32)(92,"button",33),m("click",function(){return i.printCV()}),o(93,"\u0637\u0628\u0627\u0639\u0629"),n()()()()()()()),t&2&&(l(19),y("ngModel",i.model.firstName),l(4),y("ngModel",i.model.lastName),l(4),y("ngModel",i.model.jobTitle),l(5),y("ngModel",i.model.email),l(4),y("ngModel",i.model.phone),l(5),y("ngModel",i.model.city),l(4),y("ngModel",i.model.website),l(4),y("ngModel",i.model.summary),l(5),T(i.experiences),l(8),T(i.educations),l(10),y("ngModel",i.model.skills),l(5),x(" ",(i.model.firstName||"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644")+" "+(i.model.lastName||"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062E\u064A\u0631")," "),l(2),p(i.model.jobTitle||"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064A\u0641\u064A"),l(3),p(i.model.email||"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),l(2),p(i.model.phone||"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),l(2),p(i.model.city||"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"),l(),c("ngIf",i.model.summary),l(),h(i.experiences.length?88:-1),l(),h(i.educations.length?89:-1),l(),h(i.skillsList.length?90:-1))},dependencies:[Z,ne,ee,te,ie,he,Qe],styles:[".cv-builder-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:2rem;min-height:calc(100vh - 160px)}.cv-form-section[_ngcontent-%COMP%]{background:var(--white);padding:2rem;border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--gray-200);height:fit-content}.cv-preview-section[_ngcontent-%COMP%]{background:var(--white);padding:2rem;border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--gray-200);position:sticky;top:2rem;height:fit-content;max-height:calc(100vh - 200px);overflow-y:auto}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid var(--gray-200)}.form-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.section-title[_ngcontent-%COMP%]{font-size:var(--font-size-xl);font-weight:600;margin-bottom:1.5rem;color:var(--primary-color)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--gray-700)}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--gray-300);border-radius:var(--radius-md);font-size:var(--font-size-base);transition:border-color var(--transition-fast)}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #3b82f61a}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.add-item-btn[_ngcontent-%COMP%]{background:var(--gray-100);border:1px dashed var(--gray-300);color:var(--gray-600);padding:.75rem 1rem;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);width:100%;margin-top:1rem}.add-item-btn[_ngcontent-%COMP%]:hover{background:var(--gray-200);border-color:var(--gray-400)}.dynamic-item[_ngcontent-%COMP%]{background:var(--gray-50);padding:1rem;border-radius:var(--radius-md);margin-bottom:1rem;position:relative}.remove-item[_ngcontent-%COMP%]{position:absolute;top:.5rem;left:.5rem;background:var(--error-color);color:var(--white);border:none;border-radius:50%;width:24px;height:24px;cursor:pointer;font-size:12px}.cv-preview[_ngcontent-%COMP%]{font-family:Cairo,sans-serif;line-height:1.6;color:var(--gray-900)}.cv-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid var(--primary-color)}.cv-name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5rem;color:var(--primary-color)}.cv-title[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--gray-600);margin-bottom:1rem}.cv-contact[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap;font-size:.9rem;color:var(--gray-600)}.cv-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.cv-section-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:var(--primary-color);margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid var(--gray-300)}.cv-item[_ngcontent-%COMP%]{margin-bottom:1rem}.cv-item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.5rem}.cv-item-title[_ngcontent-%COMP%]{font-weight:600;color:var(--gray-900)}.cv-item-date[_ngcontent-%COMP%]{color:var(--gray-600);font-size:.9rem}.cv-item-company[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500;margin-bottom:.25rem}.cv-item-description[_ngcontent-%COMP%]{color:var(--gray-700);font-size:.95rem}.skills-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.skill-tag[_ngcontent-%COMP%]{background:var(--primary-color);color:var(--white);padding:.25rem .75rem;border-radius:var(--radius-lg);font-size:.85rem}.cv-actions[_ngcontent-%COMP%]{margin-top:2rem;display:flex;gap:1rem;justify-content:center}@media (max-width: 768px){.cv-builder-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.cv-preview-section[_ngcontent-%COMP%]{position:static;max-height:none}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.cv-contact[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.5rem}.cv-item-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}"]})};var lt=class r{auth=_(Xe);applicationService=_(ve);trigger$=new O;loaded=!1;loadingSubject=new $(!1);loading$=this.loadingSubject.asObservable();applications$=this.trigger$.pipe(H(()=>this.auth.isLoggedIn()),V(()=>(this.loadingSubject.next(!0),this.loadApplicationsData())),E(()=>{this.loaded=!0,this.loadingSubject.next(!1)}),R({bufferSize:1,refCount:!0}));applications=q(this.applications$,{initialValue:{applications:[],statusCounts:{all:0,pending:0,reviewed:0,accepted:0,rejected:0}}});_snapshot={applications:[],statusCounts:{all:0,pending:0,reviewed:0,accepted:0,rejected:0}};get snapshot(){return this._snapshot}loadApplicationsData(){return this.applicationService.getMyApplications().pipe(L(e=>{let t=e.results||[],i=this.calculateStatusCounts(t),s={applications:t,statusCounts:i};return this._snapshot=s,s}),J(e=>{console.error("Failed to load applications",e);let t={applications:[],statusCounts:{all:0,pending:0,reviewed:0,accepted:0,rejected:0}};return this._snapshot=t,B(t)}))}calculateStatusCounts(e){return{all:e.length,pending:e.filter(t=>t.status==="pending").length,reviewed:e.filter(t=>t.status==="reviewed").length,accepted:e.filter(t=>t.status==="accepted").length,rejected:e.filter(t=>t.status==="rejected").length}}getFilteredApplications(e){let t=this._snapshot.applications;return e==="all"?t:t.filter(i=>i.status===e)}ensureLoaded(){this.auth.isLoggedIn()&&(this.loaded||this.loadingSubject.value||this.trigger$.next())}refresh(){this.auth.isLoggedIn()&&(this.loadingSubject.value||(this.loaded=!1,this.trigger$.next()))}reset(){this.loaded=!1,this.loadingSubject.next(!1),this._snapshot={applications:[],statusCounts:{all:0,pending:0,reviewed:0,accepted:0,rejected:0}}}static \u0275fac=function(t){return new(t||r)};static \u0275prov=W({token:r,factory:r.\u0275fac,providedIn:"root"})};var tn=r=>["/jobseeker/job-details",r],nn=r=>["/company",r],an=(r,e)=>e.id;function rn(r,e){r&1&&(a(0,"div",8)(1,"p"),o(2,"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0637\u0644\u0628\u0627\u062A..."),n()())}function on(r,e){r&1&&(a(0,"div",9)(1,"p"),o(2,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A \u0641\u064A \u0647\u0630\u0647 \u0627\u0644\u0641\u0626\u0629."),n(),a(3,"a",4),o(4,"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0648\u0638\u0627\u0626\u0641 \u062C\u062F\u064A\u062F\u0629"),n()())}function ln(r,e){if(r&1&&(a(0,"div",11),b(1,"img",12),a(2,"div",13)(3,"h4",14)(4,"a",15),o(5),n()(),a(6,"p",16)(7,"a",17),o(8),n()(),a(9,"div",18)(10,"span"),o(11),n(),a(12,"span"),o(13),n(),a(14,"span"),o(15),n()()(),a(16,"span",19),o(17),n()()),r&2){let t=e.$implicit,i=d(2);l(),c("src",i.getCompanyLogo(t.job.company.logo),j)("alt",t.job.company.name),l(3),c("routerLink",re(11,tn,t.job.slug)),l(),x(" ",t.job.title," "),l(2),c("routerLink",re(13,nn,t.job.company.slug)),l(),x(" ",t.job.company.name," "),l(3),x("\u062A\u0642\u062F\u0645\u062A \u0641\u064A ",i.formatDate(t.applied_at)),l(2),p(i.cityLabel(t.job.city)),l(2),x(" ",i.formatSalary(t.job.salary_min,t.job.salary_max)," "),l(),c("ngClass",i.getStatusClass(t.status)),l(),x(" ",i.getStatusLabel(t.status)," ")}}function sn(r,e){if(r&1&&(a(0,"div",10),F(1,ln,18,15,"div",11,an),n()),r&2){let t=d();l(),T(t.filteredApplications)}}var Ne=class r extends Ce{applicationsStore=_(lt);applications=[];filteredApplications=[];activeTab="all";isLoading=!1;statusCounts={all:0,pending:0,reviewed:0,accepted:0,rejected:0};ngOnInit(){this.applicationsStore.loading$.subscribe(e=>{this.isLoading=e}),this.applicationsStore.ensureLoaded(),this.applicationsStore.applications$.subscribe({next:e=>{this.applications=e.applications,this.statusCounts=e.statusCounts,this.filterApplications()},error:e=>{this.errors.error(e,{join:!0}),this.applications=[],this.filteredApplications=[],this.statusCounts={all:0,pending:0,reviewed:0,accepted:0,rejected:0}}})}setActiveTab(e){this.activeTab=e,this.filterApplications()}filterApplications(){this.filteredApplications=this.applicationsStore.getFilteredApplications(this.activeTab)}refreshApplications(){this.applicationsStore.refresh()}formatDate(e){if(!e)return"";let t=new Date(e);return new Intl.DateTimeFormat("ar-SA",{year:"numeric",month:"long",day:"numeric"}).format(t)}formatSalary(e,t){return!e&&!t?"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F":e&&t?`${e.toLocaleString()}-${t.toLocaleString()} \u0631\u064A\u0627\u0644`:e?`${e.toLocaleString()}+ \u0631\u064A\u0627\u0644`:t?`\u062D\u062A\u0649 ${t.toLocaleString()} \u0631\u064A\u0627\u0644`:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}getStatusClass(e){return{pending:"status-pending",reviewed:"status-reviewed",accepted:"status-accepted",rejected:"status-rejected"}[e]||"status-pending"}getStatusLabel(e){return{pending:"\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629",reviewed:"\u062A\u0645\u062A \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629",accepted:"\u0645\u0642\u0628\u0648\u0644\u0629",rejected:"\u0645\u0631\u0641\u0648\u0636\u0629"}[e]||e}getCompanyLogo(e){return e?e.startsWith("http")?e:`${N.apiBaseUrl.replace(/\/+$/,"")}/${e.replace(/^\/+/,"")}`:"assets/images/company-placeholder.png"}cityLabel(e){return e?{sanaa:"\u0635\u0646\u0639\u0627\u0621",aden:"\u0639\u062F\u0646",taiz:"\u062A\u0639\u0632",hodeidah:"\u0627\u0644\u062D\u062F\u064A\u062F\u0629",ibb:"\u0625\u0628",mukalla:"\u0627\u0644\u0645\u0643\u0644\u0627",remote:"\u0639\u0645\u0644 \u0639\u0646 \u0628\u064F\u0639\u062F"}[e.toLowerCase()]||e:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ue(r)))(i||r)}})();static \u0275cmp=w({type:r,selectors:[["app-applications"]],standalone:!1,features:[de],decls:22,vars:16,consts:[["id","applications"],[1,"dashboard-header"],[1,"dashboard-title"],[1,"dashboard-actions"],["routerLink","/jobseeker/jobs",1,"btn","btn-primary"],[1,"content-card"],[1,"tab-navigation"],[1,"tab",3,"click"],[1,"loading-state"],[1,"empty-state"],[1,"applications-list"],[1,"application-item"],["title","\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",1,"application-logo",3,"src","alt"],[1,"application-info"],[1,"application-title"],[1,"application-title-link",3,"routerLink"],[1,"application-company"],[1,"company-link",3,"routerLink"],[1,"application-meta"],[1,"application-status",3,"ngClass"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),o(3,"\u0637\u0644\u0628\u0627\u062A\u064A"),n(),a(4,"div",3)(5,"a",4),o(6,"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0648\u0638\u0627\u0626\u0641 \u062C\u062F\u064A\u062F\u0629"),n()()(),a(7,"div",5)(8,"div",6)(9,"button",7),m("click",function(){return i.setActiveTab("all")}),o(10),n(),a(11,"button",7),m("click",function(){return i.setActiveTab("pending")}),o(12),n(),a(13,"button",7),m("click",function(){return i.setActiveTab("reviewed")}),o(14),n(),a(15,"button",7),m("click",function(){return i.setActiveTab("accepted")}),o(16),n(),a(17,"button",7),m("click",function(){return i.setActiveTab("rejected")}),o(18),n()(),v(19,rn,3,0,"div",8)(20,on,5,0,"div",9)(21,sn,3,0,"div",10),n()()),t&2&&(l(9),I("active",i.activeTab==="all"),l(),x(" \u062C\u0645\u064A\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062A (",i.statusCounts.all,") "),l(),I("active",i.activeTab==="pending"),l(),x(" \u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629 (",i.statusCounts.pending,") "),l(),I("active",i.activeTab==="reviewed"),l(),x(" \u062A\u0645\u062A \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629 (",i.statusCounts.reviewed,") "),l(),I("active",i.activeTab==="accepted"),l(),x(" \u0645\u0642\u0628\u0648\u0644\u0629 (",i.statusCounts.accepted,") "),l(),I("active",i.activeTab==="rejected"),l(),x(" \u0645\u0631\u0641\u0648\u0636\u0629 (",i.statusCounts.rejected,") "),l(),h(i.isLoading?19:i.filteredApplications.length===0?20:21))},dependencies:[ge,G],styles:["#applications[_ngcontent-%COMP%]{padding:2rem 0}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.dashboard-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--gray-900);margin:0}.dashboard-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.content-card[_ngcontent-%COMP%]{background:var(--white);border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--gray-200);overflow:hidden}.tab-navigation[_ngcontent-%COMP%]{display:flex;border-bottom:2px solid var(--gray-200);background:var(--gray-50);padding:0 1rem;gap:.5rem;overflow-x:auto;flex-wrap:nowrap}.tab[_ngcontent-%COMP%]{padding:1rem 1.5rem;border:none;background:transparent;color:var(--gray-600);font-weight:500;cursor:pointer;transition:all .2s;border-bottom:3px solid transparent;white-space:nowrap;font-size:.95rem}.tab[_ngcontent-%COMP%]:hover{color:var(--primary-color);background:var(--gray-100)}.tab.active[_ngcontent-%COMP%]{color:var(--primary-color);border-bottom-color:var(--primary-color);background:var(--white);font-weight:600}.applications-list[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.application-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem;border:1px solid var(--gray-200);border-radius:var(--radius-md);background:var(--white);transition:all .2s}.application-item[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-md);border-color:var(--primary-color);transform:translateY(-2px)}.application-logo[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:var(--radius-md);object-fit:cover;border:2px solid var(--gray-200);flex-shrink:0}.application-info[_ngcontent-%COMP%]{flex:1;min-width:0}.application-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--gray-900);margin:0 0 .5rem}.application-title-link[_ngcontent-%COMP%]{color:inherit;text-decoration:none;transition:color .2s}.application-title-link[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.application-company[_ngcontent-%COMP%]{font-size:.95rem;color:var(--gray-600);margin:0 0 .75rem}.company-link[_ngcontent-%COMP%]{color:inherit;text-decoration:none;transition:color .2s}.company-link[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.application-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;font-size:.875rem;color:var(--gray-500)}.application-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.application-status[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:var(--radius-lg);font-size:.875rem;font-weight:600;white-space:nowrap;flex-shrink:0}.status-pending[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.status-reviewed[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.status-accepted[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.status-rejected[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{padding:3rem 1.5rem;text-align:center;color:var(--gray-600)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin:0}@media (max-width: 768px){.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.tab-navigation[_ngcontent-%COMP%]{padding:0 .5rem}.tab[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.875rem}.application-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.application-logo[_ngcontent-%COMP%]{width:60px;height:60px}.application-status[_ngcontent-%COMP%]{align-self:flex-start}.application-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}",".btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:var(--radius-md, 6px);font-weight:600;cursor:pointer;border:none;transition:all .2s;font-size:.95rem}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#0056b3,#004085);transform:translateY(-1px);box-shadow:0 4px 8px #007bff4d}.btn.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]})};var st=class r{applicationService=_(ve);applicationsTrigger$=new O;messagesTrigger$=new O;loadingApplicationsSubject=new $(!1);loadingApplications$=this.loadingApplicationsSubject.asObservable();loadingMessagesSubject=new $(!1);loadingMessages$=this.loadingMessagesSubject.asObservable();applicationsLoaded=!1;messagesDataSubject=new $({applications:[],selectedApplication:null,messages:[],loadingApplications:!1,loadingMessages:!1});messages$=this.messagesDataSubject.asObservable();messages=q(this.messages$,{initialValue:{applications:[],selectedApplication:null,messages:[],loadingApplications:!1,loadingMessages:!1}});get snapshot(){return P({},this.messagesDataSubject.value)}loadApplicationsData(){return this.applicationService.getMyApplications({ordering:"-applied_at",pageSize:100}).pipe(L(e=>e.results||[]),J(e=>(console.error("Failed to load applications",e),B([]))))}loadMessagesData(e){return this.applicationService.getApplicationMessages(e).pipe(L(t=>Array.isArray(t)?t:[]),J(t=>(console.error("Failed to load messages",t),B([]))))}applicationsList$=this.applicationsTrigger$.pipe(V(()=>(this.loadingApplicationsSubject.next(!0),this.loadApplicationsData())),E(e=>{this.applicationsLoaded=!0,this.loadingApplicationsSubject.next(!1);let t=this.messagesDataSubject.value;this.messagesDataSubject.next(k(P({},t),{applications:e,loadingApplications:!1}))}),Q(this.messagesDataSubject.value.applications),R({bufferSize:1,refCount:!1}));applicationsSubscription=this.applicationsList$.subscribe();messagesForApplication$=this.messagesTrigger$.pipe(V(e=>(this.loadingMessagesSubject.next(!0),this.loadMessagesData(e))),E(e=>{this.loadingMessagesSubject.next(!1);let t=this.messagesDataSubject.value;this.messagesDataSubject.next(k(P({},t),{messages:e,loadingMessages:!1}))}),Q([]),R({bufferSize:1,refCount:!1}));messagesSubscription=this.messagesForApplication$.subscribe();loadApplications(){this.applicationsLoaded||this.applicationsTrigger$.next()}selectApplication(e){let t=this.messagesDataSubject.value;this.messagesDataSubject.next(k(P({},t),{selectedApplication:e,messages:[]})),this.loadMessages(e.id),e.is_viewed||this.applicationService.markApplicationAsViewed(e.id).subscribe({next:()=>{let i=t.applications.map(s=>s.id===e.id?k(P({},s),{is_viewed:!0}):s);this.messagesDataSubject.next(k(P({},t),{applications:i,selectedApplication:k(P({},e),{is_viewed:!0})}))},error:i=>{console.error("Failed to mark as viewed",i)}})}loadMessages(e){this.messagesTrigger$.next(e)}sendMessage(e,t){return this.applicationService.sendApplicationMessage(e,t).pipe(E(i=>{let s=this.messagesDataSubject.value,u=[...s.messages,i];this.messagesDataSubject.next(k(P({},s),{messages:u}))}))}clearSelection(){let e=this.messagesDataSubject.value;this.messagesDataSubject.next(k(P({},e),{selectedApplication:null,messages:[]}))}refreshApplications(){this.applicationsLoaded=!1,this.loadApplications()}refreshMessages(){let e=this.messagesDataSubject.value;e.selectedApplication&&this.loadMessages(e.selectedApplication.id)}reset(){this.applicationsLoaded=!1,this.loadingApplicationsSubject.next(!1),this.loadingMessagesSubject.next(!1),this.messagesDataSubject.next({applications:[],selectedApplication:null,messages:[],loadingApplications:!1,loadingMessages:!1})}static \u0275fac=function(t){return new(t||r)};static \u0275prov=W({token:r,factory:r.\u0275fac,providedIn:"root"})};var un=r=>["/jobseeker/job-details",r],Kt=(r,e)=>e.id;function dn(r,e){r&1&&(a(0,"div",7)(1,"p"),o(2,"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0637\u0644\u0628\u0627\u062A..."),n()())}function cn(r,e){r&1&&(a(0,"div",8)(1,"p"),o(2,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A \u0645\u062A\u0642\u062F\u0645\u0629"),n()())}function pn(r,e){if(r&1){let t=A();a(0,"img",22),m("error",function(s){g(t);let u=d(3);return f(u.handleImageError(s))}),n()}if(r&2){let t=d().$implicit,i=d(2);c("src",i.getCompanyLogo(t.job.company.logo),j)("alt",i.getCompanyName(t))}}function mn(r,e){r&1&&b(0,"span",21)}function gn(r,e){if(r&1){let t=A();a(0,"div",13),m("click",function(){let s=g(t).$implicit,u=d(2);return f(u.selectApplication(s))}),a(1,"div",14),v(2,pn,1,2,"img",15),a(3,"span"),o(4),n()(),a(5,"div",16)(6,"h4",17),o(7),n(),a(8,"p",18),o(9),n(),a(10,"p",19),o(11),n(),a(12,"span",20),o(13),n()(),v(14,mn,1,0,"span",21),n()}if(r&2){let t=e.$implicit,i=d(2);I("active",(i.selectedApplication==null?null:i.selectedApplication.id)===t.id),l(2),h(t.job&&t.job.company&&t.job.company.logo?2:-1),l(),pt("display",t.job&&t.job.company&&t.job.company.logo?"none":"flex"),l(),x(" ",i.getCompanyName(t).charAt(0)," "),l(3),p(i.getJobTitle(t)),l(2),p(i.getCompanyName(t)),l(2),p(i.formatDate(t.applied_at)),l(),c("ngClass",i.getStatusClass(t.status)),l(),x(" ",i.getStatusLabel(t.status)," "),l(),h(t.is_viewed?-1:14)}}function fn(r,e){if(r&1&&(a(0,"div",9),F(1,gn,15,12,"div",12,Kt),n()),r&2){let t=d();l(),T(t.applications)}}function bn(r,e){r&1&&(a(0,"div",11)(1,"div",23),o(2,"\u{1F4AC}"),n(),a(3,"h3"),o(4,"\u0627\u062E\u062A\u0631 \u0637\u0644\u0628 \u062A\u0642\u062F\u064A\u0645 \u0644\u0644\u0628\u062F\u0621"),n(),a(5,"p"),o(6,"\u0627\u062E\u062A\u0631 \u0637\u0644\u0628 \u062A\u0642\u062F\u064A\u0645 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0644\u0639\u0631\u0636 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0648\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0626\u0644 \u062C\u062F\u064A\u062F\u0629"),n()())}function _n(r,e){if(r&1){let t=A();a(0,"img",22),m("error",function(s){g(t);let u=d(2);return f(u.handleImageError(s))}),n()}if(r&2){let t=d(2);c("src",t.getCompanyLogo(t.selectedApplication.job.company.logo),j)("alt",t.getCompanyName(t.selectedApplication))}}function vn(r,e){r&1&&(a(0,"div",7)(1,"p"),o(2,"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0631\u0633\u0627\u0626\u0644..."),n()())}function hn(r,e){r&1&&(a(0,"div",30)(1,"p"),o(2,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0631\u0633\u0627\u0626\u0644 \u0628\u0639\u062F. \u0627\u0628\u062F\u0623 \u0627\u0644\u0645\u062D\u0627\u062F\u062B\u0629!"),n()())}function xn(r,e){if(r&1&&(a(0,"div",45),o(1),n()),r&2){let t=d().$implicit;l(),p(t.message)}}function Cn(r,e){if(r&1){let t=A();a(0,"div",47)(1,"img",49),m("click",function(){g(t);let s=d(2).$implicit,u=d(3);return f(u.openImageInNewTab(s.attachment))})("error",function(s){g(t);let u=d(5);return f(u.handleAttachmentError(s))}),n(),a(2,"a",50),o(3," \u0641\u062A\u062D \u0627\u0644\u0635\u0648\u0631\u0629 \u0641\u064A \u0646\u0627\u0641\u0630\u0629 \u062C\u062F\u064A\u062F\u0629 "),n()()}if(r&2){let t=d(2).$implicit,i=d(3);l(),c("src",i.getAttachmentUrl(t.attachment),j),l(),c("href",i.getAttachmentUrl(t.attachment),j)}}function yn(r,e){if(r&1&&(a(0,"a",48),o(1," \u{1F4CE} \u0645\u0631\u0641\u0642 - \u062A\u0646\u0632\u064A\u0644 \u0627\u0644\u0645\u0644\u0641 "),n()),r&2){let t=d(2).$implicit,i=d(3);c("href",i.getAttachmentUrl(t.attachment),j)}}function Mn(r,e){if(r&1&&(a(0,"div",46),v(1,Cn,4,2,"div",47)(2,yn,2,1,"a",48),n()),r&2){let t=d().$implicit,i=d(3);l(),h(i.isImageAttachment(t.attachment)?1:2)}}function Sn(r,e){if(r&1&&(a(0,"div",40)(1,"div",41)(2,"div",42)(3,"span",43),o(4),n(),a(5,"span",44),o(6),n()(),v(7,xn,2,1,"div",45),v(8,Mn,3,1,"div",46),n()()),r&2){let t=e.$implicit,i=d(3);I("my-message",i.isMyMessage(t))("their-message",!i.isMyMessage(t)),l(4),p(t.sender_name||i.getCompanyName(i.selectedApplication)),l(2),p(i.formatDate(t.sent_at)),l(),h(t.message?7:-1),l(),h(t.attachment?8:-1)}}function An(r,e){if(r&1&&F(0,Sn,9,8,"div",39,Kt),r&2){let t=d(2);T(t.messages)}}function wn(r,e){if(r&1){let t=A();a(0,"div",33)(1,"span"),o(2),n(),a(3,"button",51),m("click",function(){g(t);let s=d(2);return f(s.removeFile())}),o(4,"\xD7"),n()()}if(r&2){let t=d(2);l(2),x("\u{1F4CE} ",t.selectedFile.name)}}function Pn(r,e){r&1&&(a(0,"span"),o(1,"\u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0631\u0633\u0627\u0644..."),n())}function kn(r,e){r&1&&(a(0,"span"),o(1,"\u0625\u0631\u0633\u0627\u0644"),n())}function On(r,e){if(r&1){let t=A();a(0,"div",24)(1,"div",25)(2,"div",26),v(3,_n,1,2,"img",15),a(4,"span"),o(5),n()(),a(6,"div",27)(7,"h3"),o(8),n(),a(9,"p"),o(10),n(),a(11,"a",28),o(12," \u0639\u0631\u0636 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 "),n()()()(),a(13,"div",29),v(14,vn,3,0,"div",7)(15,hn,3,0,"div",30)(16,An,2,0),n(),a(17,"div",31)(18,"form",32),m("ngSubmit",function(){g(t);let s=d();return f(s.sendMessage())}),v(19,wn,5,1,"div",33),a(20,"div",34)(21,"input",35),m("change",function(s){g(t);let u=d();return f(u.onFileSelected(s))}),n(),a(22,"label",36),o(23,"\u{1F4CE}"),n(),a(24,"textarea",37),S("ngModelChange",function(s){g(t);let u=d();return M(u.newMessage,s)||(u.newMessage=s),f(s)}),m("input",function(s){g(t);let u=d();return f(u.adjustTextareaHeight(s))}),n(),a(25,"button",38),v(26,Pn,2,0,"span")(27,kn,2,0,"span"),n()()()()}if(r&2){let t=d();l(3),h(t.selectedApplication.job&&t.selectedApplication.job.company&&t.selectedApplication.job.company.logo?3:-1),l(),pt("display",t.selectedApplication.job&&t.selectedApplication.job.company&&t.selectedApplication.job.company.logo?"none":"flex"),l(),x(" ",t.getCompanyName(t.selectedApplication).charAt(0)," "),l(3),p(t.getCompanyName(t.selectedApplication)),l(2),p(t.getJobTitle(t.selectedApplication)),l(),c("routerLink",re(13,un,t.selectedApplication.job.slug)),l(3),h(t.loadingMessages?14:t.messages.length===0?15:16),l(5),h(t.selectedFile?19:-1),l(5),y("ngModel",t.newMessage),c("disabled",t.sendingMessage),l(),c("disabled",!t.newMessage.trim()||t.sendingMessage),l(),h(t.sendingMessage?26:27)}}var ut=class r{messagesStore=_(st);toastr=_(be);errors=_($t);applications=[];selectedApplication=null;messages=[];loading=!1;loadingMessages=!1;sendingMessage=!1;newMessage="";selectedFile=null;ngOnInit(){this.messagesStore.loadingApplications$.subscribe(e=>{this.loading=e}),this.messagesStore.loadingMessages$.subscribe(e=>{this.loadingMessages=e}),this.messagesStore.messages$.subscribe({next:e=>{this.applications=e.applications,this.selectedApplication=e.selectedApplication,this.messages=e.messages,e.messages.length>0&&setTimeout(()=>this.scrollToBottom(),100)},error:e=>{this.errors.error(e,{join:!0})}}),this.messagesStore.loadApplications()}selectApplication(e){this.newMessage="",this.selectedFile=null;let t=document.getElementById("file-input");t&&(t.value=""),this.messagesStore.selectApplication(e)}sendMessage(){if(!this.selectedApplication||!this.newMessage.trim()||this.sendingMessage){this.newMessage.trim()||this.toastr.warning("\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0631\u0633\u0627\u0644\u0629");return}this.sendingMessage=!0;let e=new FormData;e.append("application",this.selectedApplication.id.toString()),e.append("message",this.newMessage.trim()||""),this.selectedFile&&e.append("attachment",this.selectedFile,this.selectedFile.name),this.messagesStore.sendMessage(this.selectedApplication.id,e).subscribe({next:t=>{this.newMessage="",this.selectedFile=null;let i=document.getElementById("file-input");i&&(i.value=""),this.sendingMessage=!1,this.scrollToBottom(),this.toastr.success("\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0628\u0646\u062C\u0627\u062D")},error:t=>{this.errors.error(t,{join:!0}),this.sendingMessage=!1}})}onFileSelected(e){let t=e.target;if(t.files&&t.files.length>0){let i=t.files[0],s=10*1024*1024,u=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/jpg","image/png","image/gif","image/webp"];if(i.size>s){this.toastr.error("\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641 \u064A\u062A\u062C\u0627\u0648\u0632 10MB"),t.value="",this.selectedFile=null;return}if(!u.includes(i.type)){this.toastr.error("\u0635\u064A\u063A\u0629 \u0627\u0644\u0645\u0644\u0641 \u063A\u064A\u0631 \u0645\u062F\u0639\u0648\u0645\u0629. \u064A\u0631\u062C\u0649 \u0631\u0641\u0639 \u0645\u0644\u0641 PDF, DOC, DOCX, \u0623\u0648 \u0635\u0648\u0631\u0629."),t.value="",this.selectedFile=null;return}this.selectedFile=i,console.log("File selected:",i.name,i.size,i.type)}else this.selectedFile=null}removeFile(){this.selectedFile=null;let e=document.getElementById("file-input");e&&(e.value="")}getCompanyName(e){return e.job?.company?.name||"\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641\u0629"}getJobTitle(e){return e.job?.title||"\u0648\u0638\u064A\u0641\u0629 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641\u0629"}formatDate(e){if(!e)return"";let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/1e3),u=Math.floor(s/60),C=Math.floor(u/60),z=Math.floor(C/24);return s<60?"\u0627\u0644\u0622\u0646":u<60?`\u0645\u0646\u0630 ${u} \u062F\u0642\u064A\u0642\u0629`:C<24?`\u0645\u0646\u0630 ${C} \u0633\u0627\u0639\u0629`:z===1?"\u0623\u0645\u0633":z<7?`\u0645\u0646\u0630 ${z} \u0623\u064A\u0627\u0645`:t.toLocaleDateString("ar-YE",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}getCompanyLogo(e){return e?e.startsWith("http")?e:`${N.apiBaseUrl.replace(/\/+$/,"")}/${e.replace(/^\/+/,"")}`:"assets/images/company-placeholder.png"}isMyMessage(e){return e.sender.user_type==="job_seeker"}scrollToBottom(){let e=document.querySelector(".messages-list");e&&(e.scrollTop=e.scrollHeight)}handleImageError(e){let t=e.target;if(t){t.style.display="none";let i=t.nextElementSibling;i&&(i.style.display="flex")}}getStatusLabel(e){return{pending:"\u0642\u064A\u062F \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629",reviewed:"\u062A\u0645 \u0627\u0644\u0645\u0631\u0627\u062C\u0639\u0629",accepted:"\u0645\u0642\u0628\u0648\u0644",rejected:"\u0645\u0631\u0641\u0648\u0636"}[e]||e}getStatusClass(e){return`status-${e}`}isImageAttachment(e){if(!e)return!1;let t=[".jpg",".jpeg",".png",".gif",".webp",".bmp",".svg"],i=e.toLowerCase();return t.some(s=>i.includes(s))}getAttachmentUrl(e){return e?e.startsWith("http")||e.startsWith("blob:")||e.startsWith("data:")?e:`${N.apiBaseUrl.replace(/\/+$/,"")}/${e.replace(/^\/+/,"")}`:""}openImageInNewTab(e){e&&window.open(this.getAttachmentUrl(e),"_blank")}handleAttachmentError(e){let t=e.target;if(t){t.style.display="none";let i=t.nextElementSibling;i&&(i.style.display="block")}}adjustTextareaHeight(e){let t=e.target;t.style.height="auto",t.style.height=t.scrollHeight+"px"}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=w({type:r,selectors:[["app-jobseeker-messages"]],decls:18,vars:2,consts:[["id","messages",1,"messages-container"],[1,"employer-header"],[1,"employer-title"],[1,"subtitle"],[1,"messages-layout"],[1,"applications-sidebar"],[1,"sidebar-header"],[1,"loading-state"],[1,"empty-state"],[1,"applications-list"],[1,"messages-area"],[1,"empty-messages"],[1,"application-item",3,"active"],[1,"application-item",3,"click"],[1,"company-logo"],["title","\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",3,"src","alt"],[1,"application-info"],[1,"job-title"],[1,"company-name"],[1,"application-date"],[1,"application-status",3,"ngClass"],[1,"unread-badge"],["title","\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",3,"error","src","alt"],[1,"empty-icon"],[1,"messages-header"],[1,"conversation-info"],[1,"conversation-logo"],[1,"conversation-details"],[1,"job-link",3,"routerLink"],[1,"messages-list"],[1,"empty-messages-list"],[1,"message-input-area"],[1,"message-form",3,"ngSubmit"],[1,"file-preview"],[1,"input-group"],["type","file","id","file-input","accept",".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.webp","title","\u0625\u0631\u0641\u0627\u0642 \u0645\u0644\u0641","aria-label","\u0625\u0631\u0641\u0627\u0642 \u0645\u0644\u0641",1,"file-input",3,"change"],["for","file-input","title","\u0625\u0631\u0641\u0627\u0642 \u0645\u0644\u0641",1,"file-label"],["name","message","placeholder","\u0627\u0643\u062A\u0628 \u0631\u0633\u0627\u0644\u062A\u0643 \u0647\u0646\u0627...","rows","1","required","",1,"message-textarea",3,"ngModelChange","input","ngModel","disabled"],["type","submit",1,"send-button",3,"disabled"],[1,"message-item",3,"my-message","their-message"],[1,"message-item"],[1,"message-content"],[1,"message-header"],[1,"sender-name"],[1,"message-time"],[1,"message-text"],[1,"message-attachment"],[1,"attachment-image"],["target","_blank","rel","noopener noreferrer",1,"attachment-file-link",3,"href"],["alt","\u0635\u0648\u0631\u0629 \u0645\u0631\u0641\u0642\u0629","title","\u0635\u0648\u0631\u0629 \u0645\u0631\u0641\u0642\u0629",1,"attachment-img",3,"click","error","src"],["target","_blank","rel","noopener noreferrer",1,"attachment-link",3,"href"],["type","button",1,"remove-file",3,"click"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),o(4,"\u0627\u0644\u0631\u0633\u0627\u0626\u0644"),n(),a(5,"p",3),o(6,"\u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639 \u0623\u0635\u062D\u0627\u0628 \u0627\u0644\u0639\u0645\u0644"),n()()(),a(7,"div",4)(8,"div",5)(9,"div",6)(10,"h3"),o(11,"\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u062A\u0642\u062F\u064A\u0645"),n()(),v(12,dn,3,0,"div",7)(13,cn,3,0,"div",8)(14,fn,3,0,"div",9),n(),a(15,"div",10),v(16,bn,7,0,"div",11)(17,On,28,15),n()()()),t&2&&(l(12),h(i.loading?12:i.applications.length===0?13:14),l(4),h(i.selectedApplication?17:16))},dependencies:[Ee,ge,je,ne,ee,te,ie,Nt,he,Qe,G],styles:[".messages-container[_ngcontent-%COMP%]{padding:2rem}.employer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem}.employer-header[_ngcontent-%COMP%]   .employer-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin:0 0 .5rem;color:var(--text-primary, #1a1a1a)}.employer-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary, #666);margin:0}.messages-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:350px 1fr;gap:1.5rem;height:calc(100vh - 200px);min-height:600px}.applications-sidebar[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-color, #e0e0e0);background:var(--bg-light, #f5f5f5)}.sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600;color:var(--text-primary, #1a1a1a)}.applications-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:.5rem}.application-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1rem;border-radius:8px;cursor:pointer;transition:all .2s;margin-bottom:.5rem;position:relative}.application-item[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #f5f5f5)}.application-item.active[_ngcontent-%COMP%]{background:var(--primary-color, #007bff);color:#fff}.application-item.active[_ngcontent-%COMP%]   .job-title[_ngcontent-%COMP%], .application-item.active[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%], .application-item.active[_ngcontent-%COMP%]   .application-date[_ngcontent-%COMP%]{color:#fff}.application-item.active[_ngcontent-%COMP%]   .application-status[_ngcontent-%COMP%]{background:#fff3;color:#fff}.company-logo[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;background:var(--primary-color, #007bff);color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.2rem;font-weight:600;flex-shrink:0;overflow:hidden}.company-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.company-logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.application-info[_ngcontent-%COMP%]{flex:1;min-width:0}.job-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin:0 0 .25rem;color:var(--text-primary, #1a1a1a)}.company-name[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary, #666);margin:0 0 .25rem}.application-date[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary, #666);margin:0 0 .5rem}.application-status[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:500;background:var(--bg-light, #f5f5f5);color:var(--text-primary, #1a1a1a)}.application-status.status-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.application-status.status-reviewed[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.application-status.status-accepted[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.application-status.status-rejected[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.unread-badge[_ngcontent-%COMP%]{position:absolute;top:.5rem;left:.5rem;width:12px;height:12px;background:var(--primary-color, #007bff);border-radius:50%;border:2px solid white}.messages-area[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;display:flex;flex-direction:column;overflow:hidden}.messages-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-color, #e0e0e0);background:var(--bg-light, #f5f5f5)}.conversation-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.conversation-logo[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;background:var(--primary-color, #007bff);color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.2rem;font-weight:600;flex-shrink:0;overflow:hidden}.conversation-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.conversation-logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.conversation-details[_ngcontent-%COMP%]{flex:1}.conversation-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:1.1rem;font-weight:600;color:var(--text-primary, #1a1a1a)}.conversation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.875rem;color:var(--text-secondary, #666)}.conversation-details[_ngcontent-%COMP%]   .job-link[_ngcontent-%COMP%]{font-size:.875rem;color:var(--primary-color, #007bff);text-decoration:none;font-weight:500}.conversation-details[_ngcontent-%COMP%]   .job-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.messages-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.5rem;display:flex;flex-direction:column;gap:1rem;background:var(--bg-light, #f5f5f5)}.message-item[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem}.message-item.my-message[_ngcontent-%COMP%]{justify-content:flex-end}.message-item.my-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:var(--primary-color, #007bff);color:#fff;border-radius:12px 12px 4px;max-width:70%}.message-item.my-message[_ngcontent-%COMP%]   .sender-name[_ngcontent-%COMP%], .message-item.my-message[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#ffffffe6}.message-item.their-message[_ngcontent-%COMP%]{justify-content:flex-start}.message-item.their-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:#fff;color:var(--text-primary, #1a1a1a);border-radius:12px 12px 12px 4px;max-width:70%;box-shadow:0 1px 2px #0000001a}.message-content[_ngcontent-%COMP%]{padding:.75rem 1rem}.message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.75rem}.sender-name[_ngcontent-%COMP%]{font-weight:600}.message-time[_ngcontent-%COMP%]{color:var(--text-secondary, #666);font-size:.7rem}.message-text[_ngcontent-%COMP%]{line-height:1.5;white-space:pre-wrap;word-wrap:break-word}.message-attachment[_ngcontent-%COMP%]{margin-top:.5rem;padding-top:.5rem;border-top:1px solid rgba(0,0,0,.1)}.message-attachment[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none;font-weight:500}.message-attachment[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.message-attachment[_ngcontent-%COMP%]   .attachment-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-top:.5rem}.message-attachment[_ngcontent-%COMP%]   .attachment-image[_ngcontent-%COMP%]   .attachment-img[_ngcontent-%COMP%]{max-width:100%;max-height:300px;border-radius:8px;cursor:pointer;object-fit:contain;background:var(--bg-light, #f5f5f5);transition:transform .2s}.message-attachment[_ngcontent-%COMP%]   .attachment-image[_ngcontent-%COMP%]   .attachment-img[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 4px 8px #0003}.message-attachment[_ngcontent-%COMP%]   .attachment-image[_ngcontent-%COMP%]   .attachment-link[_ngcontent-%COMP%]{font-size:.85rem;color:var(--primary-color, #007bff);text-decoration:none;opacity:.8}.message-attachment[_ngcontent-%COMP%]   .attachment-image[_ngcontent-%COMP%]   .attachment-link[_ngcontent-%COMP%]:hover{opacity:1;text-decoration:underline}.message-attachment[_ngcontent-%COMP%]   .attachment-file-link[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;background:var(--bg-light, #f5f5f5);border-radius:4px;color:var(--text-primary, #1a1a1a);text-decoration:none;font-weight:500;transition:background .2s}.message-attachment[_ngcontent-%COMP%]   .attachment-file-link[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e0e0e0);text-decoration:none}.message-input-area[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-color, #e0e0e0);background:#fff}.message-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.file-preview[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.5rem 1rem;background:var(--bg-light, #f5f5f5);border-radius:4px;font-size:.875rem}.file-preview[_ngcontent-%COMP%]   .remove-file[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary, #666);cursor:pointer;font-size:1.2rem;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:4px}.file-preview[_ngcontent-%COMP%]   .remove-file[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e0e0e0)}.input-group[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:.5rem}.file-input[_ngcontent-%COMP%]{display:none}.file-label[_ngcontent-%COMP%]{padding:.5rem .75rem;background:var(--bg-light, #f5f5f5);border:1px solid var(--border-color, #e0e0e0);border-radius:4px;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;transition:all .2s}.file-label[_ngcontent-%COMP%]:hover{background:var(--bg-hover, #e0e0e0)}.message-textarea[_ngcontent-%COMP%]{flex:1;padding:0 5rem!important;border:1px solid var(--border-color, #e0e0e0);border-radius:4px;font-size:.95rem;font-family:inherit;resize:none;min-height:50px!important;max-height:150px!important;overflow-y:auto;transition:height .2s cubic-bezier(.4,0,.2,1);padding-top:1rem;padding-bottom:1rem;line-height:1.5}.message-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color, #007bff);box-shadow:0 0 0 2px #007bff1a}.message-textarea[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.send-button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:var(--primary-color, #007bff);color:#fff;border:none;border-radius:4px;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s;white-space:nowrap}.send-button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-color-dark, #0056b3)}.send-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.empty-state[_ngcontent-%COMP%], .empty-messages[_ngcontent-%COMP%], .empty-messages-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;text-align:center;color:var(--text-secondary, #666);height:100%}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%], .empty-messages[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%], .empty-messages-list[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .empty-messages[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .empty-messages-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.2rem;color:var(--text-primary, #1a1a1a)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-messages[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-messages-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem}.loading-state[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:var(--text-secondary, #666)}@media (max-width: 1024px){.messages-layout[_ngcontent-%COMP%]{grid-template-columns:300px 1fr}}@media (max-width: 768px){.messages-container[_ngcontent-%COMP%]{padding:1rem}.messages-layout[_ngcontent-%COMP%]{grid-template-columns:1fr;height:auto;min-height:auto}.applications-sidebar[_ngcontent-%COMP%]{max-height:300px}.message-item.my-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%], .message-item.their-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{max-width:85%}}"]})};var En=[{path:"",component:Ie,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Fe,data:{breadcrumb:"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645"}},{path:"saved-jobs",component:we,data:{breadcrumb:"\u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"}},{path:"profile",component:Be,data:{breadcrumb:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A"}},{path:"cv",component:Le,data:{breadcrumb:"\u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"}},{path:"cv-builder",component:$e,data:{breadcrumb:"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0633\u064A\u0631\u0629 \u0627\u0644\u0630\u0627\u062A\u064A\u0629"}},{path:"alerts",component:Je,data:{breadcrumb:"\u062A\u0646\u0628\u064A\u0647\u0627\u062A \u0627\u0644\u0648\u0638\u0627\u0626\u0641"}},{path:"applications",component:Ne,data:{breadcrumb:"\u0637\u0644\u0628\u0627\u062A\u064A"}},{path:"messages",component:ut,data:{breadcrumb:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644"}},{path:"settings",component:ze,data:{breadcrumb:"\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A"}},{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"jobs",component:Wt,data:{breadcrumb:"\u0627\u0644\u0648\u0638\u0627\u0626\u0641"}},{path:"job-details/:slug",loadComponent:()=>import("./chunk-FD5G4SPL.js").then(r=>r.JobDetails),data:{breadcrumb:"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0648\u0638\u064A\u0641\u0629"}}]}],Ve=class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=We({type:r});static \u0275inj=Re({imports:[mt.forChild(En),mt]})};var Qt=class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=We({type:r});static \u0275inj=Re({providers:[fe,Pe],imports:[Ee,Ae,we,oe,bt,je,_t,vt,ht,Me,gt,Ct,xt,ft,Ve,Ee,oe,bt,je,_t,vt,ht,gt,Ct,xt,ft,Ve]})};export{Qt as JobseekerModule};
