import{a as ce,b as me}from"./chunk-I7CZ5SKT.js";import{a as ue}from"./chunk-6FVZPFTF.js";import{c as se,l as de}from"./chunk-VPYNZVWT.js";import{$ as Y,$a as ie,Na as ee,Oa as te,ab as ne,ca as G,cb as oe,da as H,ea as X,eb as ae,fa as K,fb as re,ga as Q,qa as Z,qb as le}from"./chunk-QCMBWRUC.js";import{b as N,h as q,w as R,y as U,z as $}from"./chunk-PSPAT2UB.js";import{$a as B,$b as l,Ab as c,Hb as A,Ka as F,Mb as S,Nb as s,Pa as r,Wb as j,X as D,Yb as P,aa as f,ac as _,ba as x,bc as v,cc as J,db as z,ec as E,fc as k,gc as M,kc as w,lc as V,mc as W,pa as L,rb as m,sb as p,tc as T,ub as C,vb as b,vc as O,wb as g,xb as y,yb as e,zb as t}from"./chunk-CGND3GXF.js";var _e=(n,o)=>({"btn-primary":n,"btn-secondary":o}),be=n=>["/company",n],ge=()=>[1,2,3,4,5,6],I=()=>[1,2,3,4],fe=()=>[1,2,3,4,5],xe=()=>[1,2,3],Ce=(n,o)=>o.id;function ve(n,o){n&1&&(e(0,"small",39),l(1," \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 \u0645\u0637\u0644\u0648\u0628 "),t())}function he(n,o){n&1&&(e(0,"small",39),l(1," \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0645\u0637\u0644\u0648\u0628 "),t())}function ye(n,o){n&1&&(e(0,"small",39),l(1," \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u063A\u064A\u0631 \u0635\u0627\u0644\u062D "),t())}function Se(n,o){n&1&&(e(0,"small",39),l(1," \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \u0645\u0637\u0644\u0648\u0628 "),t())}function we(n,o){if(n&1){let i=A();e(0,"div",21)(1,"h3",33),l(2,"\u062A\u0642\u062F\u064A\u0645 \u0637\u0644\u0628 \u0644\u0644\u0648\u0638\u064A\u0641\u0629"),t(),e(3,"form",34,0),S("ngSubmit",function(){f(i);let u=s(2);return x(u.onSubmitApplication())}),e(5,"div",35)(6,"div",36)(7,"label",37),l(8,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"),t(),e(9,"input",38,1),M("ngModelChange",function(u){f(i);let d=s(2);return k(d.applicationForm.full_name,u)||(d.applicationForm.full_name=u),x(u)}),t(),m(11,ve,2,0,"small",39),t(),e(12,"div",36)(13,"label",40),l(14,"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),t(),e(15,"input",41,2),M("ngModelChange",function(u){f(i);let d=s(2);return k(d.applicationForm.email,u)||(d.applicationForm.email=u),x(u)}),t(),m(17,he,2,0,"small",39),m(18,ye,2,0,"small",39),t()(),e(19,"div",35)(20,"div",36)(21,"label",42),l(22,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),t(),e(23,"input",43,3),M("ngModelChange",function(u){f(i);let d=s(2);return k(d.applicationForm.phone,u)||(d.applicationForm.phone=u),x(u)}),t(),m(25,Se,2,0,"small",39),t(),e(26,"div",36)(27,"label",44),l(28,"\u0633\u0646\u0648\u0627\u062A \u0627\u0644\u062E\u0628\u0631\u0629"),t(),e(29,"p-select",45),M("ngModelChange",function(u){f(i);let d=s(2);return k(d.applicationForm.years_of_experience,u)||(d.applicationForm.years_of_experience=u),x(u)}),t()()(),e(30,"div",36)(31,"label",46),l(32,"\u062E\u0637\u0627\u0628 \u0627\u0644\u062A\u063A\u0637\u064A\u0629 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)"),t(),e(33,"textarea",47),M("ngModelChange",function(u){f(i);let d=s(2);return k(d.applicationForm.cover_letter,u)||(d.applicationForm.cover_letter=u),x(u)}),t()(),e(34,"div",48)(35,"p-button",49),S("onClick",function(){f(i);let u=s(2);return x(u.toggleApplicationForm())}),t(),c(36,"p-button",50),t()()()}if(n&2){let i=j(4),a=j(10),u=j(16),d=j(24),h=s(2);r(9),P("p-invalid",a.invalid&&a.touched),E("ngModel",h.applicationForm.full_name),r(2),p(a.invalid&&a.touched?11:-1),r(4),P("p-invalid",u.invalid&&u.touched),E("ngModel",h.applicationForm.email),r(2),p(u.errors!=null&&u.errors.required&&u.touched?17:-1),r(),p(u.errors!=null&&u.errors.email&&u.touched?18:-1),r(5),P("p-invalid",d.invalid&&d.touched),E("ngModel",h.applicationForm.phone),r(2),p(d.invalid&&d.touched?25:-1),r(4),E("ngModel",h.applicationForm.years_of_experience),y("options",h.experienceOptions)("showClear",!0),r(4),E("ngModel",h.applicationForm.cover_letter),r(2),y("disabled",h.isSubmittingApplication),r(),y("label",h.isSubmittingApplication?"\u062C\u0627\u0631\u064A \u0627\u0644\u0625\u0631\u0633\u0627\u0644...":"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628")("disabled",h.isSubmittingApplication||i.invalid)("loading",h.isSubmittingApplication)}}function Ee(n,o){if(n&1&&(e(0,"div",22)(1,"h2",51),l(2,"\u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064A\u0641\u0629"),t(),e(3,"div",52)(4,"p"),l(5),t()()()),n&2){let i=s();r(5),_(i.description)}}function ke(n,o){if(n&1&&(e(0,"li"),l(1),t()),n&2){let i=o.$implicit;r(),v(" ",i," ")}}function Me(n,o){if(n&1&&(e(0,"div",22)(1,"h2",51),l(2,"\u0627\u0644\u0645\u062A\u0637\u0644\u0628\u0627\u062A \u0648\u0627\u0644\u0645\u0624\u0647\u0644\u0627\u062A"),t(),e(3,"div",52)(4,"ul",53),b(5,ke,2,1,"li",null,C),t()()()),n&2){let i=s();r(5),g(i.requirements.split(`
`))}}function De(n,o){if(n&1&&(e(0,"li"),l(1),t()),n&2){let i=o.$implicit;r(),v(" ",i," ")}}function je(n,o){if(n&1&&(e(0,"div",22)(1,"h2",51),l(2,"\u0627\u0644\u0645\u0633\u0624\u0648\u0644\u064A\u0627\u062A \u0627\u0644\u0648\u0638\u064A\u0641\u064A\u0629"),t(),e(3,"div",52)(4,"ul",53),b(5,De,2,1,"li",null,C),t()()()),n&2){let i=s();r(5),g(i.responsibilities.split(`
`))}}function Fe(n,o){if(n&1&&(e(0,"li"),l(1),t()),n&2){let i=o.$implicit;r(),v(" ",i," ")}}function Ae(n,o){if(n&1&&(e(0,"div",22)(1,"h2",51),l(2,"\u0627\u0644\u0645\u0632\u0627\u064A\u0627 \u0648\u0627\u0644\u062D\u0648\u0627\u0641\u0632"),t(),e(3,"div",52)(4,"ul",54),b(5,Fe,2,1,"li",null,C),t()()()),n&2){let i=s();r(5),g(i.benefits.split(`
`))}}function Pe(n,o){if(n&1&&(e(0,"div",22)(1,"h2",51),l(2,"\u0639\u0646 \u0627\u0644\u0634\u0631\u0643\u0629"),t(),e(3,"div",52)(4,"p"),l(5),t()()()),n&2){let i=s();r(5),_(i.company.description)}}function Te(n,o){if(n&1&&(e(0,"li")(1,"span",27),l(2,"\u0622\u062E\u0631 \u0645\u0648\u0639\u062F \u0644\u0644\u062A\u0642\u062F\u064A\u0645"),t(),e(3,"span",28),l(4),T(5,"date"),t()()),n&2){let i=s();r(4),_(O(5,1,i.application_deadline,"mediumDate"))}}function Oe(n,o){if(n&1&&(e(0,"span",56),l(1),t()),n&2){let i=o.$implicit;r(),v(" ",i.trim()," ")}}function Je(n,o){if(n&1&&b(0,Oe,2,1,"span",56,C),n&2){let i=s();g(i.split(","))}}function Ie(n,o){if(n&1&&(e(0,"span",56),l(1),t()),n&2){let i=o.$implicit;r(),v(" ",i.trim()," ")}}function Le(n,o){if(n&1&&b(0,Ie,2,1,"span",56,C),n&2){let i=s();g(i.split(" "))}}function Be(n,o){n&1&&(e(0,"div",24)(1,"h3",25),l(2,"\u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062A \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629"),t(),e(3,"div",55),m(4,Je,2,0)(5,Le,2,0),t()()),n&2&&(r(4),p(o.includes(",")?4:5))}function ze(n,o){if(n&1&&(e(0,"li")(1,"span",27),l(2,"\u062D\u062C\u0645 \u0627\u0644\u0634\u0631\u0643\u0629"),t(),e(3,"span",28),l(4),t()()),n&2){let i=s();r(4),_(i.company.size)}}function Ve(n,o){if(n&1&&(e(0,"li")(1,"span",27),l(2,"\u0627\u0644\u0642\u0637\u0627\u0639"),t(),e(3,"span",28),l(4),t()()),n&2){let i=s();r(4),_(i.company.industry)}}function We(n,o){if(n&1&&(e(0,"li")(1,"span",27),l(2,"\u0633\u0646\u0629 \u0627\u0644\u062A\u0623\u0633\u064A\u0633"),t(),e(3,"span",28),l(4),t()()),n&2){let i=s();r(4),_(i.company.founded_year)}}function Ne(n,o){if(n&1){let i=A();e(0,"a",59),S("click",function(){let u=f(i).$implicit,d=s(3);return x(d.navigateToJob(u.slug))}),c(1,"img",60),e(2,"div",61)(3,"h4"),l(4),t(),e(5,"p"),l(6),t(),e(7,"p",62),l(8),t()()()}if(n&2){let i=o.$implicit,a=s(3);r(),y("src",i.company.logo||"assets/images/company-placeholder.png",F)("alt",i.company.name||"\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629"),r(3),_(i.title),r(2),_(i.company.name),r(2),v(" ",a.formatSimilarJobSalary(i)," ")}}function qe(n,o){if(n&1&&(e(0,"div",24)(1,"h3",25),l(2,"\u0648\u0638\u0627\u0626\u0641 \u0645\u0634\u0627\u0628\u0647\u0629"),t(),e(3,"div",57),b(4,Ne,9,5,"a",58,Ce),t()()),n&2){let i=s(2);r(4),g(i.similarJobs)}}function Re(n,o){if(n&1){let i=A();e(0,"section",4)(1,"div",5)(2,"div",6)(3,"main",7)(4,"div",8)(5,"div",9),c(6,"img",10),e(7,"div",11)(8,"h1",12),l(9),t(),e(10,"p",13),l(11),t(),e(12,"div",14)(13,"div",15)(14,"span",16),l(15,"\u{1F4CD}"),t(),e(16,"span"),l(17),t()(),e(18,"div",15)(19,"span",16),l(20,"\u{1F4B0}"),t(),e(21,"span"),l(22),t()(),e(23,"div",15)(24,"span",16),l(25,"\u23F0"),t(),e(26,"span"),l(27),t()(),e(28,"div",15)(29,"span",16),l(30,"\u{1F4C5}"),t(),e(31,"span"),l(32),T(33,"date"),t()(),e(34,"div",15)(35,"span",16),l(36,"\u{1F465}"),t(),e(37,"span"),l(38),t()(),e(39,"div",15)(40,"span",16),l(41,"\u{1F441}\uFE0F"),t(),e(42,"span"),l(43),t()()()()(),e(44,"div",17)(45,"button",18),S("click",function(){f(i);let u=s();return x(u.toggleApplicationForm())}),l(46," \u062A\u0642\u062F\u064A\u0645 \u0627\u0644\u0622\u0646 "),t(),e(47,"button",19),S("click",function(){f(i);let u=s();return x(u.onSaveJob())}),l(48),t(),e(49,"button",20),S("click",function(){f(i);let u=s();return x(u.onShareJob())}),l(50," \u0645\u0634\u0627\u0631\u0643\u0629 "),t()()(),m(51,we,37,21,"div",21),m(52,Ee,6,1,"div",22),m(53,Me,7,0,"div",22),m(54,je,7,0,"div",22),m(55,Ae,7,0,"div",22),m(56,Pe,6,1,"div",22),t(),e(57,"aside",23)(58,"div",24)(59,"h3",25),l(60,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0648\u0638\u064A\u0641\u0629"),t(),e(61,"ul",26)(62,"li")(63,"span",27),l(64,"\u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064A\u0641\u0629"),t(),e(65,"span",28),l(66),t()(),e(67,"li")(68,"span",27),l(69,"\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u0628\u0631\u0629"),t(),e(70,"span",28),l(71),t()(),e(72,"li")(73,"span",27),l(74,"\u0627\u0644\u0631\u0627\u062A\u0628"),t(),e(75,"span",28),l(76),t()(),e(77,"li")(78,"span",27),l(79,"\u0627\u0644\u0645\u0648\u0642\u0639"),t(),e(80,"span",28),l(81),t()(),e(82,"li")(83,"span",27),l(84,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0646\u0634\u0631"),t(),e(85,"span",28),l(86),T(87,"date"),t()(),m(88,Te,6,4,"li"),t()(),m(89,Be,6,1,"div",24),e(90,"div",24)(91,"h3",25),l(92,"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0634\u0631\u0643\u0629"),t(),e(93,"div",29),c(94,"img",30),t(),e(95,"ul",26)(96,"li")(97,"span",27),l(98,"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629"),t(),e(99,"span",28),l(100),t()(),m(101,ze,5,1,"li"),m(102,Ve,5,1,"li"),m(103,We,5,1,"li"),t(),e(104,"div",31)(105,"a",32),l(106," \u0639\u0631\u0636 \u0645\u0644\u0641 \u0627\u0644\u0634\u0631\u0643\u0629 "),t()()(),m(107,qe,6,0,"div",24),t()()()()}if(n&2){let i,a=o,u=s();r(6),y("src",a.company.logo||"images/company-logo-1.jpg",F)("alt",a.company.name||"\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629"),r(3),_(a.title),r(2),_(a.company.name),r(6),J(" ",a.city||a.company.city||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F","\u060C ",a.company.country||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"," "),r(5),v(" ",u.formatSalary(a.salary_min,a.salary_max)," "),r(5),_(u.getJobTypeLabel(a.job_type)),r(5),v(" \u0646\u064F\u0634\u0631\u062A \u0641\u064A ",O(33,35,a.created_at,"mediumDate")," "),r(6),v("",a.applications_count||0," \u0645\u062A\u0642\u062F\u0645"),r(5),v("",a.views_count||0," \u0645\u0634\u0627\u0647\u062F\u0629"),r(2),y("ngClass",W(41,_e,u.showApplicationForm,!u.showApplicationForm)),r(3),v(" ",a.is_bookmarked?"\u0625\u0632\u0627\u0644\u0629 \u0645\u0646 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0627\u062A":"\u062D\u0641\u0638 \u0627\u0644\u0648\u0638\u064A\u0641\u0629"," "),r(3),p(u.showApplicationForm?51:-1),r(),p(a.description?52:-1),r(),p(a.requirements?53:-1),r(),p(a.responsibilities?54:-1),r(),p(a.benefits?55:-1),r(),p(a.company.description?56:-1),r(10),_(u.getJobTypeLabel(a.job_type)),r(5),_(u.getExperienceLevelLabel(a.experience_level)),r(5),_(u.formatSalary(a.salary_min,a.salary_max)),r(5),J(" ",a.city||a.company.city||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F","\u060C ",a.company.country||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"," "),r(5),_(O(87,38,a.created_at,"mediumDate")),r(2),p(a.application_deadline?88:-1),r(),p((i=a.skills)?89:-1,i),r(5),y("src",a.company.logo||"images/company-logo-1.jpg",F)("alt",a.company.name||"\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629"),r(6),_(a.company.name),r(),p(a.company.size?101:-1),r(),p(a.company.industry?102:-1),r(),p(a.company.founded_year?103:-1),r(2),y("routerLink",V(44,be,a.company.slug)),r(2),p(u.similarJobs.length>0?107:-1)}}function Ue(n,o){n&1&&(e(0,"div",15),c(1,"p-skeleton",75)(2,"p-skeleton",76),t())}function $e(n,o){n&1&&(e(0,"div",22),c(1,"p-skeleton",77)(2,"p-skeleton",78)(3,"p-skeleton",79)(4,"p-skeleton",80),t())}function Ye(n,o){n&1&&(e(0,"li"),c(1,"p-skeleton",76)(2,"p-skeleton",81),t())}function Ge(n,o){n&1&&c(0,"p-skeleton",71)}function He(n,o){n&1&&(e(0,"li"),c(1,"p-skeleton",81)(2,"p-skeleton",82),t())}function Xe(n,o){n&1&&(e(0,"div",74),c(1,"p-skeleton",83),e(2,"div",61),c(3,"p-skeleton",84)(4,"p-skeleton",85)(5,"p-skeleton",81),t()())}function Ke(n,o){n&1&&(e(0,"section",4)(1,"div",5)(2,"div",6)(3,"main",7)(4,"div",8)(5,"div",9),c(6,"p-skeleton",63),e(7,"div",64),c(8,"p-skeleton",65)(9,"p-skeleton",66),e(10,"div",14),b(11,Ue,3,0,"div",15,C),t()()(),e(13,"div",17),c(14,"p-skeleton",67)(15,"p-skeleton",68)(16,"p-skeleton",69),t()(),b(17,$e,5,0,"div",22,C),t(),e(19,"aside",23)(20,"div",24),c(21,"p-skeleton",70),e(22,"ul",26),b(23,Ye,3,0,"li",null,C),t()(),e(25,"div",24),c(26,"p-skeleton",70),e(27,"div",55),b(28,Ge,1,0,"p-skeleton",71,C),t()(),e(30,"div",24),c(31,"p-skeleton",70),e(32,"div",29),c(33,"p-skeleton",72),t(),e(34,"ul",26),b(35,He,3,0,"li",null,C),t(),c(37,"p-skeleton",73),t(),e(38,"div",24),c(39,"p-skeleton",70),e(40,"div",57),b(41,Xe,6,0,"div",74,C),t()()()()()()),n&2&&(r(11),g(w(0,ge)),r(6),g(w(1,I)),r(6),g(w(2,fe)),r(5),g(w(3,I)),r(7),g(w(4,I)),r(6),g(w(5,xe)))}var pe=class n extends ue{jobService=D(se);applicationService=D(oe);activatedRoute=D(R);router=D(U);jobDetail=null;similarJobs=[];isLoading=!1;isLoadingSimilar=!1;showApplicationForm=!1;isSubmittingApplication=!1;applicationForm={full_name:"",email:"",phone:"",years_of_experience:"",cover_letter:""};cvFile=null;cvFileName="";experienceOptions=[{label:"\u0623\u0642\u0644 \u0645\u0646 \u0633\u0646\u0629",value:"0-1"},{label:"1-3 \u0633\u0646\u0648\u0627\u062A",value:"1-3"},{label:"3-5 \u0633\u0646\u0648\u0627\u062A",value:"3-5"},{label:"\u0623\u0643\u062B\u0631 \u0645\u0646 5 \u0633\u0646\u0648\u0627\u062A",value:"5+"}];ngOnInit(){let o=this.activatedRoute.snapshot.paramMap.get("slug");o&&(this.isLoading=!0,this.jobService.getJobBySlug(o).subscribe({next:i=>{this.jobDetail=i,this.isLoading=!1,i.id&&this.loadSimilarJobs(i.id)},error:i=>{this.errors.error(i,{join:!0}),this.isLoading=!1}}))}toggleApplicationForm(){this.showApplicationForm=!this.showApplicationForm,this.showApplicationForm||this.resetApplicationForm()}onCvFileSelected(o){let i=o.target,a=i.files?.[0];if(!a)return;let u=5*1024*1024;if(a.size>u){this.toastr.error("\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641 \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0623\u0642\u0644 \u0645\u0646 5MB"),i.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(a.type)){this.toastr.error("\u0646\u0648\u0639 \u0627\u0644\u0645\u0644\u0641 \u063A\u064A\u0631 \u0645\u062F\u0639\u0648\u0645. \u064A\u0631\u062C\u0649 \u0631\u0641\u0639 \u0645\u0644\u0641 PDF \u0623\u0648 DOC \u0623\u0648 DOCX"),i.value="";return}this.cvFile=a,this.cvFileName=a.name}resetApplicationForm(){this.applicationForm={full_name:"",email:"",phone:"",years_of_experience:"",cover_letter:""},this.cvFile=null,this.cvFileName=""}onSubmitApplication(){if(this.isSubmittingApplication||!this.jobDetail)return;if(!this.applicationForm.full_name||!this.applicationForm.email||!this.applicationForm.phone){this.toastr.error("\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629");return}this.isSubmittingApplication=!0;let o=new FormData;o.append("job",String(this.jobDetail.id)),o.append("full_name",this.applicationForm.full_name),o.append("email",this.applicationForm.email),o.append("phone",this.applicationForm.phone),this.applicationForm.years_of_experience&&o.append("years_of_experience",this.applicationForm.years_of_experience),this.applicationForm.cover_letter&&o.append("cover_letter",this.applicationForm.cover_letter),this.cvFile&&o.append("resume",this.cvFile),this.applicationService.applyToJobWithData(o).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628\u0643 \u0628\u0646\u062C\u0627\u062D!"),this.isSubmittingApplication=!1,this.showApplicationForm=!1,this.resetApplicationForm(),this.jobDetail?.slug&&this.jobService.getJobBySlug(this.jobDetail.slug).subscribe({next:i=>{this.jobDetail=i}})},error:i=>{console.error("Failed to submit application",i),this.isSubmittingApplication=!1,this.errors.error(i,{join:!0})}})}onSaveJob(){if(!this.jobDetail)return;let o=this.jobDetail.id;this.jobDetail.is_bookmarked?this.jobService.unbookmarkJob(o).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 \u0645\u0646 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0627\u062A"),this.jobDetail&&(this.jobDetail.is_bookmarked=!1)},error:a=>{console.error("Failed to unbookmark job",a),this.toastr.error("\u0641\u0634\u0644 \u0641\u064A \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 \u0645\u0646 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0627\u062A")}}):this.jobService.bookmarkJob(o).subscribe({next:()=>{this.toastr.success("\u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 \u0628\u0646\u062C\u0627\u062D"),this.jobDetail&&(this.jobDetail.is_bookmarked=!0)},error:a=>{console.error("Failed to bookmark job",a);let u=a?.error?.message||a?.error?.detail||"\u0641\u0634\u0644 \u0641\u064A \u062D\u0641\u0638 \u0627\u0644\u0648\u0638\u064A\u0641\u0629";this.toastr.error(u)}})}onShareJob(){if(!this.jobDetail)return;let o=window.location.href;navigator.share?navigator.share({title:this.jobDetail.title,text:`\u062A\u062D\u0642\u0642 \u0645\u0646 \u0647\u0630\u0647 \u0627\u0644\u0648\u0638\u064A\u0641\u0629: ${this.jobDetail.title}`,url:o}).then(()=>{this.toastr.success("\u062A\u0645 \u0645\u0634\u0627\u0631\u0643\u0629 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 \u0628\u0646\u062C\u0627\u062D")}).catch(i=>{this.copyToClipboard(o)}):this.copyToClipboard(o)}copyToClipboard(o){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(o).then(()=>{this.toastr.success("\u062A\u0645 \u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 \u0625\u0644\u0649 \u0627\u0644\u062D\u0627\u0641\u0638\u0629")}).catch(()=>{this.fallbackCopyToClipboard(o)}):this.fallbackCopyToClipboard(o)}fallbackCopyToClipboard(o){let i=document.createElement("textarea");i.value=o,i.style.position="fixed",i.style.left="-999999px",i.style.top="-999999px",document.body.appendChild(i),i.focus(),i.select();try{document.execCommand("copy"),this.toastr.success("\u062A\u0645 \u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u0627\u0644\u0648\u0638\u064A\u0641\u0629 \u0625\u0644\u0649 \u0627\u0644\u062D\u0627\u0641\u0638\u0629")}catch{this.toastr.error("\u0641\u0634\u0644 \u0641\u064A \u0646\u0633\u062E \u0627\u0644\u0631\u0627\u0628\u0637. \u064A\u0631\u062C\u0649 \u0646\u0633\u062E\u0647 \u064A\u062F\u0648\u064A\u0627\u064B")}document.body.removeChild(i)}getJobTypeLabel(o){switch(o){case"full_time":return"\u062F\u0648\u0627\u0645 \u0643\u0627\u0645\u0644";case"part_time":return"\u062F\u0648\u0627\u0645 \u062C\u0632\u0626\u064A";case"remote":return"\u0639\u0645\u0644 \u0639\u0646 \u0628\u064F\u0639\u062F";case"contract":return"\u0639\u0642\u062F \u0645\u0624\u0642\u062A";default:return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}}getExperienceLevelLabel(o){switch(o){case"junior":return"\u0645\u0628\u062A\u062F\u0626";case"mid":case"mid_level":return"\u0645\u062A\u0648\u0633\u0637";case"senior":return"\u062E\u0628\u064A\u0631";default:return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}}formatSalary(o,i){return o&&i?`${o.toLocaleString()} - ${i.toLocaleString()} \u0631\u064A\u0627\u0644`:o&&!i?`\u0627\u0628\u062A\u062F\u0627\u0621\u064B \u0645\u0646 ${o.toLocaleString()} \u0631\u064A\u0627\u0644`:!o&&i?`\u062D\u062A\u0649 ${i.toLocaleString()} \u0631\u064A\u0627\u0644`:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}loadSimilarJobs(o){this.isLoadingSimilar=!0,this.jobService.getSimilarJobs(o).subscribe({next:i=>{this.similarJobs=i,this.isLoadingSimilar=!1},error:i=>{console.error("Failed to load similar jobs",i),this.isLoadingSimilar=!1}})}navigateToJob(o){this.router.navigate(["/jobs/job-details",o]).then(()=>{window.location.reload()})}formatSimilarJobSalary(o){return this.formatSalary(o.salary_min,o.salary_max)}static \u0275fac=(()=>{let o;return function(a){return(o||(o=L(n)))(a||n)}})();static \u0275cmp=B({type:n,selectors:[["app-job-details"]],features:[z],decls:2,vars:2,consts:[["applicationFormRef","ngForm"],["fullNameCtrl","ngModel"],["emailCtrl","ngModel"],["phoneCtrl","ngModel"],[1,"job-details-section"],[1,"container"],[1,"job-details-container"],[1,"job-main-content"],[1,"job-header"],[1,"job-header-top"],["title","\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",1,"company-logo-large",3,"src","alt"],[2,"flex-grow","1"],[1,"job-title-large"],[1,"company-name-large"],[1,"job-meta-large"],[1,"meta-item"],[1,"meta-icon"],[1,"job-actions-large"],["type","button",1,"btn","btn-large","btn-primary",3,"click","ngClass"],["type","button",1,"btn","btn-large","btn-secondary","save-btn",3,"click"],["type","button",1,"btn","btn-large","btn-secondary",3,"click"],[1,"application-form"],[1,"content-section"],[1,"job-sidebar"],[1,"sidebar-card"],[1,"sidebar-title"],[1,"job-details-list"],[1,"detail-label"],[1,"detail-value"],[2,"text-align","center","margin-bottom","1rem"],["title","\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",2,"width","80px","height","80px","border-radius","var(--radius-lg)","object-fit","cover",3,"src","alt"],[2,"margin-top","1rem"],[1,"btn","btn-secondary",2,"width","100%",3,"routerLink"],[2,"margin-bottom","1rem"],[3,"ngSubmit"],[1,"form-row"],[1,"field-group"],["for","full_name",1,"field-label"],["pInputText","","type","text","id","full_name","name","full_name","required","",3,"ngModelChange","ngModel"],[1,"p-error"],["for","email",1,"field-label"],["pInputText","","type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","phone",1,"field-label"],["pInputText","","type","tel","id","phone","name","phone","required","",3,"ngModelChange","ngModel"],["for","years_of_experience",1,"field-label"],["id","years_of_experience","name","years_of_experience","optionLabel","label","optionValue","value","placeholder","\u0627\u062E\u062A\u0631 \u0633\u0646\u0648\u0627\u062A \u0627\u0644\u062E\u0628\u0631\u0629","appendTo","body","styleClass","w-full",3,"ngModelChange","ngModel","options","showClear"],["for","cover_letter",1,"field-label"],["pTextarea","","id","cover_letter","name","cover_letter","rows","4","placeholder","\u0627\u0643\u062A\u0628 \u062E\u0637\u0627\u0628 \u062A\u063A\u0637\u064A\u0629 \u0645\u062E\u062A\u0635\u0631 \u064A\u0648\u0636\u062D \u0633\u0628\u0628 \u0627\u0647\u062A\u0645\u0627\u0645\u0643 \u0628\u0647\u0630\u0647 \u0627\u0644\u0648\u0638\u064A\u0641\u0629...",3,"ngModelChange","ngModel"],[2,"display","flex","gap","1rem","justify-content","flex-end"],["type","button","label","\u0625\u0644\u063A\u0627\u0621","styleClass","p-button-secondary",3,"onClick","disabled"],["type","submit","styleClass","p-button-primary",3,"label","disabled","loading"],[1,"section-title"],[1,"content-text"],[1,"requirements-list"],[1,"benefits-list"],[1,"skills-list"],[1,"skill-tag"],[1,"similar-jobs"],[1,"similar-job-card",2,"text-decoration","none","color","inherit","display","block"],[1,"similar-job-card",2,"text-decoration","none","color","inherit","display","block",3,"click"],["title","\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629",1,"similar-job-logo",3,"src","alt"],[1,"similar-job-info"],[2,"color","var(--primary-color)","font-weight","500"],["width","80px","height","80px","shape","rectangle","styleClass","skeleton-logo"],[1,"skeleton-header-content"],["width","60%","height","2rem","styleClass","mb-2"],["width","40%","height","1.5rem","styleClass","mb-3"],["width","120px","height","3rem","styleClass","mb-0"],["width","150px","height","3rem","styleClass","mb-0"],["width","100px","height","3rem","styleClass","mb-0"],["width","150px","height","1.5rem","styleClass","mb-3"],["width","80px","height","2rem","styleClass","mb-0"],["width","80px","height","80px","shape","circle","styleClass","mb-0"],["width","100%","height","2.5rem","styleClass","mb-0 mt-2"],[1,"similar-job-card","skeleton-similar-job"],["width","24px","height","24px","shape","circle","styleClass","mb-0"],["width","120px","height","1rem","styleClass","mb-0"],["width","200px","height","1.8rem","styleClass","mb-3"],["width","100%","height","1rem","styleClass","mb-2"],["width","95%","height","1rem","styleClass","mb-2"],["width","90%","height","1rem","styleClass","mb-0"],["width","100px","height","1rem","styleClass","mb-0"],["width","80px","height","1rem","styleClass","mb-0"],["width","50px","height","50px","shape","circle","styleClass","skeleton-logo"],["width","150px","height","1.2rem","styleClass","mb-2"],["width","120px","height","1rem","styleClass","mb-2"]],template:function(i,a){if(i&1&&(m(0,Re,108,46,"section",4),m(1,Ke,43,6,"section",4)),i&2){let u;p((u=a.jobDetail)?0:-1,u),r(),p(!a.jobDetail&&a.isLoading?1:-1)}},dependencies:[le,N,$,Q,Y,G,H,Z,K,X,ee,ie,ne,me,ce,de,te,re,ae,q],styles:['@charset "UTF-8";.job-details-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 350px;gap:2rem;padding:2rem 0}.job-main-content[_ngcontent-%COMP%]{background-color:var(--white);padding:2rem;border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--gray-200)}.job-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.job-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--gray-200);padding-bottom:1.5rem;margin-bottom:1.5rem}.job-header-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:1rem}.company-logo-large[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:var(--radius-lg);object-fit:cover;border:2px solid var(--gray-200)}.job-title-large[_ngcontent-%COMP%]{font-size:var(--font-size-3xl);font-weight:700;color:var(--gray-900);margin-bottom:.5rem}.company-name-large[_ngcontent-%COMP%]{font-size:var(--font-size-lg);color:var(--primary-color);margin-bottom:1rem}.job-meta-large[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1rem}.meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--gray-600)}.meta-icon[_ngcontent-%COMP%]{font-size:1.2rem}.job-actions-large[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.sidebar-card[_ngcontent-%COMP%]{background-color:var(--white);padding:1.5rem;border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--gray-200)}.sidebar-title[_ngcontent-%COMP%]{font-size:var(--font-size-lg);font-weight:600;margin-bottom:1rem;color:var(--gray-900)}.job-details-list[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:column;gap:.75rem}.job-details-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid var(--gray-100)}.job-details-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-label[_ngcontent-%COMP%]{color:var(--gray-800);font-weight:550}.detail-value[_ngcontent-%COMP%]{color:var(--gray-600);font-weight:500}.skills-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.skill-tag[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--white);padding:.5rem 1rem;border-radius:var(--radius-lg);font-size:var(--font-size-sm);font-weight:500}.content-section[_ngcontent-%COMP%]{margin-bottom:2rem}.section-title[_ngcontent-%COMP%]{font-size:var(--font-size-xl);font-weight:600;margin-bottom:1rem;color:var(--gray-900);border-bottom:2px solid var(--primary-color);padding-bottom:.5rem}.content-text[_ngcontent-%COMP%]{line-height:1.7;color:var(--gray-700)}.requirements-list[_ngcontent-%COMP%], .benefits-list[_ngcontent-%COMP%]{list-style:none;margin:1rem 0}.requirements-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .benefits-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-right:1.5rem;margin-bottom:.5rem;line-height:1.6}.requirements-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2713";position:absolute;right:0;color:var(--success-color);font-weight:700}.benefits-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2605";position:absolute;right:0;color:var(--warning-color);font-weight:700}.similar-jobs[_ngcontent-%COMP%]{margin-top:2rem}.similar-job-card[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1rem;border:1px solid var(--gray-200);border-radius:var(--radius-md);margin-bottom:1rem;transition:all var(--transition-fast)}.similar-job-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-md);transform:translateY(-1px)}.similar-job-logo[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:var(--radius-md);object-fit:cover}.similar-job-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:var(--font-size-base);margin-bottom:.25rem}.similar-job-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-sm);color:var(--gray-600);margin-bottom:.25rem}.breadcrumb[_ngcontent-%COMP%]{background-color:var(--gray-50);padding:1rem 0;border-bottom:1px solid var(--gray-200)}.breadcrumb-list[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;list-style:none;font-size:var(--font-size-sm)}.breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--gray-600)}.breadcrumb-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.breadcrumb-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.breadcrumb-separator[_ngcontent-%COMP%]{color:var(--gray-400)}.application-form[_ngcontent-%COMP%]{background-color:var(--gray-50);padding:1.5rem;border-radius:var(--radius-lg);margin-top:1rem}.field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.field-label[_ngcontent-%COMP%]{font-weight:600;color:var(--gray-800);font-size:var(--font-size-sm)}.p-error[_ngcontent-%COMP%]{color:var(--red-500);font-size:var(--font-size-xs);margin-top:.25rem}  .application-form .p-button-primary{background:linear-gradient(135deg,#2563eb,#1d4ed8);border-color:#2563eb;box-shadow:0 10px 25px #2563eb59}  .application-form .p-button-primary:hover:not(:disabled){background:linear-gradient(135deg,#1d4ed8,#1e40af);border-color:#1d4ed8;box-shadow:0 14px 30px #2563eb73;transform:translateY(-1px)}  .application-form .p-button-primary:disabled{opacity:.7;cursor:default;box-shadow:none}  .application-form .p-button-secondary{border-color:#2563eb;color:#2563eb}  .application-form .p-button-secondary:hover:not(:disabled){background:#2563eb;color:#fff;border-color:#2563eb}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.file-upload[_ngcontent-%COMP%]{border:2px dashed var(--gray-300);border-radius:var(--radius-md);padding:2rem;text-align:center;cursor:pointer;transition:border-color var(--transition-fast)}.file-upload[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.job-details-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.job-sidebar[_ngcontent-%COMP%]{order:-1}.job-header-top[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.job-meta-large[_ngcontent-%COMP%]{grid-template-columns:1fr}.job-actions-large[_ngcontent-%COMP%]{justify-content:center}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.skeleton-logo[_ngcontent-%COMP%]{flex-shrink:0}.skeleton-header-content[_ngcontent-%COMP%]{flex-grow:1}.skeleton-similar-job[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;border-bottom:1px solid var(--gray-200);pointer-events:none}.skeleton-similar-job[_ngcontent-%COMP%]   .similar-job-info[_ngcontent-%COMP%]{flex:1}']})};export{pe as a};
