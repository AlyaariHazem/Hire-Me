import{a as Ne,b as Le}from"./chunk-NDO5X5H7.js";import{a as Ee}from"./chunk-CRWFLMVG.js";import{a as Re}from"./chunk-4A75DQ3Q.js";import{e as H,f as U}from"./chunk-G4RGMBQK.js";import{d as De,e as Ie,h as Ae,i as je,j as Je,k as Be,n as Ve,o as Qe}from"./chunk-5A6SV2M5.js";import{$ as V,B as ye,Ca as Te,Fa as Fe,Ia as ke,M as he,N as ve,O as te,P as w,R as B,T as be,U as Ce,V as we,Ya as Pe,ab as Oe,gb as ze,oa as xe,pa as Me,za as Se}from"./chunk-GDQZ3WFE.js";import"./chunk-OVMELZYD.js";import{B as _e,b as ge,d as K,f as ee,j as k,x as fe}from"./chunk-3KHYFKH4.js";import{$a as S,$b as c,Ab as x,Eb as N,Fb as L,Gb as A,Hb as $,Ka as oe,Kc as me,Mb as _,Nb as p,Ob as Z,Pa as l,Pb as j,Qb as h,S as z,Sb as v,T as E,Tb as b,X as y,Zb as G,_b as g,a as ne,aa as P,ab as D,ac as C,b as ie,ba as O,bc as re,db as I,ec as W,fb as f,fc as q,gc as Y,jc as J,ka as ue,kc as le,pa as M,qb as X,rb as T,sb as F,ub as ae,vb as Q,wb as R,xb as d,yb as a,zb as r}from"./chunk-G6MH4OCE.js";var We=`
    .p-card {
        background: dt('card.background');
        color: dt('card.color');
        box-shadow: dt('card.shadow');
        border-radius: dt('card.border.radius');
        display: flex;
        flex-direction: column;
    }

    .p-card-caption {
        display: flex;
        flex-direction: column;
        gap: dt('card.caption.gap');
    }

    .p-card-body {
        padding: dt('card.body.padding');
        display: flex;
        flex-direction: column;
        gap: dt('card.body.gap');
    }

    .p-card-title {
        font-size: dt('card.title.font.size');
        font-weight: dt('card.title.font.weight');
    }

    .p-card-subtitle {
        color: dt('card.subtitle.color');
    }
`;var nt=["header"],it=["title"],ot=["subtitle"],at=["content"],rt=["footer"],lt=["*",[["p-header"]],[["p-footer"]]],st=["*","p-header","p-footer"];function ct(t,i){t&1&&A(0)}function dt(t,i){if(t&1&&(a(0,"div"),j(1,1),f(2,ct,1,0,"ng-container",1),r()),t&2){let e=p();g(e.cx("header")),l(2),d("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function pt(t,i){if(t&1&&(N(0),c(1),L()),t&2){let e=p(2);l(),C(e.header)}}function ut(t,i){t&1&&A(0)}function mt(t,i){if(t&1&&(a(0,"div"),f(1,pt,2,1,"ng-container",2)(2,ut,1,0,"ng-container",1),r()),t&2){let e=p();g(e.cx("title")),l(),d("ngIf",e.header&&!e._titleTemplate&&!e.titleTemplate),l(),d("ngTemplateOutlet",e.titleTemplate||e._titleTemplate)}}function gt(t,i){if(t&1&&(N(0),c(1),L()),t&2){let e=p(2);l(),C(e.subheader)}}function ft(t,i){t&1&&A(0)}function _t(t,i){if(t&1&&(a(0,"div"),f(1,gt,2,1,"ng-container",2)(2,ft,1,0,"ng-container",1),r()),t&2){let e=p();g(e.cx("subtitle")),l(),d("ngIf",e.subheader&&!e._subtitleTemplate&&!e.subtitleTemplate),l(),d("ngTemplateOutlet",e.subtitleTemplate||e._subtitleTemplate)}}function yt(t,i){t&1&&A(0)}function ht(t,i){t&1&&A(0)}function vt(t,i){if(t&1&&(a(0,"div"),j(1,2),f(2,ht,1,0,"ng-container",1),r()),t&2){let e=p();g(e.cx("footer")),l(2),d("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var bt=`
    ${We}

    .p-card {
        display: block;
    }
`,Ct={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},qe=(()=>{class t extends B{name="card";theme=bt;classes=Ct;static \u0275fac=(()=>{let e;return function(n){return(e||(e=M(t)))(n||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var ce=(()=>{class t extends V{header;subheader;set style(e){ye(this._style(),e)||this._style.set(e)}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=ue(null);_componentStyle=y(qe);getBlockableElement(){return this.el.nativeElement.children[0]}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"title":this._titleTemplate=e.template;break;case"subtitle":this._subtitleTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=M(t)))(n||t)}})();static \u0275cmp=S({type:t,selectors:[["p-card"]],contentQueries:function(o,n,s){if(o&1&&(h(s,he,5),h(s,ve,5),h(s,nt,4),h(s,it,4),h(s,ot,4),h(s,at,4),h(s,rt,4),h(s,te,4)),o&2){let u;v(u=b())&&(n.headerFacet=u.first),v(u=b())&&(n.footerFacet=u.first),v(u=b())&&(n.headerTemplate=u.first),v(u=b())&&(n.titleTemplate=u.first),v(u=b())&&(n.subtitleTemplate=u.first),v(u=b())&&(n.contentTemplate=u.first),v(u=b())&&(n.footerTemplate=u.first),v(u=b())&&(n.templates=u)}},hostVars:5,hostBindings:function(o,n){o&2&&(X("data-pc-name","card"),G(n._style()),g(n.cn(n.cx("root"),n.styleClass)))},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[J([qe]),I],ngContentSelectors:st,decls:8,vars:9,consts:[[3,"class",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"]],template:function(o,n){o&1&&(Z(lt),f(0,dt,3,3,"div",0),a(1,"div"),f(2,mt,3,4,"div",0)(3,_t,3,4,"div",0),a(4,"div"),j(5),f(6,yt,1,0,"ng-container",1),r(),f(7,vt,3,3,"div",0),r()),o&2&&(d("ngIf",n.headerFacet||n.headerTemplate||n._headerTemplate),l(),g(n.cx("body")),l(),d("ngIf",n.header||n.titleTemplate||n._titleTemplate),l(),d("ngIf",n.subheader||n.subtitleTemplate||n._subtitleTemplate),l(),g(n.cx("content")),l(2),d("ngTemplateOutlet",n.contentTemplate||n._contentTemplate),l(),d("ngIf",n.footerFacet||n.footerTemplate||n._footerTemplate))},dependencies:[k,K,ee,w],encapsulation:2,changeDetection:0})}return t})(),Ye=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=D({type:t});static \u0275inj=E({imports:[ce,w,w]})}return t})();var He=`
    .p-tag {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: dt('tag.primary.background');
        color: dt('tag.primary.color');
        font-size: dt('tag.font.size');
        font-weight: dt('tag.font.weight');
        padding: dt('tag.padding');
        border-radius: dt('tag.border.radius');
        gap: dt('tag.gap');
    }

    .p-tag-icon {
        font-size: dt('tag.icon.size');
        width: dt('tag.icon.size');
        height: dt('tag.icon.size');
    }

    .p-tag-rounded {
        border-radius: dt('tag.rounded.border.radius');
    }

    .p-tag-success {
        background: dt('tag.success.background');
        color: dt('tag.success.color');
    }

    .p-tag-info {
        background: dt('tag.info.background');
        color: dt('tag.info.color');
    }

    .p-tag-warn {
        background: dt('tag.warn.background');
        color: dt('tag.warn.color');
    }

    .p-tag-danger {
        background: dt('tag.danger.background');
        color: dt('tag.danger.color');
    }

    .p-tag-secondary {
        background: dt('tag.secondary.background');
        color: dt('tag.secondary.color');
    }

    .p-tag-contrast {
        background: dt('tag.contrast.background');
        color: dt('tag.contrast.color');
    }
`;var xt=["icon"],Mt=["*"];function St(t,i){if(t&1&&x(0,"span",3),t&2){let e=p(2);g(e.cx("icon")),d("ngClass",e.icon)}}function Tt(t,i){if(t&1&&(N(0),f(1,St,1,3,"span",2),L()),t&2){let e=p();l(),d("ngIf",e.icon)}}function Ft(t,i){}function kt(t,i){t&1&&f(0,Ft,0,0,"ng-template")}function Pt(t,i){if(t&1&&(a(0,"span"),f(1,kt,1,0,null,4),r()),t&2){let e=p();g(e.cx("icon")),l(),d("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)}}var Ot={root:({instance:t})=>["p-tag p-component",{"p-tag-info":t.severity==="info","p-tag-success":t.severity==="success","p-tag-warn":t.severity==="warn","p-tag-danger":t.severity==="danger","p-tag-secondary":t.severity==="secondary","p-tag-contrast":t.severity==="contrast","p-tag-rounded":t.rounded}],icon:"p-tag-icon",label:"p-tag-label"},Ue=(()=>{class t extends B{name="tag";theme=He;classes=Ot;static \u0275fac=(()=>{let e;return function(n){return(e||(e=M(t)))(n||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var de=(()=>{class t extends V{styleClass;severity;value;icon;rounded;iconTemplate;templates;_iconTemplate;_componentStyle=y(Ue);ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"icon":this._iconTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=M(t)))(n||t)}})();static \u0275cmp=S({type:t,selectors:[["p-tag"]],contentQueries:function(o,n,s){if(o&1&&(h(s,xt,4),h(s,te,4)),o&2){let u;v(u=b())&&(n.iconTemplate=u.first),v(u=b())&&(n.templates=u)}},hostVars:2,hostBindings:function(o,n){o&2&&g(n.cn(n.cx("root"),n.styleClass))},inputs:{styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[2,"rounded","rounded",me]},features:[J([Ue]),I],ngContentSelectors:Mt,decls:5,vars:5,consts:[[4,"ngIf"],[3,"class",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(o,n){o&1&&(Z(),j(0),f(1,Tt,2,1,"ng-container",0)(2,Pt,2,3,"span",1),a(3,"span"),c(4),r()),o&2&&(l(),d("ngIf",!n.iconTemplate&&!n._iconTemplate),l(),d("ngIf",n.iconTemplate||n._iconTemplate),l(),g(n.cx("label")),l(),C(n.value))},dependencies:[k,ge,K,ee,w],encapsulation:2,changeDetection:0})}return t})(),Xe=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=D({type:t});static \u0275inj=E({imports:[de,w,w]})}return t})();var $e=`
    .p-skeleton {
        display: block;
        overflow: hidden;
        background: dt('skeleton.background');
        border-radius: dt('skeleton.border.radius');
    }

    .p-skeleton::after {
        content: '';
        animation: p-skeleton-animation 1.2s infinite;
        height: 100%;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translateX(-100%);
        z-index: 1;
        background: linear-gradient(90deg, rgba(255, 255, 255, 0), dt('skeleton.animation.background'), rgba(255, 255, 255, 0));
    }

    [dir='rtl'] .p-skeleton::after {
        animation-name: p-skeleton-animation-rtl;
    }

    .p-skeleton-circle {
        border-radius: 50%;
    }

    .p-skeleton-animation-none::after {
        animation: none;
    }

    @keyframes p-skeleton-animation {
        from {
            transform: translateX(-100%);
        }
        to {
            transform: translateX(100%);
        }
    }

    @keyframes p-skeleton-animation-rtl {
        from {
            transform: translateX(100%);
        }
        to {
            transform: translateX(-100%);
        }
    }
`;var Et={root:{position:"relative"}},Dt={root:({instance:t})=>["p-skeleton p-component",{"p-skeleton-circle":t.shape==="circle","p-skeleton-animation-none":t.animation==="none"}]},Ze=(()=>{class t extends B{name="skeleton";theme=$e;classes=Dt;inlineStyles=Et;static \u0275fac=(()=>{let e;return function(n){return(e||(e=M(t)))(n||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var pe=(()=>{class t extends V{styleClass;shape="rectangle";animation="wave";borderRadius;size;width="100%";height="1rem";_componentStyle=y(Ze);get containerStyle(){let e=this._componentStyle?.inlineStyles.root,o;return this.size?o=ie(ne({},e),{width:this.size,height:this.size,borderRadius:this.borderRadius}):o=ie(ne({},e),{width:this.width,height:this.height,borderRadius:this.borderRadius}),o}static \u0275fac=(()=>{let e;return function(n){return(e||(e=M(t)))(n||t)}})();static \u0275cmp=S({type:t,selectors:[["p-skeleton"]],hostVars:7,hostBindings:function(o,n){o&2&&(X("aria-hidden",!0)("data-pc-name","skeleton")("data-pc-section","root"),G(n.containerStyle),g(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},features:[J([Ze]),I],decls:0,vars:0,template:function(o,n){},dependencies:[k,w],encapsulation:2,changeDetection:0})}return t})(),Ge=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=D({type:t});static \u0275inj=E({imports:[pe,w,w]})}return t})();var At=()=>[1,2,3,4,5,6],jt=()=>[6,12,24,48],et=(t,i)=>i.id||i.slug;function Jt(t,i){if(t&1){let e=$();a(0,"div",24),_("click",function(){let n=P(e).$implicit,s=p(2);return O(s.viewCompany(n.slug||n.id))}),a(1,"img",25),_("error",function(n){P(e);let s=p(2);return O(s.handleImageError(n))}),r(),a(2,"div",26),c(3),r(),a(4,"div",27),c(5),r()()}if(t&2){let e=i.$implicit;l(),d("src",e.logo,oe)("alt",e.name)("title",e.name),l(2),C(e.name),l(2),re("",e.openJobs," \u0648\u0638\u0627\u0626\u0641 \u0645\u062A\u0627\u062D\u0629")}}function Bt(t,i){if(t&1&&(a(0,"section",19)(1,"div",1)(2,"h2",21),c(3,"\u0627\u0644\u0634\u0631\u0643\u0627\u062A \u0627\u0644\u0645\u0645\u064A\u0632\u0629"),r(),a(4,"div",22),Q(5,Jt,6,5,"div",23,et),r()()()),t&2){let e=p();l(5),R(e.featuredCompanies)}}function Vt(t,i){t&1&&(a(0,"p-card",30)(1,"div",31),x(2,"p-skeleton",32),a(3,"div",33),x(4,"p-skeleton",34)(5,"p-skeleton",35),r()(),x(6,"p-skeleton",36)(7,"p-skeleton",37),r())}function Qt(t,i){t&1&&(a(0,"section",20)(1,"div",1)(2,"div",28)(3,"p"),c(4,"\u062C\u0627\u0631\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0634\u0631\u0643\u0627\u062A..."),r()(),a(5,"div",29),Q(6,Vt,8,0,"p-card",30,ae),r()()()),t&2&&(l(6),R(le(0,At)))}function Rt(t,i){if(t&1&&x(0,"p-tag",57),t&2){let e=i.$implicit;d("value",e)}}function Nt(t,i){if(t&1&&(a(0,"div",49),Q(1,Rt,1,1,"p-tag",57,ae),r()),t&2){let e=p().$implicit;l(),R(e.tags)}}function Lt(t,i){if(t&1&&(a(0,"div",51)(1,"div",52),c(2),r(),a(3,"div",53),c(4,"\u0645\u0648\u0638\u0641"),r()()),t&2){let e=p().$implicit;l(2),C(e.employees)}}function Wt(t,i){if(t&1&&(a(0,"div",51)(1,"div",52),c(2),r(),a(3,"div",53),c(4,"\u0645\u062A\u0627\u0628\u0639"),r()()),t&2){let e=p().$implicit;l(2),C(e.followers)}}function qt(t,i){if(t&1){let e=$();a(0,"p-card",38)(1,"div",41)(2,"div",42)(3,"img",43),_("error",function(n){P(e);let s=p(2);return O(s.handleImageError(n))}),r(),a(4,"div",44)(5,"h3"),c(6),r(),x(7,"p-tag",45),a(8,"div",46),c(9),r()()()(),a(10,"div",47)(11,"p",48),c(12),r(),T(13,Nt,3,0,"div",49),a(14,"div",50),T(15,Lt,5,1,"div",51),a(16,"div",51)(17,"div",52),c(18),r(),a(19,"div",53),c(20,"\u0648\u0638\u064A\u0641\u0629 \u0645\u062A\u0627\u062D\u0629"),r()(),T(21,Wt,5,1,"div",51),r(),a(22,"div",54)(23,"p-button",55),_("onClick",function(){let n=P(e).$implicit,s=p(2);return O(s.toggleFollow(n.slug||n.id))}),r(),a(24,"p-button",56),_("onClick",function(){let n=P(e).$implicit,s=p(2);return O(s.viewCompany(n.slug||n.id))}),r()()()()}if(t&2){let e=i.$implicit;l(3),d("src",e.logo,oe)("alt",e.name)("title",e.name),l(3),C(e.name),l(),d("value",e.industry),l(2),re("\u{1F4CD} ",e.location),l(3),C(e.description),l(),F(e.tags&&e.tags.length>0?13:-1),l(2),F(e.employees?15:-1),l(3),C(e.openJobs),l(3),F(e.followers>0?21:-1),l(2),d("label",e.following?"\u0645\u062A\u0627\u0628\u0639":"\u0645\u062A\u0627\u0628\u0639\u0629")("icon",e.following?"pi pi-check":"pi pi-plus")("severity",e.following?"success":"secondary")("outlined",!e.following)}}function Yt(t,i){if(t&1){let e=$();a(0,"section",20)(1,"div",1)(2,"div",29),Q(3,qt,25,15,"p-card",38,et),r(),a(5,"div",39)(6,"p-paginator",40),_("onPageChange",function(n){P(e);let s=p();return O(s.onPageChange(n))}),r()()()()}if(t&2){let e=p();l(3),R(e.companiesData),l(3),d("rows",e.pageSize)("totalRecords",e.totalCount)("first",(e.currentPage-1)*e.pageSize)("rowsPerPageOptions",le(4,jt))}}function Ht(t,i){t&1&&(a(0,"section",20)(1,"div",1)(2,"div",58)(3,"p"),c(4,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0634\u0631\u0643\u0627\u062A \u0645\u062A\u0627\u062D\u0629"),r()()()())}var Ke=class t{companyDataService=y(Ee);companyService=y(Re);router=y(fe);toastr=y(we);errors=y(Se);companiesData=[];featuredCompanies=[];loading=!1;totalCount=0;currentPage=1;pageSize=6;industryFilter=null;locationFilter=null;sizeFilter=null;searchTerm="";INDUSTRY_TYPES=H;COMPANY_SIZES=U;cities=[{label:"\u0635\u0646\u0639\u0627\u0621",value:"sanaa"},{label:"\u0639\u062F\u0646",value:"aden"},{label:"\u062A\u0639\u0632",value:"taiz"},{label:"\u0627\u0644\u062D\u062F\u064A\u062F\u0629",value:"hodeidah"},{label:"\u0625\u0628",value:"ibb"},{label:"\u0630\u0645\u0627\u0631",value:"dhamar"},{label:"\u0627\u0644\u0645\u0643\u0644\u0627",value:"mukalla"}];industryOptions=[{label:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A",value:null},...H.map(i=>({label:i.label,value:i.value}))];cityOptions=[{label:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u062F\u0646",value:null},...this.cities];sizeOptions=[{label:"\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u062D\u062C\u0627\u0645",value:null},...U.map(i=>({label:i.label,value:i.value}))];ngOnInit(){this.loadCompanies()}loadCompanies(){this.loading=!0;let i={page:this.currentPage,page_size:this.pageSize};this.searchTerm&&(i.search=this.searchTerm),this.industryFilter&&(i.industry=this.industryFilter),this.locationFilter&&(i.city=this.locationFilter),this.sizeFilter&&(i.size=this.sizeFilter),this.companyDataService.getAllCompanies(i).subscribe({next:e=>{this.companiesData=(e.results||[]).map(o=>this.mapToDisplay(o)),this.totalCount=e.count||0,this.loadFeaturedCompanies(),this.loading=!1},error:e=>{this.errors.error(e,{join:!0}),this.loading=!1}})}loadFeaturedCompanies(){this.companyDataService.getAllCompanies({is_featured:!0,page_size:4}).subscribe({next:i=>{this.featuredCompanies=(i.results||[]).map(e=>this.mapToDisplay(e))},error:i=>{console.error("Failed to load featured companies",i)}})}mapToDisplay(i){let e=H.find(n=>n.value===i.industry)?.label||i.industry,o=U.find(n=>n.value===i.size)?.label||i.size;return{id:i.id,slug:i.slug,name:i.name,industry:e,location:i.city||i.country||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F",logo:this.getCompanyLogo(i.logo),description:i.description||"",employees:i.employees_count,openJobs:i.active_jobs||0,followers:i.followers_count||0,tags:[],size:o,featured:i.is_featured||!1,following:i.is_following||!1}}getCompanyLogo(i){return i?i.startsWith("http")||i.startsWith("blob:")||i.startsWith("data:")?i:`${Ce.apiBaseUrl.replace(/\/+$/,"")}/${i.replace(/^\/+/,"")}`:"images/company-logo-1.jpg"}viewCompany(i){if(!i)return;let e=this.companiesData.find(o=>o.slug&&o.slug===i||o.id&&o.id.toString()===i.toString());e?.slug?this.router.navigate(["/company",e.slug]):this.router.navigate(["/companies/company-profile"])}applyFilters(){this.currentPage=1,this.loadCompanies()}onPageChange(i){this.currentPage=i.page+1,this.pageSize=i.rows,this.loadCompanies()}toggleFollow(i){if(!i)return;let e=this.companiesData.find(m=>m.id&&m.id.toString()===i.toString()||m.slug&&m.slug===i);if(e||(e=this.featuredCompanies.find(m=>m.id&&m.id.toString()===i.toString()||m.slug&&m.slug===i)),!e||!e.id){this.toastr.error("\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0634\u0631\u0643\u0629");return}let o=e.following,n=e.followers;e.following=!o,e.followers=o?Math.max(0,n-1):n+1;let s=e===this.companiesData.find(m=>m.id===e.id)?this.featuredCompanies.find(m=>m.id===e.id):this.companiesData.find(m=>m.id===e.id);s&&s!==e&&(s.following=e.following,s.followers=e.followers),(o?this.companyService.unfollowCompany(e.id):this.companyService.followCompany(e.id)).subscribe({next:()=>{this.toastr.success(o?"\u062A\u0645 \u0625\u0644\u063A\u0627\u0621 \u0645\u062A\u0627\u0628\u0639\u0629 \u0627\u0644\u0634\u0631\u0643\u0629":"\u062A\u0645 \u0645\u062A\u0627\u0628\u0639\u0629 \u0627\u0644\u0634\u0631\u0643\u0629 \u0628\u0646\u062C\u0627\u062D")},error:m=>{e.following=o,e.followers=n,s&&(s.following=o,s.followers=n),this.errors.error(m,{join:!0})}})}getIndustryLabel(i){let e=H.find(o=>o.value===i);return e?e.label:i}getSizeLabel(i){let e=U.find(o=>o.value===i);return e?e.label:i}handleImageError(i){let e=i.target;e&&(e.src="images/company-logo-1.jpg")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-search-for-job"]],decls:56,vars:14,consts:[[1,"companies-hero"],[1,"container"],[1,"companies-search"],["iconPosition","left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","\u0627\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u0634\u0631\u0643\u0627\u062A...",1,"w-full",3,"ngModelChange","input","ngModel"],["label","\u0628\u062D\u062B","icon","pi pi-search","styleClass","p-button-primary",3,"onClick"],[1,"companies-filters"],[1,"filters-container"],[1,"filter-group"],["optionLabel","label","optionValue","value","placeholder","\u062C\u0645\u064A\u0639 \u0627\u0644\u0642\u0637\u0627\u0639\u0627\u062A","styleClass","w-full",3,"ngModelChange","onChange","options","ngModel","showClear"],["optionLabel","label","optionValue","value","placeholder","\u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u062F\u0646","styleClass","w-full",3,"ngModelChange","onChange","options","ngModel","showClear"],["optionLabel","label","optionValue","value","placeholder","\u062C\u0645\u064A\u0639 \u0627\u0644\u0623\u062D\u062C\u0627\u0645","styleClass","w-full",3,"ngModelChange","onChange","options","ngModel","showClear"],["label","\u062A\u0637\u0628\u064A\u0642 \u0627\u0644\u0641\u0644\u0627\u062A\u0631","icon","pi pi-filter","styleClass","p-button-primary",3,"onClick"],[1,"companies-stats"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],[1,"featured-companies"],[1,"companies-section"],[1,"featured-title"],[1,"featured-grid"],[1,"featured-company"],[1,"featured-company",3,"click"],[1,"featured-logo",3,"error","src","alt","title"],[1,"featured-name"],[1,"featured-jobs"],[1,"loading-state"],[1,"companies-grid"],["styleClass","company-card-skeleton"],[1,"skeleton-content"],["width","80px","height","80px","shape","circle"],[1,"skeleton-text"],["width","60%","height","1.5rem","styleClass","mb-2"],["width","40%","height","1rem"],["width","100%","height","3rem","styleClass","mb-2"],["width","100%","height","3rem"],["styleClass","company-card"],[1,"pagination-container"],[3,"onPageChange","rows","totalRecords","first","rowsPerPageOptions"],[1,"company-header"],[1,"company-info"],[1,"company-logo",3,"error","src","alt","title"],[1,"company-details"],["severity","info","styleClass","mb-2",3,"value"],[1,"company-location"],[1,"company-body"],[1,"company-description"],[1,"company-tags"],[1,"company-stats-row"],[1,"company-stat"],[1,"company-stat-number"],[1,"company-stat-label"],[1,"company-actions"],["styleClass","p-button-sm",3,"onClick","label","icon","severity","outlined"],["label","\u0639\u0631\u0636 \u0627\u0644\u0648\u0638\u0627\u0626\u0641","icon","pi pi-briefcase","styleClass","p-button-primary p-button-sm",3,"onClick"],["severity","secondary",3,"value"],[1,"empty-state"]],template:function(e,o){e&1&&(a(0,"section",0)(1,"div",1)(2,"h1"),c(3,"\u0627\u0643\u062A\u0634\u0641 \u0623\u0641\u0636\u0644 \u0627\u0644\u0634\u0631\u0643\u0627\u062A"),r(),a(4,"p"),c(5,"\u062A\u0635\u0641\u062D \u0627\u0644\u0634\u0631\u0643\u0627\u062A \u0627\u0644\u0631\u0627\u0626\u062F\u0629 \u0641\u064A \u0627\u0644\u064A\u0645\u0646 \u0648\u0627\u0643\u062A\u0634\u0641 \u0627\u0644\u0641\u0631\u0635 \u0627\u0644\u0648\u0638\u064A\u0641\u064A\u0629 \u0627\u0644\u0645\u062A\u0627\u062D\u0629"),r(),a(6,"div",2)(7,"p-iconfield",3)(8,"p-inputicon"),x(9,"i",4),r(),a(10,"input",5),Y("ngModelChange",function(s){return q(o.searchTerm,s)||(o.searchTerm=s),s}),_("input",function(){return o.applyFilters()}),r()(),a(11,"p-button",6),_("onClick",function(){return o.applyFilters()}),r()()()(),a(12,"section",7)(13,"div",1)(14,"div",8)(15,"div",9)(16,"label"),c(17,"\u0627\u0644\u0642\u0637\u0627\u0639:"),r(),a(18,"p-select",10),Y("ngModelChange",function(s){return q(o.industryFilter,s)||(o.industryFilter=s),s}),_("onChange",function(){return o.applyFilters()}),r()(),a(19,"div",9)(20,"label"),c(21,"\u0627\u0644\u0645\u062F\u064A\u0646\u0629:"),r(),a(22,"p-select",11),Y("ngModelChange",function(s){return q(o.locationFilter,s)||(o.locationFilter=s),s}),_("onChange",function(){return o.applyFilters()}),r()(),a(23,"div",9)(24,"label"),c(25,"\u062D\u062C\u0645 \u0627\u0644\u0634\u0631\u0643\u0629:"),r(),a(26,"p-select",12),Y("ngModelChange",function(s){return q(o.sizeFilter,s)||(o.sizeFilter=s),s}),_("onChange",function(){return o.applyFilters()}),r()(),a(27,"p-button",13),_("onClick",function(){return o.applyFilters()}),r()()()(),a(28,"section",14)(29,"div",1)(30,"div",15)(31,"div",16)(32,"div",17),c(33,"250+"),r(),a(34,"div",18),c(35,"\u0634\u0631\u0643\u0629 \u0645\u0633\u062C\u0644\u0629"),r()(),a(36,"div",16)(37,"div",17),c(38,"1,500+"),r(),a(39,"div",18),c(40,"\u0648\u0638\u064A\u0641\u0629 \u0645\u062A\u0627\u062D\u0629"),r()(),a(41,"div",16)(42,"div",17),c(43,"15"),r(),a(44,"div",18),c(45,"\u0642\u0637\u0627\u0639 \u0645\u062E\u062A\u0644\u0641"),r()(),a(46,"div",16)(47,"div",17),c(48,"8"),r(),a(49,"div",18),c(50,"\u0645\u062D\u0627\u0641\u0638\u0629"),r()()()()(),T(51,Bt,7,0,"section",19),T(52,Qt,8,1,"section",20),T(53,Yt,7,5,"section",20),T(54,Ht,5,0,"section",20),x(55,"app-footer")),e&2&&(l(10),W("ngModel",o.searchTerm),l(8),d("options",o.industryOptions),W("ngModel",o.industryFilter),d("showClear",!0),l(4),d("options",o.cityOptions),W("ngModel",o.locationFilter),d("showClear",!0),l(4),d("options",o.sizeOptions),W("ngModel",o.sizeFilter),d("showClear",!0),l(25),F(o.featuredCompanies.length>0?51:-1),l(),F(o.loading?52:-1),l(),F(!o.loading&&o.companiesData.length>0?53:-1),l(),F(!o.loading&&o.companiesData.length===0?54:-1))},dependencies:[k,Pe,Te,Fe,ke,_e,ze,be,xe,Ie,De,Qe,Ve,Me,Ye,ce,Xe,de,Le,Ne,Ge,pe,Oe,je,Ae,Be,Je],styles:[".companies-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 100%);color:var(--white);padding:4rem 0;text-align:center}.companies-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--font-size-4xl);font-weight:700;margin-bottom:1rem}.companies-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-lg);margin-bottom:2rem;opacity:.9}.companies-search[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;position:relative}.companies-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:1rem 3rem 1rem 1rem;border:none;border-radius:var(--radius-lg);font-size:var(--font-size-base);box-shadow:var(--shadow-lg)}.companies-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;left:.5rem;top:50%;transform:translateY(-50%);background:var(--primary-color);color:var(--white);border:none;padding:.75rem 1.5rem;border-radius:var(--radius-md);cursor:pointer}.companies-filters[_ngcontent-%COMP%]{background:var(--white);padding:2rem 0;border-bottom:1px solid var(--gray-200)}.filters-container[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;flex-wrap:wrap}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.filter-select[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--gray-300);border-radius:var(--radius-md);background:var(--white);cursor:pointer}.companies-stats[_ngcontent-%COMP%]{background:var(--gray-50);padding:1.5rem 0;text-align:center}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:2rem;max-width:800px;margin:0 auto}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-number[_ngcontent-%COMP%]{font-size:var(--font-size-3xl);font-weight:700;color:var(--primary-color);margin-bottom:.5rem}.stat-label[_ngcontent-%COMP%]{color:var(--gray-600);font-size:var(--font-size-sm)}.companies-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:2rem;padding:2rem 0}.company-card[_ngcontent-%COMP%]{background:var(--white);border-radius:var(--radius-lg);box-shadow:var(--shadow-sm);border:1px solid var(--gray-200);overflow:hidden;transition:all var(--transition-fast);cursor:pointer}.company-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}.company-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--gray-100)}.company-info[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start}.company-logo[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:var(--radius-lg);object-fit:cover;border:2px solid var(--gray-100)}.company-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--font-size-lg);font-weight:600;margin-bottom:.5rem;color:var(--gray-900)}.company-industry[_ngcontent-%COMP%]{color:var(--gray-600);font-size:var(--font-size-sm);margin-bottom:.5rem}.company-location[_ngcontent-%COMP%]{color:var(--gray-500);font-size:var(--font-size-sm);display:flex;align-items:center;gap:.25rem}.company-body[_ngcontent-%COMP%]{padding:1.5rem}.company-description[_ngcontent-%COMP%]{color:var(--gray-700);font-size:var(--font-size-sm);line-height:1.6;margin-bottom:1rem}.company-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}.company-tag[_ngcontent-%COMP%]{background:var(--primary-light);color:var(--white);padding:.25rem .75rem;border-radius:var(--radius-lg);font-size:var(--font-size-xs);font-weight:500}.company-stats-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.company-stat[_ngcontent-%COMP%]{text-align:center}.company-stat-number[_ngcontent-%COMP%]{font-weight:600;color:var(--gray-900);font-size:var(--font-size-base)}.company-stat-label[_ngcontent-%COMP%]{color:var(--gray-600);font-size:var(--font-size-xs)}.company-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.btn-follow[_ngcontent-%COMP%]{flex:1;background:var(--white);color:var(--primary-color);border:2px solid var(--primary-color);padding:.5rem 1rem;border-radius:var(--radius-md);font-size:var(--font-size-sm);font-weight:500;cursor:pointer;transition:all var(--transition-fast)}.btn-follow[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:var(--white)}.btn-follow.following[_ngcontent-%COMP%]{background:var(--success-color);color:var(--white);border-color:var(--success-color)}.btn-view-jobs[_ngcontent-%COMP%]{flex:1;background:var(--primary-color);color:var(--white);border:none;padding:.5rem 1rem;border-radius:var(--radius-md);font-size:var(--font-size-sm);font-weight:500;cursor:pointer;transition:all var(--transition-fast)}.btn-view-jobs[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.featured-companies[_ngcontent-%COMP%]{background:var(--gray-50);padding:3rem 0;margin:2rem 0}.featured-title[_ngcontent-%COMP%]{text-align:center;font-size:var(--font-size-2xl);font-weight:700;margin-bottom:2rem;color:var(--gray-900)}.featured-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;max-width:1000px;margin:0 auto}.featured-company[_ngcontent-%COMP%]{background:var(--white);padding:2rem 1rem;border-radius:var(--radius-lg);text-align:center;box-shadow:var(--shadow-sm);transition:all var(--transition-fast);cursor:pointer}.featured-company[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}.featured-logo[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:var(--radius-md);object-fit:cover;margin:0 auto 1rem}.featured-name[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;color:var(--gray-900)}.featured-jobs[_ngcontent-%COMP%]{color:var(--primary-color);font-size:var(--font-size-sm);font-weight:500}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.5rem;margin:3rem 0}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--gray-300);background:var(--white);color:var(--gray-700);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast)}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .pagination[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--primary-color);color:var(--white);border-color:var(--primary-color)}@media (max-width: 768px){.companies-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--font-size-2xl)}.companies-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.filters-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filter-group[_ngcontent-%COMP%]{justify-content:space-between}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem}.featured-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]})};export{Ke as SearchForJob};
